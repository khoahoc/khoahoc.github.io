<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="SudoSys.com Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="SudoSys.com Blog Atom Feed"><title data-react-helmet="true">OpenNDS Hoáº¡t Äá»™ng NhÆ° Tháº¿ NÃ o | SudoSys.com</title><meta data-react-helmet="true" property="og:title" content="OpenNDS Hoáº¡t Äá»™ng NhÆ° Tháº¿ NÃ o | SudoSys.com"><meta data-react-helmet="true" name="description" content="GIá»šI THIá»†U"><meta data-react-helmet="true" property="og:description" content="GIá»šI THIá»†U"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/styles.412d942f.css">
<link rel="preload" href="/styles.21c8417a.js" as="script">
<link rel="preload" href="/runtime~main.ced82d51.js" as="script">
<link rel="preload" href="/main.46f641bd.js" as="script">
<link rel="preload" href="/1.7da52d14.js" as="script">
<link rel="preload" href="/2.b2941da6.js" as="script">
<link rel="preload" href="/ccc49370.6bb6f087.js" as="script">
<link rel="preload" href="/94c458fa.2f515f99.js" as="script">
<link rel="preload" href="/5792051d.ac6297f1.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">SudoSys.com</strong></a><a class="navbar__item navbar__link" href="/docs/">TÃ i Liá»‡u HÆ°á»›ng Dáº«n</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog CÃ¡ NhÃ¢n</a><a href="#" class="navbar__item navbar__link">á»¦ng Há»™</a><a href="mailto: cuongpv@sudosys.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LiÃªn Há»‡</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/khoahoc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ğŸŒ</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">SudoSys.com</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">TÃ i Liá»‡u HÆ°á»›ng Dáº«n</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">Blog CÃ¡ NhÃ¢n</a></li><li class="menu__list-item"><a href="#" class="menu__link">á»¦ng Há»™</a></li><li class="menu__list-item"><a href="mailto: cuongpv@sudosys.com" target="_blank" rel="noopener noreferrer" class="menu__link">LiÃªn Há»‡</a></li><li class="menu__list-item"><a href="https://github.com/khoahoc" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--2"><div class="sidebar_SWld thin-scrollbar"><h3 class="sidebarItemTitle_Km2m">Recent posts</h3><ul class="sidebarItemList_3UpA"><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/system-architect">System Architect</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/wifi-provision">Wifi Provision</a></li><li class="sidebarItem_2T0D"><a aria-current="page" class="sidebarItemLink_v5H9 sidebarItemLinkActive_1anX" href="/blog/opennds-hoat-dong-nhu-the-nao">OpenNDS Hoáº¡t Äá»™ng NhÆ° Tháº¿ NÃ o</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/huong-dan-cai-dat-firmware-OpenWRT">HÆ°á»›ng Dáº«n CÃ i Äáº·t Firmware OpenWRT</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/ky-thuat-cham-cong">Ká»¹ Thuáº­t Cháº¥m CÃ´ng</a></li></ul></div></div><main class="col col--8"><article><header><h1 class="margin-bottom--sm blogPostTitle_3-lP">OpenNDS Hoáº¡t Äá»™ng NhÆ° Tháº¿ NÃ o</h1><div class="margin-vert--md"><time datetime="2021-03-03T00:00:00.000Z" class="blogPostDate_Ta7i">March 3, 2021  Â· 14 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" target="_blank" rel="noreferrer noopener"><img src="/img/falundafa_avatar.jpg" alt="Hacker 6009"></a><div class="avatar__intro"><h4 class="avatar__name"><a target="_blank" rel="noreferrer noopener">Hacker 6009</a></h4><small class="avatar__subtitle">Blog Admin</small></div></div></header><section class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="giá»›i-thiá»‡u"></a>GIá»šI THIá»†U<a class="hash-link" href="#giá»›i-thiá»‡u" title="Direct link to heading">#</a></h2><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Ná»™i dung Ä‘Æ°á»£c dá»‹ch bá»Ÿi tÃ¡c giáº£ táº¡i <a href="https://openwrt.org/docs/guide-user/services/captive-portal/opennds" target="_blank" rel="noopener noreferrer">trang chá»§ OpenNDS</a> kÃ¨m vá»›i kiáº¿n thá»©c háº¡n háº¹p cá»§a báº£n thÃ¢n</p></div></div><p>OpenNDS Ä‘Æ°á»£c tÃ¡ch ra tá»« phiÃªn báº£n 4.5.0 cá»§a <a href="https://github.com/nodogsplash/nodogsplash" target="_blank" rel="noopener noreferrer">Nodogsplash</a> thÃ nh hai gÃ³i Ä‘á»ƒ dá»… dÃ ng phÃ¡t triá»ƒn Forward Authentication Service (FAS) API.</p><p>Máº·c dÃ¹ cÃ³ API FAS , openNDS váº«n Ä‘Æ°á»£c tá»‘i Æ°u hÃ³a Ä‘á»ƒ giáº£m sá»­ dá»¥ng tÃ i nguyÃªn trÃªn bá»™ Ä‘á»‹nh tuyáº¿n. NhÃ¬n chung, tá»‘i thiá»ƒu 16MB Flash vÃ  64MB RAM lÃ  Ä‘á»§ cho cÃ¡c cháº¿ Ä‘á»™ hoáº¡t Ä‘á»™ng cÆ¡ báº£n.</p><p>Viá»‡c sá»­ dá»¥ng API FAS nÃ¢ng cao cÃ³ thá»ƒ thÃªm cÃ¡c gÃ³i bá»• sung vÃ  má»™t chÃºt tÃ i nguyÃªn liÃªn quan Ä‘áº¿n Flash vÃ  RAM.</p><p>LÆ°u Ã½ : Tá»« phiÃªn báº£n openNDS v7.0.0 trá»Ÿ Ä‘i, trang templated splash cÅ© khÃ´ng Ä‘Æ°á»£c dÃ¹ng ná»¯a vÃ  bá»‹ vÃ´ hiá»‡u hÃ³a, Ä‘Æ°á»£c thay tháº¿ báº±ng html Ä‘á»™ng Ä‘Æ°á»£c táº¡o bá»Ÿi login script, vá»›i ráº¥t Ã­t thay Ä‘á»•i vá» nhu cáº§u Flash hoáº·c RAM.</p><p><em>openNDS is released under the GNU General Public License.</em></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="cÃ¡ch-opennds-nds-hoáº¡t-Ä‘á»™ng"></a>CÃCH OPENNDS (NDS) HOáº T Äá»˜NG<a class="hash-link" href="#cÃ¡ch-opennds-nds-hoáº¡t-Ä‘á»™ng" title="Direct link to heading">#</a></h2><p>openNDS lÃ  má»™t Captive Portal Engine. Báº¥t ká»³ Captive Portal nÃ o, bao gá»“m cáº£ NDS, Ä‘á»u cÃ³ hai thÃ nh pháº§n chÃ­nh:</p><ul><li>Má»™t cÃ´ng cá»¥ thá»±c hiá»‡n viá»‡c capturing</li><li>Má»™t cÃ´ng cá»¥ cung cáº¥p má»™t Portal cho ngÆ°á»i dÃ¹ng, khÃ¡ch hÃ ng Ä‘Äƒng nháº­p.</li></ul><p>openNDS <strong>PHáº¢I</strong> cháº¡y trÃªn thiáº¿t bá»‹ Ä‘Ã£ Ä‘Æ°á»£c cáº¥u hÃ¬nh IPv4.</p><p>Má»™t bá»™ wireless router thÆ°á»ng sáº½ cháº¡y OpenWrt hoáº·c má»™t sá»‘ báº£n phÃ¢n phá»‘i Linux khÃ¡c.</p><p>Theo Ä‘á»‹nh nghÄ©a, má»™t bá»™ router sáº½ cÃ³ hai hoáº·c nhiá»u interfaces, Ã­t nháº¥t má»™t interface Ä‘á»ƒ káº¿t ná»‘i vá»›i máº¡ng diá»‡n rá»™ng (WAN) hoáº·c nguá»“n cáº¥p dá»¯ liá»‡u Internet vÃ  Ã­t nháº¥t má»™t interface káº¿t ná»‘i vá»›i máº¡ng cá»¥c bá»™ (LAN).</p><p>Má»—i LAN interface cÅ©ng pháº£i hoáº¡t Ä‘á»™ng nhÆ° Default IP Gateway cho máº¡ng LAN cá»§a nÃ³, lÃ½ tÆ°á»Ÿng nháº¥t lÃ  vá»›i interface cung cáº¥p DHCP cho cÃ¡c thiáº¿t bá»‹ khÃ¡ch sá»­ dá»¥ng.</p><p>Nhiá»u interface LAN cÃ³ thá»ƒ Ä‘Æ°á»£c káº¿t há»£p thÃ nh má»™t bridge interface duy nháº¥t. VÃ­ dá»¥, máº¡ng ethernet, 2.4Ghz vÃ  5Ghz thÆ°á»ng Ä‘Æ°á»£c káº¿t há»£p thÃ nh má»™t bridge interface duy nháº¥t. CÃ¡c tÃªn interface logic sáº½ Ä‘Æ°á»£c gÃ¡n nhÆ° eth0, wlan0, wlan1, v.v. vá»›i bridge interface káº¿t há»£p Ä‘Æ°á»£c Ä‘áº·t tÃªn lÃ  br-lan.</p><p>NDS sáº½ quáº£n lÃ½ má»™t hoáº·c nhiá»u interface trong sá»‘ Ä‘Ã³. Äiá»u nÃ y thÆ°á»ng sáº½ lÃ  br-lan, bridge cho cáº£ máº¡ng LAN khÃ´ng dÃ¢y vÃ  cÃ³ dÃ¢y, nhÆ°ng cÃ³ thá»ƒ lÃ , vÃ­ dá»¥, wlan0 náº¿u báº¡n muá»‘n NDS chá»‰ hoáº¡t Ä‘á»™ng trÃªn interface khÃ´ng dÃ¢y.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="tÃ³m-táº¯t-hoáº¡t-Ä‘á»™ng"></a>TÃ“M Táº®T HOáº T Äá»˜NG<a class="hash-link" href="#tÃ³m-táº¯t-hoáº¡t-Ä‘á»™ng" title="Direct link to heading">#</a></h2><p>Theo máº·c Ä‘á»‹nh, NDS cháº·n má»i thá»©, trá»« nhá»¯ng request Ä‘áº¿n port 80.</p><p>Request Ä‘áº¿n port 80 ban Ä‘áº§u sáº½ Ä‘Æ°á»£c generate trÃªn thiáº¿t bá»‹ cá»§a khÃ¡ch, thÆ°á»ng Ä‘Æ°á»£c tá»± Ä‘á»™ng bá»Ÿi thiáº¿t bá»‹ cá»§a khÃ¡ch Ä‘Æ°á»£c tÃ­ch há»£p sáºµn chá»©c nÄƒng Captive Portal Detection (CPD) hoáº·c cÃ³ thá»ƒ do ngÆ°á»i dÃ¹ng duyá»‡t theo cÃ¡ch thá»§ cÃ´ng Ä‘áº¿n trang web http.</p><p>Request nÃ y táº¥t nhiÃªn sáº½ Ä‘Æ°á»£c <strong>Ä‘á»‹nh tuyáº¿n bá»Ÿi thiáº¿t bá»‹ Ä‘áº¿n Default Gateway</strong> cá»§a local network. Default Gateway, nhÆ° chÃºng ta Ä‘Ã£ tháº¥y, sáº½ lÃ  interface Ä‘á»‹nh tuyáº¿n mÃ  NDS Ä‘ang quáº£n lÃ½.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="Ä‘iá»u-cáº§n-náº¯m-báº¯t-nds"></a>ÄIá»€U Cáº¦N Náº®M Báº®T (NDS)<a class="hash-link" href="#Ä‘iá»u-cáº§n-náº¯m-báº¯t-nds" title="Direct link to heading">#</a></h2><p>Ban Ä‘áº§u, ngay sau khi nháº­n Ä‘Æ°á»£c request Ä‘áº¿n port 80 nÃ y trÃªn default gateway interface, NDS sáº½ &quot;Chá»¥p&quot; nÃ³, ghi láº¡i danh tÃ­nh thiáº¿t bá»‹ khÃ¡ch, phÃ¢n bá»• token duy nháº¥t cho thiáº¿t bá»‹ khÃ¡ch, sau Ä‘Ã³ chuyá»ƒn hÆ°á»›ng trÃ¬nh duyá»‡t khÃ¡ch Ä‘áº¿n Portal cá»§a NDS.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="Ä‘iá»u-cung-cáº¥p-cá»•ng-thÃ´ng-tin-fas-hoáº·c-preauth"></a>Äiá»u Cung Cáº¥p Cá»•ng ThÃ´ng Tin (FAS hoáº·c PreAuth)<a class="hash-link" href="#Ä‘iá»u-cung-cáº¥p-cá»•ng-thÃ´ng-tin-fas-hoáº·c-preauth" title="Direct link to heading">#</a></h2><p>TrÃ¬nh duyá»‡t mÃ¡y khÃ¡ch Ä‘Æ°á»£c chuyá»ƒn hÆ°á»›ng Ä‘áº¿n Portal component. ÄÃ¢y lÃ  má»™t web service Ä‘Æ°á»£c Ä‘á»‹nh cáº¥u hÃ¬nh Ä‘á»ƒ biáº¿t cÃ¡ch giao tiáº¿p vá»›i core engine cá»§a NDS.</p><p>Trang nÃ y thÆ°á»ng Ä‘Æ°á»£c gá»i lÃ  Splash Page.</p><p>NDS cÃ³ mÃ¡y chá»§ web riÃªng Ä‘Æ°á»£c tÃ­ch há»£p sáºµn vÃ  mÃ¡y chá»§ nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ cung cáº¥p cÃ¡c trang â€œSplashâ€ cá»§a Portal tá»›i trÃ¬nh duyá»‡t mÃ¡y khÃ¡ch hoáº·c cÃ³ thá»ƒ sá»­ dá»¥ng má»™t mÃ¡y chá»§ web riÃªng biá»‡t.</p><p>openNDS Ä‘i kÃ¨m vá»›i hai tÃ¹y chá»n Splash Page tiÃªu chuáº©n Ä‘Æ°á»£c cÃ i Ä‘áº·t sáºµn.</p><p>Option má»™t lÃ  cung cáº¥p má»™t trang nháº¥p chuá»™t Ä‘á»ƒ tiáº¿p tá»¥c vÃ  Má»™t option ná»¯a lÃ  trang kia cung cáº¥p biá»ƒu máº«u, yÃªu cáº§u khÃ¡ch hÃ ng nháº­p TÃªn vÃ  Ä‘á»‹a chá»‰ Email.</p><p>Cáº£ hai Ä‘á»u cÃ³ thá»ƒ Ä‘Æ°á»£c tÃ¹y chá»‰nh hoáº·c má»™t Cá»•ng thÃ´ng tin chuyÃªn biá»‡t hoÃ n chá»‰nh cÃ³ thá»ƒ Ä‘Æ°á»£c viáº¿t bá»Ÿi trÃ¬nh cÃ i Ä‘áº·t (Xem FAS, PreAuth).</p><p>FAS, hoáº·c Forward Authentication Service cÃ³ thá»ƒ sá»­ dá»¥ng mÃ¡y chá»§ web Ä‘Æ°á»£c nhÃºng trong NDS, má»™t mÃ¡y chá»§ web riÃªng biá»‡t Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn router NDS, má»™t mÃ¡y chá»§ web náº±m trÃªn local network hoáº·c má»™t mÃ¡y chá»§ web Ä‘Æ°á»£c host trÃªn Internet.</p><p>KhÃ¡ch dÃ¹ng thiáº¿t bá»‹ sáº½ luÃ´n pháº£i hoÃ n thÃ nh má»™t sá»‘ hÃ nh Ä‘á»™ng trÃªn trang splash.</p><p>Khi ngÆ°á»i dÃ¹ng thiáº¿t bá»‹ Ä‘Ã£ hoÃ n thÃ nh thÃ nh cÃ´ng cÃ¡c hÃ nh Ä‘á»™ng trÃªn trang splash, trang Ä‘Ã³ sau Ä‘Ã³ sáº½ trá»±c tiáº¿p redirect trá»Ÿ láº¡i NDS.</p><p>Äá»ƒ báº£o máº­t, NDS chá» Ä‘á»£i nháº­n Ä‘Æ°á»£c cÃ¹ng má»™t token há»£p lá»‡ Ä‘Æ°á»£c phÃ¢n phÃ¡t khi khÃ¡ch hÃ ng Ä‘Æ°a request Ä‘áº¿n port 80. Náº¿u token nháº­n Ä‘Æ°á»£c lÃ  há»£p lá»‡, NDS sau Ä‘Ã³ sáº½ â€œxÃ¡c thá»±câ€ thiáº¿t bá»‹ khÃ¡ch, cho phÃ©p truy cáº­p Internet.</p><p>CÃ¡c tiá»‡n Ã­ch má»Ÿ rá»™ng xá»­ lÃ½ xÃ¡c thá»±c cÃ³ thá»ƒ Ä‘Æ°á»£c thÃªm vÃ o NDS (Xem BinAuth). Khi NDS Ä‘Ã£ nháº­n Ä‘Æ°á»£c token há»£p lá»‡, nÃ³ sáº½ gá»i má»™t táº­p lá»‡nh BinAuth.</p><p>Náº¿u táº­p lá»‡nh BinAuth tráº£ vá» Ä‘Ãºng (tá»©c lÃ  mÃ£ tráº£ vá» 0), thÃ¬ NDS sáº½ â€œxÃ¡c thá»±câ€ thiáº¿t bá»‹ khÃ¡ch, cho phÃ©p truy cáº­p Internet.</p><p>Khi FAS Ä‘Æ°á»£c sá»­ dá»¥ng, cÃ¡c cháº¿ Ä‘á»™ báº£o máº­t Ä‘Æ°á»£c cung cáº¥p (cáº¥p Ä‘á»™ 1, 2 vÃ  3), trong Ä‘Ã³ token mÃ¡y khÃ¡ch vÃ  cÃ¡c biáº¿n báº¯t buá»™c khÃ¡c Ä‘Æ°á»£c áº©n an toÃ n khá»i MÃ¡y khÃ¡ch, Ä‘áº£m báº£o khÃ´ng thá»ƒ bá» qua xÃ¡c minh.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>FAS vÃ  Binauth cÃ³ thá»ƒ Ä‘Æ°á»£c báº­t cÃ¹ng nhau. Äiá»u nÃ y cÃ³ thá»ƒ mang láº¡i tÃ­nh linh hoáº¡t cao, vá»›i FAS cung cáº¥p xÃ¡c minh tá»« xa vÃ  Binauth cung cáº¥p xá»­ lÃ½ xÃ¡c thá»±c bÃ i Ä‘Äƒng cá»¥c bá»™ Ä‘Æ°á»£c liÃªn káº¿t cháº·t cháº½ vá»›i NDS.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="captive-portal-detection-cpd"></a>Captive Portal Detection (CPD)<a class="hash-link" href="#captive-portal-detection-cpd" title="Direct link to heading">#</a></h2><p>Táº¥t cáº£ cÃ¡c thiáº¿t bá»‹ di Ä‘á»™ng hiá»‡n Ä‘áº¡i, háº§u háº¿t cÃ¡c há»‡ Ä‘iá»u hÃ nh mÃ¡y tÃ­nh Ä‘á»ƒ bÃ n vÃ  háº§u háº¿t cÃ¡c trÃ¬nh duyá»‡t hiá»‡n nay Ä‘á»u cÃ³ quy trÃ¬nh CPD tá»± Ä‘á»™ng Ä‘Æ°a ra cÃ¡c rquest Ä‘áº¿n port 80 khi káº¿t ná»‘i vá»›i máº¡ng. NDS phÃ¡t hiá»‡n Ä‘iá»u nÃ y vÃ  cung cáº¥p má»™t trang web &quot;splash&quot; Ä‘áº·c biá»‡t tá»›i thiáº¿t bá»‹ khÃ¡ch Ä‘ang káº¿t ná»‘i.</p><p>YÃªu cáº§u html cá»•ng 80 Ä‘Æ°á»£c thá»±c hiá»‡n bá»Ÿi CPD khÃ¡ch hÃ ng cÃ³ thá»ƒ lÃ  má»™t trong nhiá»u URL cá»¥ thá»ƒ cá»§a nhÃ  cung cáº¥p.</p><p>VÃ­ dá»¥: cÃ¡c URL CPD Ä‘iá»ƒn hÃ¬nh Ä‘Æ°á»£c sá»­ dá»¥ng lÃ :</p><ul><li><a href="http://captive.apple.com/hotspot-detect.html" target="_blank" rel="noopener noreferrer">http://captive.apple.com/hotspot-detect.html</a></li><li><a href="http://connectivitycheck.gstatic.com/generate_204" target="_blank" rel="noopener noreferrer">http://connectivitycheck.gstatic.com/generate_204</a></li><li><a href="http://connectivitycheck.platform.hicloud.com/generate_204" target="_blank" rel="noopener noreferrer">http://connectivitycheck.platform.hicloud.com/generate_204</a></li><li><a href="http://www.samsung.com/" target="_blank" rel="noopener noreferrer">http://www.samsung.com/</a></li><li><a href="http://detectportal.firefox.com/success.txt" target="_blank" rel="noopener noreferrer">http://detectportal.firefox.com/success.txt</a></li><li>ThÃªm ná»¯a</li></ul><p>Äiá»u quan trá»ng cáº§n nhá»› lÃ  CPD Ä‘Æ°á»£c thiáº¿t káº¿ chá»§ yáº¿u cho cÃ¡c thiáº¿t bá»‹ di Ä‘á»™ng Ä‘á»ƒ tá»± Ä‘á»™ng phÃ¡t hiá»‡n sá»± hiá»‡n diá»‡n cá»§a portal vÃ  kÃ­ch hoáº¡t trang Ä‘Äƒng nháº­p, mÃ  khÃ´ng cáº§n pháº£i sá»­ dá»¥ng Ä‘áº¿n báº£o máº­t SSL / TLS. Báº±ng cÃ¡ch yÃªu cáº§u cá»•ng chuyá»ƒn hÆ°á»›ng cá»•ng 443 cháº³ng háº¡n.</p><p>Háº§u nhÆ° táº¥t cáº£ cÃ¡c triá»ƒn khai CPD hiá»‡n táº¡i Ä‘á»u hoáº¡t Ä‘á»™ng ráº¥t tá»‘t nhÆ°ng má»™t sá»‘ láº¡i cáº§n Ä‘iá»u chá»‰nh thÃ­ch há»£p vá»›i tá»«ng loáº¡i á»©ng dá»¥ng khÃ¡c nhau.</p><p>Pháº§n lá»›n cÃ¡c thiáº¿t bá»‹ gáº¯n vá»›i Captive Portal Ä‘iá»ƒn hÃ¬nh lÃ  thiáº¿t bá»‹ di Ä‘á»™ng. CPD hoáº¡t Ä‘á»™ng tá»‘t cho trang Ä‘Äƒng nháº­p ban Ä‘áº§u.</p><p>NhÆ°ng Ä‘á»‘i vá»›i má»™t khÃ¡ch sá»­ dá»¥ng wifi á»Ÿ má»™t sá»‘ nÆ¡i. VÃ­ dá»¥ nhÆ° quÃ¡n cÃ  phÃª, quÃ¡n bar, cÃ¢u láº¡c bá»™, khÃ¡ch sáº¡n, v.v., thiáº¿t bá»‹ káº¿t ná»‘i, truy cáº­p Internet Ä‘Æ°á»£c má»™t lÃºc thÃ¬ ngÆ°á»i dÃ¹ng Ä‘Æ°a thiáº¿t bá»‹ ra khá»i pháº¡m vi phá»§ sÃ³ng.</p><p>Khi ra ngoÃ i pháº¡m vi phá»§ sÃ³ng, má»™t thiáº¿t bá»‹ di Ä‘á»™ng thÃ´ng thÆ°á»ng báº¯t Ä‘áº§u thÄƒm dÃ² Ä‘á»‹nh ká»³ wifi SSID mÃ  nÃ³ biáº¿t Ä‘á»ƒ cá»‘ gáº¯ng láº¥y láº¡i káº¿t ná»‘i, tÃ¹y thuá»™c vÃ o thá»i gian chá» Ä‘á»ƒ báº£o toÃ n tuá»•i thá» pin.</p><p>Háº§u háº¿t cÃ¡c Captive Portal Ä‘á»u cÃ³ giá»›i háº¡n thá»i gian cho má»™t session (bao gá»“m NDS).</p><p>Náº¿u má»™t thiáº¿t bá»‹ Ä‘Ã£ Ä‘Äƒng nháº­p trÆ°á»›c Ä‘Ã³ quay trá»Ÿ láº¡i trong pháº¡m vi phá»§ sÃ³ng cá»§a portal, thÃ¬ SSID Ä‘Ã£ sá»­ dá»¥ng trÆ°á»›c Ä‘Ã³ sáº½ Ä‘Æ°á»£c nháº­n dáº¡ng vÃ  CPD Ä‘Æ°á»£c kÃ­ch hoáº¡t vÃ  kiá»ƒm tra káº¿t ná»‘i Internet theo cÃ¡ch bÃ¬nh thÆ°á»ng. Trong giá»›i háº¡n thá»i gian session cá»§a portal, káº¿t ná»‘i Internet sáº½ Ä‘Æ°á»£c thiáº¿t láº­p, náº¿u phiÃªn Ä‘Ã£ háº¿t háº¡n, trang splash sáº½ Ä‘Æ°á»£c hiá»ƒn thá»‹ láº¡i.</p><p>Viá»‡c triá»ƒn khai CPD trÃªn thiáº¿t bá»‹ di Ä‘á»™ng ban Ä‘áº§u Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ thÄƒm dÃ², phÃ¡t hiá»‡n URL theo khoáº£ng thá»i gian Ä‘á»u Ä‘áº·n, thÆ°á»ng lÃ  khoáº£ng 30 Ä‘áº¿n 300 giÃ¢y. Äiá»u nÃ y sáº½ kÃ­ch hoáº¡t trang Portal Splash khÃ¡ nhanh náº¿u thiáº¿t bá»‹ váº«n á»Ÿ trong pháº¡m vi vÃ  Ä‘Ã£ Ä‘áº¡t Ä‘áº¿n giá»›i háº¡n session.</p><p>Tuy nhiÃªn, ráº¥t nhanh chÃ³ng nháº­n ra ráº±ng viá»‡c nÃ y lÃ m thiáº¿t bá»‹ Ä‘Æ°á»£c báº­t liÃªn tá»¥c cÃ³ áº£nh hÆ°á»Ÿng ráº¥t tiÃªu cá»±c Ä‘áº¿n tuá»•i thá» pin, vÃ¬ váº­y viá»‡c kiá»ƒm tra session háº¿t háº¡n nÃ y Ä‘Æ°á»£c tÄƒng lÃªn má»™t khoáº£ng thá»i gian ráº¥t dÃ i hoáº·c bá»‹ loáº¡i bá» táº¥t cáº£ cÃ¹ng nhau (tÃ¹y thuá»™c vÃ o nhÃ  cung cáº¥p) Ä‘á»ƒ báº£o toÃ n sáº¡c pin. Khi háº§u háº¿t cÃ¡c thiáº¿t bá»‹ di Ä‘á»™ng Ä‘áº¿n vÃ  Ä‘i vÃ o vÃ¹ng phá»§ sÃ³ng, Ä‘Ã¢y khÃ´ng pháº£i lÃ  má»™t váº¥n Ä‘á».</p><p>Má»™t váº¥n Ä‘á» phá»• biáº¿n Ä‘Æ°á»£c nÃªu ra lÃ :</p><blockquote><p>Thiáº¿t bá»‹ cá»§a tÃ´i hiá»ƒn thá»‹ trang splash khi chÃºng káº¿t ná»‘i láº§n Ä‘áº§u, nhÆ°ng khi háº¿t háº¡n á»§y quyá»n, chÃºng chá»‰ nháº­n thÃ´ng bÃ¡o khÃ´ng cÃ³ káº¿t ná»‘i internet. TÃ´i pháº£i lÃ m cho há» &quot;quÃªn&quot; máº¡ng WiFi nÃ y Ä‘i Ä‘á»ƒ xem láº¡i trang splash. ÄÃ¢y cÃ³ pháº£i lÃ  cÃ¡ch nÃ³ Ä‘Æ°á»£c cho lÃ  hoáº¡t Ä‘á»™ng?</p></blockquote><p>CÃ¡ch giáº£i quyáº¿t nhÆ° Ä‘Æ°á»£c mÃ´ táº£ trong váº¥n Ä‘á», hoáº·c tháº­m chÃ­ chá»‰ cáº§n ngáº¯t káº¿t ná»‘i hoáº·c táº¯t vÃ  báº­t láº¡i WiFi theo cÃ¡ch thá»§ cÃ´ng thÃ¬ cÅ©ng giá»‘ng nhÆ° viá»‡c báº¡n &quot;Ä‘i ra ngoÃ i pháº¡m vi&quot;, khá»Ÿi táº¡o kÃ­ch hoáº¡t CPD ngay láº­p tá»©c. Má»™t hoáº·c báº¥t ká»³ sá»± káº¿t há»£p nÃ o cá»§a cÃ¡c cÃ¡ch giáº£i quyáº¿t nÃ y sáº½ hoáº¡t Ä‘á»™ng, má»™t láº§n ná»¯a tÃ¹y thuá»™c vÃ o viá»‡c triá»ƒn khai CPD cá»§a nhÃ  cung cáº¥p cá»¥ thá»ƒ.</p><p>NgÆ°á»£c láº¡i, háº§u háº¿t cÃ¡c há»‡ Ä‘iá»u hÃ nh mÃ¡y tÃ­nh xÃ¡ch tay / mÃ¡y tÃ­nh Ä‘á»ƒ bÃ n vÃ  cÃ¡c phiÃªn báº£n trÃ¬nh duyá»‡t cho nhá»¯ng há»‡ Ä‘iá»u hÃ nh nÃ y váº«n triá»ƒn khai tÃ­nh nÄƒng thÄƒm dÃ² CPD trong khi trá»±c tuyáº¿n vÃ¬ viá»‡c cÃ¢n nháº¯c vá» pin khÃ´ng quÃ¡ quan trá»ng.</p><p>VÃ­ dá»¥: mÃ¡y tÃ­nh Ä‘á»ƒ bÃ n Gnome cÃ³ trÃ¬nh duyá»‡t CPD tÃ­ch há»£p riÃªng vá»›i khoáº£ng thá»i gian máº·c Ä‘á»‹nh lÃ  300 giÃ¢y. Firefox cÅ©ng máº·c Ä‘á»‹nh lÃ  300 giÃ¢y. Windows 10 cÅ©ng tÆ°Æ¡ng tá»±.</p><p>ÄÃ¢y lÃ  cÃ¡ch nÃ³ Ä‘Æ°á»£c cho lÃ  hoáº¡t Ä‘á»™ng, nhÆ°ng cÃ³ liÃªn quan Ä‘áº¿n má»™t sá»‘ thá»a hiá»‡p.</p><p>Giáº£i phÃ¡p tá»‘t nháº¥t lÃ  Ä‘áº·t thá»i gian chá» cá»§a phiÃªn thÃ nh má»™t giÃ¡ trá»‹ lá»›n hÆ¡n khoáº£ng thá»i gian dá»± kiáº¿n â€‹â€‹mÃ  thiáº¿t bá»‹ khÃ¡ch cÃ³ thá»ƒ cÃ³ máº·t. Kinh nghiá»‡m cho tháº¥y giá»›i háº¡n 24 giá» Ã¡p dá»¥ng cho háº§u háº¿t cÃ¡c trÆ°á»ng há»£p, vÃ­ dá»¥ nhÆ° quÃ¡n bar, cÃ¢u láº¡c bá»™, quÃ¡n cÃ  phÃª, nhÃ  nghá»‰, v.v. Náº¿u vÃ­ dá»¥, má»™t khÃ¡ch sáº¡n cÃ³ khÃ¡ch thÆ°á»ng xuyÃªn lÆ°u trÃº trong má»™t vÃ i ngÃ y, thÃ¬ hÃ£y tÄƒng thá»i gian chá» cá»§a phiÃªn lÃ m viá»‡c theo yÃªu cáº§u.</p><p>NhÃ¢n viÃªn táº¡i Ä‘á»‹a Ä‘iá»ƒm cÃ³ thá»ƒ Ä‘Æ°a thiáº¿t bá»‹ cá»§a há» vÃ o Danh sÃ¡ch tin cáº­y náº¿u thÃ­ch há»£p, nhÆ°ng theo kinh nghiá»‡m cho tháº¥y, tá»‘t hÆ¡n lÃ  khÃ´ng nÃªn lÃ m Ä‘iá»u nÃ y vÃ¬ há» sáº½ sá»›m biáº¿t Ä‘Æ°á»£c nhá»¯ng viá»‡c cáº§n lÃ m vÃ  cÃ³ thá»ƒ giÃºp nhá»¯ng khÃ¡ch gáº·p sá»± cá»‘. (Báº¥t cá»© Ä‘iá»u gÃ¬ lÃ m giáº£m cuá»™c gá»i há»— trá»£ lÃ  tá»‘t!)</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="phÃ¡t-hiá»‡n-vÃ¹ng-máº¡ng-mÃ¡y-khÃ¡ch-Ä‘Æ°á»£c-káº¿t-ná»‘i-á»Ÿ-Ä‘Ã¢u"></a>PhÃ¡t hiá»‡n vÃ¹ng máº¡ng (MÃ¡y khÃ¡ch Ä‘Æ°á»£c káº¿t ná»‘i á»Ÿ Ä‘Ã¢u?)<a class="hash-link" href="#phÃ¡t-hiá»‡n-vÃ¹ng-máº¡ng-mÃ¡y-khÃ¡ch-Ä‘Æ°á»£c-káº¿t-ná»‘i-á»Ÿ-Ä‘Ã¢u" title="Direct link to heading">#</a></h2><p>CÃ¡c thiáº¿t bá»‹ khÃ¡ch cÃ³ thá»ƒ Ä‘Æ°á»£c káº¿t ná»‘i vá»›i má»™t trong sá»‘ cÃ¡c SSID WiFi cá»¥c bá»™, Ä‘Æ°á»£c káº¿t ná»‘i trá»±c tiáº¿p hoáº·c giÃ¡n tiáº¿p báº±ng ethernet hoáº·c káº¿t ná»‘i qua máº¡ng lÆ°á»›i khÃ´ng dÃ¢y. Má»—i loáº¡i káº¿t ná»‘i cÃ³ sáºµn Ä‘Æ°á»£c coi lÃ  má»™t VÃ¹ng máº¡ng.</p><p>NDS phÃ¡t hiá»‡n vÃ¹ng mÃ  má»—i mÃ¡y khÃ¡ch Ä‘Æ°á»£c káº¿t ná»‘i. ThÃ´ng tin nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tÃ¹y chá»‰nh Ä‘á»™ng Ä‘Äƒng nháº­p cho tá»«ng khu vá»±c.</p><p>VÃ­ dá»¥: má»™t cá»­a hÃ ng cÃ  phÃª cÃ³ thá»ƒ cÃ³ hai SSID Ä‘Æ°á»£c Ä‘á»‹nh cáº¥u hÃ¬nh:</p><ul><li>NhÃ¢n viÃªn (SSID báº£o máº­t tá»©c lÃ  vá»›i mÃ£ truy cáº­p)</li><li>KhÃ¡ch hÃ ng (má»Ÿ SSID báº±ng biá»ƒu máº«u Ä‘Äƒng nháº­p)</li></ul><p>Trong vÃ­ dá»¥ nÃ y, SSID â€œNhÃ¢n viÃªnâ€ Ä‘Æ°á»£c Ä‘á»‹nh cáº¥u hÃ¬nh trÃªn giao diá»‡n wlan0 vÃ  Ä‘Æ°á»£c coi lÃ  VÃ¹ng â€œRiÃªng tÆ°â€.</p><p>Tuy nhiÃªn, SSID â€œKhÃ¡ch hÃ ngâ€ Ä‘Æ°á»£c cáº¥u hÃ¬nh trÃªn giao diá»‡n áº£o wlan0-1 vÃ  Ä‘Æ°á»£c coi lÃ  VÃ¹ng â€œCÃ´ng cá»™ngâ€.</p><p>NDS phÃ¡t hiá»‡n khu vá»±c nÃ o Ä‘ang Ä‘Æ°á»£c khÃ¡ch hÃ ng sá»­ dá»¥ng vÃ  trang Ä‘Äƒng nháº­p cÃ³ liÃªn quan cÃ³ thá»ƒ Ä‘Æ°á»£c cung cáº¥p.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="lá»c-gÃ³i-tin"></a>Lá»c gÃ³i tin<a class="hash-link" href="#lá»c-gÃ³i-tin" title="Direct link to heading">#</a></h2><p>openNDS xem xÃ©t bá»‘n loáº¡i gÃ³i Ä‘i vÃ o bá»™ Ä‘á»‹nh tuyáº¿n qua giao diá»‡n Ä‘Æ°á»£c quáº£n lÃ½. Má»—i gÃ³i lÃ  má»™t trong nhá»¯ng loáº¡i sau:</p><ol><li><p><strong>Blocked</strong> , náº¿u MAC bá»‹ cháº·n vÃ  Ä‘á»‹a chá»‰ MAC nguá»“n cá»§a packet phÃ¹ há»£p vá»›i Ä‘á»‹a chá»‰ Ä‘Æ°á»£c liá»‡t kÃª trong BlockedMACList; hoáº·c náº¿u MAC Ä‘Æ°á»£c cho phÃ©p vÃ  Ä‘á»‹a chá»‰ MAC nguá»“n cá»§a gÃ³i khÃ´ng khá»›p vá»›i Ä‘á»‹a chá»‰ Ä‘Æ°á»£c liá»‡t kÃª trong AllowedMACList hoáº·c TrustedMACList. CÃ¡c gÃ³i tin nÃ y bá»‹ loáº¡i bá».</p></li><li><p><strong>Trusted</strong> , náº¿u Ä‘á»‹a chá»‰ MAC nguá»“n cá»§a packet phÃ¹ há»£p vá»›i Ä‘á»‹a chá»‰ Ä‘Æ°á»£c liá»‡t kÃª trong TrustedMACList. Theo máº·c Ä‘á»‹nh, cÃ¡c gÃ³i nÃ y Ä‘Æ°á»£c cháº¥p nháº­n vÃ  chuyá»ƒn Ä‘áº¿n táº¥t cáº£ cÃ¡c Ä‘á»‹a chá»‰ vÃ  cá»•ng Ä‘Ã­ch. Náº¿u muá»‘n, hÃ nh vi nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c tÃ¹y chá»‰nh bá»Ÿi FirewallRuleSet ngÆ°á»i dÃ¹ng Ä‘Ã¡ng tin cáº­y vÃ  FirewallRuleSet danh sÃ¡ch ngÆ°á»i dÃ¹ng Ä‘áº¿n bá»™ Ä‘á»‹nh tuyáº¿n Ä‘Ã¡ng tin cáº­y trong tá»‡p cáº¥u hÃ¬nh opennds.conf hoáº·c báº±ng chá»‰ thá»‹ ngÆ°á»i dÃ¹ng tin cáº­y EmptyRuleSetPolicy EmptyRuleSetPolicy-user-to-router.</p></li><li><p><strong>Authenticated</strong> , náº¿u Ä‘á»‹a chá»‰ nguá»“n IP vÃ  MAC cá»§a packet Ä‘Ã£ tráº£i qua quÃ¡ trÃ¬nh xÃ¡c thá»±c openNDS vÃ  chÆ°a háº¿t háº¡n. CÃ¡c gÃ³i nÃ y Ä‘Æ°á»£c cháº¥p nháº­n vÃ  Ä‘á»‹nh tuyáº¿n Ä‘áº¿n má»™t táº­p há»£p Ä‘á»‹a chá»‰ vÃ  cá»•ng giá»›i háº¡n (xem FirewallRuleSet ngÆ°á»i dÃ¹ng Ä‘Æ°á»£c xÃ¡c thá»±c vÃ  FirewallRuleSet ngÆ°á»i dÃ¹ng Ä‘áº¿n bá»™ Ä‘á»‹nh tuyáº¿n trong tá»‡p cáº¥u hÃ¬nh opennds.conf).</p></li><li><p><strong>Preauthenticated</strong> . Báº¥t ká»³ packet nÃ o khÃ¡c. CÃ¡c packets nÃ y Ä‘Æ°á»£c cháº¥p nháº­n vÃ  Ä‘á»‹nh tuyáº¿n Ä‘áº¿n má»™t nhÃ³m Ä‘á»‹a chá»‰ vÃ  cá»•ng giá»›i háº¡n (xem FirewallRuleSet preauthenticated-users vÃ  FirewallRuleSet user-to-router trong tá»‡p cáº¥u hÃ¬nh opennds.conf). Báº¥t ká»³ packet nÃ o khÃ¡c Ä‘á»u bá»‹ loáº¡i bá», ngoáº¡i trá»« má»™t packet cho cá»•ng Ä‘Ã­ch 80 táº¡i báº¥t ká»³ Ä‘á»‹a chá»‰ nÃ o Ä‘Æ°á»£c chuyá»ƒn hÆ°á»›ng Ä‘áº¿n cá»•ng 2050 trÃªn bá»™ Ä‘á»‹nh tuyáº¿n, nÆ¡i mÃ¡y chá»§ web dá»±a trÃªn libhttpd cá»§a openNDS Ä‘ang láº¯ng nghe. Äiá»u nÃ y báº¯t Ä‘áº§u quÃ¡ trÃ¬nh &#x27;xÃ¡c thá»±c&#x27;. MÃ¡y chá»§ sáº½ phá»¥c vá»¥ má»™t trang splash quay trá»Ÿ láº¡i Ä‘á»‹a chá»‰ IP nguá»“n cá»§a packet. NgÆ°á»i dÃ¹ng nháº¥p vÃ o liÃªn káº¿t thÃ­ch há»£p trÃªn trang splash sáº½ hoÃ n táº¥t quÃ¡ trÃ¬nh, khiáº¿n cÃ¡c packet trong tÆ°Æ¡ng lai tá»« Ä‘á»‹a chá»‰ IP / MAC nÃ y Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u lÃ  ÄÃ£ xÃ¡c thá»±c cho Ä‘áº¿n khi Ä‘áº¡t Ä‘áº¿n thá»i gian chá» khÃ´ng hoáº¡t Ä‘á»™ng hoáº·c báº¯t buá»™c vÃ  cÃ¡c gÃ³i cá»§a nÃ³ trá»Ÿ láº¡i Ä‘Æ°á»£c XÃ¡c thá»±c trÆ°á»›c.</p></li></ol><p>openNDS thá»±c hiá»‡n cÃ¡c hÃ nh Ä‘á»™ng nÃ y báº±ng cÃ¡ch chÃ¨n cÃ¡c quy táº¯c trong chuá»—i PREROUTING iptables mangle cá»§a bá»™ Ä‘á»‹nh tuyáº¿n Ä‘á»ƒ Ä‘Ã¡nh dáº¥u cÃ¡c packet vÃ  báº±ng cÃ¡ch chÃ¨n cÃ¡c quy táº¯c trong nat PREROUTING, lá»c INPUT vÃ  lá»c chuá»—i FORWARD khá»›p trÃªn cÃ¡c dáº¥u Ä‘Ã³.</p><p>Bá»Ÿi vÃ¬ nÃ³ chÃ¨n cÃ¡c quy táº¯c cá»§a nÃ³ vÃ o Ä‘áº§u cÃ¡c chuá»—i hiá»‡n cÃ³, openNDS sáº½ khÃ´ng nháº¡y cáº£m vá»›i háº§u háº¿t cÃ¡c cáº¥u hÃ¬nh tÆ°á»ng lá»­a hiá»‡n cÃ³ Ä‘iá»ƒn hÃ¬nh.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="data-volume-vÃ -rate-quotas"></a>Data Volume vÃ  Rate Quotas<a class="hash-link" href="#data-volume-vÃ -rate-quotas" title="Direct link to heading">#</a></h1><p>openNDS (NDS) Ä‘Ã£ tÃ­ch há»£p sáºµn há»— trá»£ <code>Data Volume</code> vÃ  <code>Data Rate</code> quota.</p><p>Data volume and data rate quotas can be set globally in the config file.</p><p>CÃ¡c giÃ¡ trá»‹ chung cÃ³ thá»ƒ Ä‘Æ°á»£c ghi Ä‘Ã¨ trÃªn tá»«ng mÃ¡y khÃ¡ch theo yÃªu cáº§u.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="Ä‘iá»u-hÆ°á»›ng-traffic"></a>Äiá»u hÆ°á»›ng Traffic<a class="hash-link" href="#Ä‘iá»u-hÆ°á»›ng-traffic" title="Direct link to heading">#</a></h1><p>openNDS (NDS) há»— trá»£ Traffic Shaping (Giá»›i háº¡n BÄƒng thÃ´ng) báº±ng cÃ¡ch sá»­ dá»¥ng SQM - Smart Management (sqm-scripts) package, cÃ³ sáºµn cho OpenWrt vÃ  Linux chung.</p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/sysadmin">sysadmin</a></div></footer></article><div><a href="https://github.com/khoahoc/blog/edit/master/blog/2021-03-03-opennds-hoat-dong-nhu-the-nao.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/wifi-provision"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« Wifi Provision</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/huong-dan-cai-dat-firmware-OpenWRT"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">HÆ°á»›ng Dáº«n CÃ i Äáº·t Firmware OpenWRT Â»</div></a></div></nav></div></main><div class="col col--2"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#giá»›i-thiá»‡u" class="table-of-contents__link">GIá»šI THIá»†U</a></li><li><a href="#cÃ¡ch-opennds-nds-hoáº¡t-Ä‘á»™ng" class="table-of-contents__link">CÃCH OPENNDS (NDS) HOáº T Äá»˜NG</a></li><li><a href="#tÃ³m-táº¯t-hoáº¡t-Ä‘á»™ng" class="table-of-contents__link">TÃ“M Táº®T HOáº T Äá»˜NG</a></li><li><a href="#Ä‘iá»u-cáº§n-náº¯m-báº¯t-nds" class="table-of-contents__link">ÄIá»€U Cáº¦N Náº®M Báº®T (NDS)</a></li><li><a href="#Ä‘iá»u-cung-cáº¥p-cá»•ng-thÃ´ng-tin-fas-hoáº·c-preauth" class="table-of-contents__link">Äiá»u Cung Cáº¥p Cá»•ng ThÃ´ng Tin (FAS hoáº·c PreAuth)</a></li><li><a href="#captive-portal-detection-cpd" class="table-of-contents__link">Captive Portal Detection (CPD)</a></li><li><a href="#phÃ¡t-hiá»‡n-vÃ¹ng-máº¡ng-mÃ¡y-khÃ¡ch-Ä‘Æ°á»£c-káº¿t-ná»‘i-á»Ÿ-Ä‘Ã¢u" class="table-of-contents__link">PhÃ¡t hiá»‡n vÃ¹ng máº¡ng (MÃ¡y khÃ¡ch Ä‘Æ°á»£c káº¿t ná»‘i á»Ÿ Ä‘Ã¢u?)</a></li><li><a href="#lá»c-gÃ³i-tin" class="table-of-contents__link">Lá»c gÃ³i tin</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Trang</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">TÃ i Liá»‡u HÆ°á»›ng Dáº«n</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog CÃ¡ NhÃ¢n</a></li><li class="footer__item"><a href="#" class="footer__link-item">á»¦ng Há»™ TÃ´i</a></li><li class="footer__item"><a class="footer__link-item" href="/">Trang Chá»§</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">KÃªnh Youtube</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.youtube.com/watch?v=PuS1WhH6qyQ&amp;list=PL9of5PiY1lkfIcEnt2RZ4Fiq0K_JLu3k_" target="_blank" rel="noopener noreferrer" class="footer__link-item">Láº¯ng Äá»™ng ÄÃªm Vá»</a></li><li class="footer__item"><a href="https://www.youtube.com/watch?v=JKBXNUKkSRs&amp;list=PUsSrvUHWzNt7yXWxzOkyjhw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Nháº¡c Äáº¡i PhÃ¡p</a></li><li class="footer__item"><a href="#" class="footer__link-item" target="_blank" rel="noopener noreferrer">KÃªnh Cá»§a TÃ´i</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">LiÃªn Káº¿t</h4><ul class="footer__items"><li class="footer__item"><a href="https://vi.falundafa.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">PhÃ¡p LuÃ¢n CÃ´ng</a></li><li class="footer__item"><a href="https://vn.minghui.org/news/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Minh Huá»‡ Net</a></li><li class="footer__item"><a href="https://tinhhoa.tv/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tinh Hoa TV</a></li><li class="footer__item"><a href="https://etviet.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">The Epoch Times</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 SudoSys, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.21c8417a.js"></script>
<script src="/runtime~main.ced82d51.js"></script>
<script src="/main.46f641bd.js"></script>
<script src="/1.7da52d14.js"></script>
<script src="/2.b2941da6.js"></script>
<script src="/ccc49370.6bb6f087.js"></script>
<script src="/94c458fa.2f515f99.js"></script>
<script src="/5792051d.ac6297f1.js"></script>
</body>
</html>