<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="SudoSys.com Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="SudoSys.com Blog Atom Feed"><title data-react-helmet="true">Wifi Provision | SudoSys.com</title><meta data-react-helmet="true" property="og:title" content="Wifi Provision | SudoSys.com"><meta data-react-helmet="true" name="description" content="Wifi Provision"><meta data-react-helmet="true" property="og:description" content="Wifi Provision"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/styles.412d942f.css">
<link rel="preload" href="/styles.21c8417a.js" as="script">
<link rel="preload" href="/runtime~main.ced82d51.js" as="script">
<link rel="preload" href="/main.46f641bd.js" as="script">
<link rel="preload" href="/1.7da52d14.js" as="script">
<link rel="preload" href="/2.b2941da6.js" as="script">
<link rel="preload" href="/ccc49370.6bb6f087.js" as="script">
<link rel="preload" href="/94c458fa.2f515f99.js" as="script">
<link rel="preload" href="/5f7f0334.607699e2.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">SudoSys.com</strong></a><a class="navbar__item navbar__link" href="/docs/">Tài Liệu Hướng Dẫn</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog Cá Nhân</a><a href="#" class="navbar__item navbar__link">Ủng Hộ</a><a href="mailto: cuongpv@sudosys.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Liên Hệ</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/khoahoc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">SudoSys.com</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">Tài Liệu Hướng Dẫn</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">Blog Cá Nhân</a></li><li class="menu__list-item"><a href="#" class="menu__link">Ủng Hộ</a></li><li class="menu__list-item"><a href="mailto: cuongpv@sudosys.com" target="_blank" rel="noopener noreferrer" class="menu__link">Liên Hệ</a></li><li class="menu__list-item"><a href="https://github.com/khoahoc" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--2"><div class="sidebar_SWld thin-scrollbar"><h3 class="sidebarItemTitle_Km2m">Recent posts</h3><ul class="sidebarItemList_3UpA"><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/system-architect">System Architect</a></li><li class="sidebarItem_2T0D"><a aria-current="page" class="sidebarItemLink_v5H9 sidebarItemLinkActive_1anX" href="/blog/wifi-provision">Wifi Provision</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/opennds-hoat-dong-nhu-the-nao">OpenNDS Hoạt Động Như Thế Nào</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/huong-dan-cai-dat-firmware-OpenWRT">Hướng Dẫn Cài Đặt Firmware OpenWRT</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/ky-thuat-cham-cong">Kỹ Thuật Chấm Công</a></li></ul></div></div><main class="col col--8"><article><header><h1 class="margin-bottom--sm blogPostTitle_3-lP">Wifi Provision</h1><div class="margin-vert--md"><time datetime="2021-03-08T00:00:00.000Z" class="blogPostDate_Ta7i">March 8, 2021  · 15 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" target="_blank" rel="noreferrer noopener"><img src="/img/falundafa_avatar.jpg" alt="Hacker 6009"></a><div class="avatar__intro"><h4 class="avatar__name"><a target="_blank" rel="noreferrer noopener">Hacker 6009</a></h4><small class="avatar__subtitle">Blog Admin</small></div></div></header><section class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="wifi-provision"></a>Wifi Provision<a class="hash-link" href="#wifi-provision" title="Direct link to heading">#</a></h1><p>Đây là tài liệu document chính hướng dẫn manual setup toàn bộ technical architect giữa các Access Point và Server Prometheus dược dàn dựng bởi <code>sudosys.com</code>.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><ol><li>Tài liệu không phù hợp với người chưa có định nghĩa về các dịch vụ (services).</li><li>Phía dưới là quá trình setup kỹ thuật. Định nghĩa của service cho biết mục tiêu của tác giả đang thực hiện.</li></ol></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Do trình độ kỹ thuật hạn hẹp, mong các bạn đọc giả có thể góp ý hoặc đặt câu hỏi thông qua phần <code>Liên Hệ</code> ở trên.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="phần-setup-server"></a>PHẦN SETUP SERVER<a class="hash-link" href="#phần-setup-server" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="setup-ssh-tunnel"></a>Setup SSH Tunnel<a class="hash-link" href="#setup-ssh-tunnel" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="thêm-tài-khoản-truy-cập-server"></a>Thêm tài khoản truy cập server<a class="hash-link" href="#thêm-tài-khoản-truy-cập-server" title="Direct link to heading">#</a></h4><p>Thêm user <code>noaccess</code> để các Access Point có thể SSH vào nhưng <code>không có quyền</code> gõ lệnh terminal:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo adduser --disabled-password --shell /sbin/nologin noaccess</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo  -u noaccess whoami</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo  -u noaccess ssh-keygen #Tạo folder và chmod cho lẹ</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo touch /home/noaccess/.ssh/authorized_keys</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo chmod 600 /home/noaccess/.ssh/authorized_keys</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="setup-nginx"></a>Setup Nginx<a class="hash-link" href="#setup-nginx" title="Direct link to heading">#</a></h3><p>Nginx gồm 2 chức năng:</p><ol><li>Phân giải tên miền vào hàng loạt IP khác nhau có cùng 1 TCP port TTYD của Access Point</li><li>Xác thực người dùng qua URL token hoặc username và password.</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">server {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        server_name ssh.aps.ip1.meganet.com.vn;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        location ^~ / {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            resolver 8.8.8.8;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header Host $host;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header X-Forwarded-Proto $scheme;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header X-Forwarded-Port $server_port;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_http_version 1.1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header Upgrade $http_upgrade;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header Connection &quot;upgrade&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            location ~ &quot;^/(.*)/(.*)/(.*)/(.*)&quot; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                auth_request /auth;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                auth_request_set $auth_status $upstream_status;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_pass http://$3:7681/$4;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        location = /auth {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                internal;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                #proxy_pass http://127.0.0.1:8080/tms/aps/authorized;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_pass https://demo.meganet.com.vn/api/Prometheus/authorized;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_pass_request_body off;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_set_header Content-Length &quot;&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_set_header X-Original-URI $request_uri;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    listen 443 ssl http2; # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ssl_certificate /etc/letsencrypt/live/ssh.aps.ip1.meganet.com.vn/fullchain.pem; # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ssl_certificate_key /etc/letsencrypt/live/ssh.aps.ip1.meganet.com.vn/privkey.pem; # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">server {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if ($host = ssh.aps.ip1.meganet.com.vn) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return 301 https://$host$request_uri;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    } # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        listen 80;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        listen [::]:80;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        server_name ssh.aps.ip1.meganet.com.vn;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return 404; # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="openssh-config"></a>OpenSSH Config<a class="hash-link" href="#openssh-config" title="Direct link to heading">#</a></h3><p>Lưu ý các trường sau trong file <code>/etc/ssh/sshd_config</code>:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">IgnoreUserKnownHosts yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">AllowAgentForwarding yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">AllowTcpForwarding yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">X11Forwarding yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">PermitTunnel yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">TCPKeepAlive yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">PermitTTY yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GatewayPorts clientspecified</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Cấu hình xong nhớ restart service:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo systemctl restart ssh</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="setup-prometheus"></a>Setup Prometheus<a class="hash-link" href="#setup-prometheus" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">global:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  scrape_interval: 15s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  scrape_timeout: 10s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  evaluation_interval: 15s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">alerting:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  alertmanagers:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    - scheme: http</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      timeout: 10s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      api_version: v1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      static_configs:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        - targets:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            - localhost:9093</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rule_files:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - server_rules.yml</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - aps_rules.yml</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">scrape_configs:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - job_name: prometheus</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    honor_timestamps: true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    scrape_interval: 15s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    scrape_timeout: 10s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    metrics_path: /metrics</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    scheme: http</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    static_configs:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      - targets:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - localhost:9090</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - job_name: Wifi Export - Nha Hoc</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    honor_timestamps: true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    scrape_interval: 15s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    scrape_timeout: 10s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    metrics_path: /metrics</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    scheme: http</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    static_configs:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      - targets:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - undefined:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        labels:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          group: demo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          locationId: 5d67aad0c757097414ff3dc0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          city: thanh-pho-ho-chi-minh</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          district: Quận Tân Bình</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          type: devices</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - job_name: Wifi Export - Thai Hoang</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    honor_timestamps: true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    scrape_interval: 15s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    scrape_timeout: 10s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    metrics_path: /metrics</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    scheme: http</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    static_configs:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      - targets:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - undefined:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.23.128:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        labels:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          group: demo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          locationId: 5d6f6963439a91549c125bae</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          city: thanh-pho-ho-chi-minh</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          district: Quận 10</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          type: devices</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - job_name: Wifi Export - MegaNet Office</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    honor_timestamps: true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    scrape_interval: 15s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    scrape_timeout: 10s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    metrics_path: /metrics</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    scheme: http</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    static_configs:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      - targets:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.8.103:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.6.134:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.4.153:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.9.124:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.8.242:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.4.193:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.23.117:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.2.172:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.4.194:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.4.198:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.5.137:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.5.122:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.23.121:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.23.122:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.7.40:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.23.125:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        labels:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          group: demo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          locationId: 5ff5402d2cc39f45cf013780</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          city: thanh-pho-ho-chi-minh</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          district: Quận 10</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          type: devices</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - job_name: Wifi Export - Go Dau</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    honor_timestamps: true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    scrape_interval: 15s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    scrape_timeout: 10s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    metrics_path: /metrics</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    scheme: http</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    static_configs:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      - targets:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.9.3:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.23.119:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.23.120:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.23.123:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.23.124:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        labels:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          group: demo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          locationId: 5fffc4141c6aca3a34078928</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          city: thanh-pho-ho-chi-minh</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          district: Quận Tân Phú</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          type: devices</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - job_name: Wifi Export - CF Viva Hoang Hoa Tham</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    honor_timestamps: true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    scrape_interval: 15s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    scrape_timeout: 10s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    metrics_path: /metrics</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    scheme: http</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    static_configs:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      - targets:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.23.118:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        labels:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          group: demo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          locationId: 5ff5921cfe51dd2f2088d13f</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          city: thanh-pho-ho-chi-minh</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          district: Quận Tân Bình</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          type: devices</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - job_name: Wifi Export - CF Kim</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    honor_timestamps: true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    scrape_interval: 15s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    scrape_timeout: 10s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    metrics_path: /metrics</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    scheme: http</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    static_configs:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      - targets:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.23.126:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          - 127.1.23.127:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        labels:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          group: demo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          locationId: 60113cc61d43d20f04895bc2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          city: thanh-pho-ho-chi-minh</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          district: Quận 7</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          type: devices</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ul><li>Theo quy tắc IP <code>127.1.0.1</code> tương ứng với Access Point có ID là <code>1</code> và tăng dần lên.</li><li>Port 9100 là port mặc định của <code>Node Exporter Prometheus Lua</code>.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="phần-setup-access-point"></a>PHẦN SETUP ACCESS POINT<a class="hash-link" href="#phần-setup-access-point" title="Direct link to heading">#</a></h2><p>Có rất nhiều thứ cần phải setup như: cặp SSH <code>public_key</code> và <code>private key</code>; Các packages của OpenWRT để điều khiển như: <code>Prometheus</code>, <code>Node Exporter</code>, <code>Wifi Station</code>; <code>AutoSSH</code>; <code>TTYD</code>, <code>OpenNDS</code> v.v... OK, bắt đầu thôi.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="setup-private-key"></a>Setup Private Key<a class="hash-link" href="#setup-private-key" title="Direct link to heading">#</a></h3><p><em>Kết quả bên dưới sẽ áp dụng cho production, nên lưu ý dữ liệu của cặp key bên dưới</em></p><p>Public_key:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC8x4yIvN1KHioqqi9JahUgZN9Cb3sXpCmpv8BiZXt6GPuJE0wwvFo8j+c8lxm8Yv/unhLy8PyQiSMPwchSCAg2b02D1IVh8WUbXIkOqdNDF5aQx02dPfaE9XRJqc3H85L7h5jNHie/Ax6uthPcI+F8dD8kZRJOj3snev36S97Q3G9qawWqhvGyv2COcbmYKA+dAM1MSa1GHidMCPIkuZmjcA6i4wuH1Rc13ke/jmyTFFEm4Xf2S4bHL9gpFOkHCN0u6XTwn6VGZus2tKsB5l4Cx0xr5MCGGSnSKSDFUHagWgJ+5GUWFMJ9y77qK1Ig7kbAuDFeH+4m49ODZCrfmWzB wifi_devices</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Private_key:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----BEGIN RSA PRIVATE KEY-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MIIEogIBAAKCAQEAvMeMiLzdSh4qKqovSWoVIGTfQm97F6Qpqb/AYmV7ehj7iRNM</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MLxaPI/nPJcZvGL/7p4S8vD8kIkjD8HIUggINm9Ng9SFYfFlG1yJDqnTQxeWkMdN</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">nT32hPV0SanNx/OS+4eYzR4nvwMerrYT3CPhfHQ/JGUSTo97J3r9+kve0NxvamsF</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">qobxsr9gjnG5mCgPnQDNTEmtRh4nTAjyJLmZo3AOouMLh9UXNd5Hv45skxRRJuF3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">9kuGxy/YKRTpBwjdLul08J+lRmbrNrSrAeZeAsdMa+TAhhkp0ikgxVB2oFoCfuRl</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">FhTCfcu+6itSIO5GwLgxXh/uJuPTg2Qq35lswQIDAQABAoIBAAJdaZhI7WjBSfvw</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">19jOmGcofFeDuAIKz27N9SYGaW6VI4mLEVhG88ZwcxAiQHNItjYSCuC6Ph+9aBAJ</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">eG32pcuwx0LQhb89W+vk0964J+peQEeeB43hudXekU9e7jIEDiJSh4qCRzMwYdEE</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fOk0Fd4OQsA89+a+C2fqNYZOLwNkygp0lxGuaM8ZKuDHgkRKZJYGd8V8GltMiVID</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">+LT5I4+0PYtT77a1G1GZ6itSb60mcPtFWU/X4I/U1MSvc+jJCzJFP8qEe3caBG1p</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">+J1aZAplSAN5IUE2l7/PEyCvxDL9FCbvHmdTrTQ9a8JyHGQJwTWcfk30HHJ71Zi8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ng94DOUCgYEA3VDS9cZRxZsmr7jm+A4mrIoevu/p/2vYbhE9fyxuQG0rC1gK5iRY</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">b/Mdtzn5+3oFXZT/e07FfFtERPGkp/yC6FgfNUpjzTDnWW4Hv9JO9UYSQKcn+x8v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/vlkLbxBRXmkUwnf7WOGeBsjjMznlHdkpctcBBF9O1CmwTWbp762/YMCgYEA2l1f</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dcUwV5aDLtLtRm9Loy1e2G5/iJ8PliJh1JXPFFmRBKyatJ9pUAstJc6q5Jktd958</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dyNBUKu4QBzdhAHOnW7RFt/Vkv2mYaFDNFx9t7Fhqe9pSiDMzcz5qnT69avEm88M</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">KFuI0vx/qPUUtTJhBABdwySX+M9KdFjxHIOx/WsCgYBUyeZIqtYhMrO7lsdGOYWv</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">jKsC079+T773TDuXQVpr7GcVTYG/ciU/npC/5cJUCgeMNs06XI9keULKdxlyElfE</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">1B4AuKNLtXSs2m61mskNRu8vPdsfZm9o6/rpWrpW96dw+NOFix+1XBBenRIL20IA</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Es0J8flchCWe1/7uYS6SKQKBgGq9B6OGvwmhbgBeZFNwpbVewSTkZny+25yUs+N5</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Ux7sZSG2yWyPG6hfvjLj4c8aPQqB+6800YGAXvEf6vvS8k8sUxJuWXSffkvsyu/2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">YhF/qHCrsXjlrZbPoh67Tcz2qIVM4PF9RNV1TWWmXvfvZ1LQZwSzh4G8ufVDYKCC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">k2d/AoGAQtgUlN8l5psZfrgFoAOkwphvp50sE61Sxww1HO+qVaWlEp3119C6iLwD</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">KiKe84SGAFj/UwumtFYz4bzAqBYVcbQZvzZ2MK2nEjaDSI59Br7aQlthEMg2BEXM</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">AVN26KwjzDRbQZAPf497+/gH8YuikvJKdzu01rO4riQNYSQALVw=</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----END RSA PRIVATE KEY-----</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>Đem file <code>public_key</code> ở trên và gắn vào file <code>authorized_keys</code> của Server.</strong></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="setup-authorized-key"></a>Setup Authorized Key<a class="hash-link" href="#setup-authorized-key" title="Direct link to heading">#</a></h3><p>Dynamic keys. Cập nhật sau...</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="cài-đặt-các-gói"></a>Cài Đặt Các Gói<a class="hash-link" href="#cài-đặt-các-gói" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">opkg update</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">opkg install ttyd prometheus-node-exporter-lua-bmx6 prometheus-node-exporter-lua-bmx7 prometheus-node-exporter-lua-nat_traffic prometheus-node-exporter-lua-netstat prometheus-node-exporter-lua-openwrt prometheus-node-exporter-lua-textfile prometheus-node-exporter-lua-wifi prometheus-node-exporter-lua-wifi_stations autossh</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="config-ttyd"></a>Config TTYD<a class="hash-link" href="#config-ttyd" title="Direct link to heading">#</a></h3><p><strong>Nội dung config:</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">config ttyd</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option interface &#x27;@loopback&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option command &#x27;/bin/sh -l</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>Restart và enable service</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/etc/init.d/ttyd restart</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/etc/init.d/ttyd enable</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="config-autossh"></a>Config AutoSSH<a class="hash-link" href="#config-autossh" title="Direct link to heading">#</a></h3><p><strong>Nội dung config:</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config autossh</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">option ssh &#x27;-N -T</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-o StrictHostKeyChecking=no</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-o ServerAliveInterval=60</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-o ServerAliveCountMax=10</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-R $LOCAL_NAT_IP:2222:localhost:22</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-R $LOCAL_NAT_IP:9100:localhost:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-R $LOCAL_NAT_IP:7681:localhost:7681</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">noaccess@ssh.aps.meganet.com.vn -p 10422&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">option gatetime &#x27;0&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">option monitorport &#x27;0&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">option poll &#x27;600&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">option enabled &#x27;1&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>Restart và enable service</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/etc/init.d/autossh restart</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/etc/init.d/autossh enable</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="prometheus-lua"></a>Prometheus Lua<a class="hash-link" href="#prometheus-lua" title="Direct link to heading">#</a></h3><p>Không có gì cần config, tuy nhiên cần hiểu cấu trúc thư mục để <code>develop</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="access-point-settings"></a>ACCESS POINT SETTINGS<a class="hash-link" href="#access-point-settings" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="setting-sóng-wifi"></a>Setting Sóng Wifi<a class="hash-link" href="#setting-sóng-wifi" title="Direct link to heading">#</a></h3><p><strong>Wifi không đặt mật khẩu:</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">config wifi-device &#x27;radio0&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option type &#x27;mac80211&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option channel &#x27;36&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option hwmode &#x27;11a&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option path &#x27;pci0000:00/0000:00:00.0&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option htmode &#x27;VHT80&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config wifi-iface &#x27;default_radio0&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option device &#x27;radio0&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option network &#x27;lan&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option mode &#x27;ap&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option encryption &#x27;none&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option ssid &#x27;CuongPV&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config wifi-device &#x27;radio1&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option type &#x27;mac80211&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option channel &#x27;11&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option hwmode &#x27;11g&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option path &#x27;platform/ahb/18100000.wmac&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option htmode &#x27;HT20&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config wifi-iface &#x27;default_radio1&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option device &#x27;radio1&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option network &#x27;lan&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option mode &#x27;ap&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option encryption &#x27;none&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option ssid &#x27;CuongPV&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>Wifi đặt mật khẩu:</strong> </p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">config wifi-device &#x27;radio0&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option type &#x27;mac80211&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option channel &#x27;36&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option hwmode &#x27;11a&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option path &#x27;pci0000:00/0000:00:00.0&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option htmode &#x27;VHT80&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config wifi-iface &#x27;default_radio0&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option device &#x27;radio0&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option network &#x27;lan&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option mode &#x27;ap&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option ssid &#x27;CuongPV&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option key &#x27;123456789&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option encryption &#x27;psk2&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config wifi-device &#x27;radio1&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option type &#x27;mac80211&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option channel &#x27;11&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option hwmode &#x27;11g&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option path &#x27;platform/ahb/18100000.wmac&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option htmode &#x27;HT20&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config wifi-iface &#x27;default_radio1&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option device &#x27;radio1&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option network &#x27;lan&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option mode &#x27;ap&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option key &#x27;123456789&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option ssid &#x27;CuongPV 5GHz&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option encryption &#x27;psk2&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>Roaming nhiều thiết bị:</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">config wifi-device &#x27;radio0&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option type &#x27;mac80211&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option channel &#x27;36&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option hwmode &#x27;11a&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option path &#x27;pci0000:00/0000:00:00.0&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option htmode &#x27;VHT80&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config wifi-iface &#x27;default_radio0&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option device &#x27;radio0&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option network &#x27;lan&#x27;  # Client kết nối sẽ được đẩy vào internet lan</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option mode &#x27;ap&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option ssid &#x27;CuongPV&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option key &#x27;123456789&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option encryption &#x27;psk2&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option ft_over_ds &#x27;1&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option ft_psk_generate_local &#x27;1&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option ieee80211r &#x27;1&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ### Start Roaming Option ###</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        # Nên khác nhau trong một khu vực Roaming, tương lai sẽ xử lý vụ khác nhau sau.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        # Tạm thời cần roaming thì thêm option này vào</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option mobility_domain &#x27;ff00&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ### End Roaming Option ###</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config wifi-device &#x27;radio1&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option type &#x27;mac80211&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option channel &#x27;11&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option hwmode &#x27;11g&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option path &#x27;platform/ahb/18100000.wmac&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option htmode &#x27;HT20&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config wifi-iface &#x27;default_radio1&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option device &#x27;radio1&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option network &#x27;lan&#x27; # Client kết nối sẽ được đẩy vào internet lan</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option mode &#x27;ap&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option key &#x27;123456789&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option ssid &#x27;CuongPV 5GHz&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option encryption &#x27;psk2&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option ft_over_ds &#x27;1&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ### Start Roaming Option ###</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        # Nên khác nhau trong một khu vực Roaming, tương lai sẽ xử lý vụ khác nhau sau.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        # Tạm thời cần roaming thì thêm option này vào</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option mobility_domain &#x27;ff00&#x27; </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ### End Roaming Option ###</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option ft_psk_generate_local &#x27;1&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        option ieee80211r &#x27;1&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="setting-captive-portal"></a>Setting Captive Portal<a class="hash-link" href="#setting-captive-portal" title="Direct link to heading">#</a></h3><p>Có 2 option để có thể cho người dùng acces vào access point</p><p><strong>Can thiệp từ Server</strong></p><p>Document</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">root@OpenWrt:/etc/config# ndsctl</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Usage: ndsctl [options] command [arguments]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">options:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -s &lt;path&gt;           Path to the socket</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  -h                  Print usage</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">commands:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  status</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    View the status of opennds</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  clients</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Display machine-readable client list</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  json  mac|ip|token(optional)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Display client list in json format</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    mac|ip|token is optional, if not specified, all clients are listed</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  stop</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Stop the running opennds</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  auth mac|ip|token sessiontimeout(minutes) uploadrate(kb/s) downloadrate(kb/s) uploadquota(kB) downloadquota(kB) customstring</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Authenticate client with specified mac, ip or token</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    sessiontimeout sets the session duration. Unlimited if 0, defaults to global setting if null (double quotes).</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    The client will be deauthenticated once the sessiontimout period has passed.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uploadrate and downloadrate are the maximum allowed data rates. Unlimited if 0, global setting if null (&quot;&quot;).</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uploadquota and downloadquota are the maximum volumes of data allowed. Unlimited if 0, global setting if null (&quot;&quot;).</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    customstring is a custom string that will be passed to BinAuth.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Example: ndsctl auth 1400 300 1500 500000 1000000 &quot;This is a Custom String&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  deauth mac|ip|token</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Deauthenticate user with specified mac, ip or token</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  block mac</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Block the given MAC address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  unblock mac</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Unblock the given MAC address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  allow mac</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Allow the given MAC address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  unallow mac</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Unallow the given MAC address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  trust mac</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Trust the given MAC address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  untrust mac</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Untrust the given MAC address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  debuglevel n</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Set debug level to n (0=silent, 1=Normal, 2=Info, 3=debug)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>Bình thường đến Access Point</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;!DOCTYPE html&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;html&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;head&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;meta http-equiv=&quot;Cache-Control&quot; content=&quot;no-cache, no-store, must-revalidate&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;meta http-equiv=&quot;Pragma&quot; content=&quot;no-cache&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;meta http-equiv=&quot;Expires&quot; content=&quot;0&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;meta charset=&quot;utf-8&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;link rel=&quot;shortcut icon&quot; href=&quot;/images/splash.jpg&quot; type=&quot;image/x-icon&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/splash.css&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;title&gt;MegaNet Gateway - Testing by CuongPV&lt;/title&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;!--</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Content:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    openNDS (NDS), by default, serves this splash page (splash.html)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    when a client device Captive Portal Detection (CPD) process</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    attempts to send a port 80 request to the Internet.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    You may either embed css in this file or use a separate .css file</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    in the same directory as this file, as demonstrated here.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    It should be noted when designing a custom splash page</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    that for security reasons many CPD implementations:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Immediately close the browser when the client has authenticated.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Prohibit the use of href links.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Prohibit downloading of external files</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            (including .css and .js).</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Prohibit the execution of javascript.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Authentication:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    A client is authenticated on submitting an HTTP form, method=get,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    passing http://192.168.1.1:2050/opennds_auth/, c9907c12, http://nmcheck.gnome.org/ and optionally username and password</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    It is also possible to authenticate using an href link to</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    http://192.168.1.1:2050/opennds_auth/?tok=c9907c12&amp;amp;redir=http://nmcheck.gnome.org/ but be aware that many device Captive Portal Detection</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    processes prohibit href links, so this method may not work with</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    all client devices.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Available variables:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    http://192.168.1.1:2050/opennds_auth/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    http://192.168.1.1:2050/opennds_deny/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    http://192.168.1.1:2050/opennds_auth/?tok=c9907c12&amp;amp;redir=http://nmcheck.gnome.org/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    192.168.1.127</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    9c:30:5b:e3:28:5d</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    44:d1:fa:59:22:6a</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    MegaNet Gateway - Testing by CuongPV</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    250</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    http://nmcheck.gnome.org/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    c9907c12</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    c9907c12</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    5d 20h 5m 25s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    5.2.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    username</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    password</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">--&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/head&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;body&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;div class=&quot;offset&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;med-blue&gt;MegaNet Gateway - Testing by CuongPV&lt;/med-blue&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;div class=&quot;insert&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;big-red&gt;Welcome!&lt;/big-red&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;hr&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;br&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;italic-black&gt;For abc access to the Internet, please tap or click Continue.&lt;/italic-black&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;br&gt;&lt;br&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;hr&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;form method=&quot;get&quot; action=&quot;http://192.168.1.1:2050/opennds_auth/&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;input type=&quot;hidden&quot; name=&quot;tok&quot; value=&quot;c9907c12&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;input type=&quot;hidden&quot; name=&quot;redir&quot; value=&quot;http://nmcheck.gnome.org/&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;input type=&quot;submit&quot; value=&quot;Continue&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/form&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;hr&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;copy-right&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;img style=&quot;float:left; max-height:5em; height:auto; width:auto&quot; src=&quot;/images/splash.jpg&quot; alt=&quot;Splash Page: For access to the Internet.&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;br&gt;&lt;br&gt;&lt;br&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Copyright &amp;copy; The openNDS Contributors 2004-2020.&lt;br&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    This software is released under the GNU GPL license.&lt;br&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    openNDS version 5.2.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/copy-right&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/div&gt;&lt;/div&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/body&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/html&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>File Backend - Biến Nguyên Mẫu</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;!DOCTYPE html&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;html&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;head&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;meta http-equiv=&quot;Cache-Control&quot; content=&quot;no-cache, no-store, must-revalidate&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;meta http-equiv=&quot;Pragma&quot; content=&quot;no-cache&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;meta http-equiv=&quot;Expires&quot; content=&quot;0&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;meta charset=&quot;utf-8&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;link rel=&quot;shortcut icon&quot; href=&quot;/images/splash.jpg&quot; type=&quot;image/x-icon&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/splash.css&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;title&gt;$gatewayname&lt;/title&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;!--</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Content:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    openNDS (NDS), by default, serves this splash page (splash.html)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    when a client device Captive Portal Detection (CPD) process</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    attempts to send a port 80 request to the Internet.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    You may either embed css in this file or use a separate .css file</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    in the same directory as this file, as demonstrated here.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    It should be noted when designing a custom splash page</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    that for security reasons many CPD implementations:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Immediately close the browser when the client has authenticated.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Prohibit the use of href links.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Prohibit downloading of external files</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            (including .css and .js).</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Prohibit the execution of javascript.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Authentication:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    A client is authenticated on submitting an HTTP form, method=get,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    passing $authaction, $tok, $redir and optionally $username and $password</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    It is also possible to authenticate using an href link to</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $authtarget but be aware that many device Captive Portal Detection</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    processes prohibit href links, so this method may not work with</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    all client devices.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Available variables:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $authaction</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $denyaction</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $authtarget</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $clientip</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $clientmac</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $clientupload</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $clientdownload</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $gatewaymac</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $gatewayname</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $maxclients</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $nclients</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $redir</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $tok</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $token</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $uptime</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $version</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $username</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $password</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">--&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/head&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;body&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;div class=&quot;offset&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;med-blue&gt;$gatewayname&lt;/med-blue&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;div class=&quot;insert&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;big-red&gt;Welcome!&lt;/big-red&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;hr&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;br&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;italic-black&gt;For abc access to the Internet, please tap or click Continue.&lt;/italic-black&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;br&gt;&lt;br&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;hr&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;form method=&quot;get&quot; action=&quot;$authaction&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;input type=&quot;hidden&quot; name=&quot;tok&quot; value=&quot;$tok&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;input type=&quot;hidden&quot; name=&quot;redir&quot; value=&quot;$redir&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;input type=&quot;submit&quot; value=&quot;Continue&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/form&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;hr&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;copy-right&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;img style=&quot;float:left; max-height:5em; height:auto; width:auto&quot; src=&quot;/images/splash.jpg&quot; alt=&quot;Splash Page: For access to the Internet.&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;br&gt;&lt;br&gt;&lt;br&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Copyright &amp;copy; The openNDS Contributors 2004-2020.&lt;br&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    This software is released under the GNU GPL license.&lt;br&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    openNDS version $version</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/copy-right&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/div&gt;&lt;/div&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/body&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/html&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Yêu cầu phải có <code>token</code> để có thể access internet, ví dụ :</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Link: http://192.168.1.1:2050/opennds_auth/?tok=c9907c12&amp;amp;redir=http://nmcheck.gnome.org/</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Mỗi thiết bị sẽ có riêng một <code>redir</code> variable không cố định. Tuy nhiên, phải có biến này, nếu không thiết bị sẽ không thể nhận biết Access Point đã cho phép kết nối internet hay chưa.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="access-point-advanced-setting"></a>Access Point Advanced Setting<a class="hash-link" href="#access-point-advanced-setting" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="network-config"></a>Network Config<a class="hash-link" href="#network-config" title="Direct link to heading">#</a></h3><p><strong>Cấu hình network:</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">config interface &#x27;loopback&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option ifname &#x27;lo&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option proto &#x27;static&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option ipaddr &#x27;127.0.0.1&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option netmask &#x27;255.0.0.0&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config globals &#x27;globals&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option ula_prefix &#x27;fdab:fdc1:a5c7::/48&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config interface &#x27;lan&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option type &#x27;bridge&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option ifname &#x27;eth0.1&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option proto &#x27;static&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option ipaddr &#x27;192.168.1.1&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option netmask &#x27;255.255.255.0&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option ip6assign &#x27;60&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config interface &#x27;wan&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option ifname &#x27;eth0.2&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option proto &#x27;dhcp&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config interface &#x27;wan6&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option ifname &#x27;eth0.2&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option proto &#x27;dhcpv6&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config switch</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option name &#x27;switch0&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option reset &#x27;1&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option enable_vlan &#x27;1&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config switch_vlan</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option device &#x27;switch0&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option vlan &#x27;1&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option ports &#x27;2 0t&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">config switch_vlan</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option device &#x27;switch0&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option vlan &#x27;2&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    option ports &#x27;3 0t&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ul><li><p><code>eth0.1</code> bridge với interface ảo tên là <code>lan</code> có static IP là <code>192.168.1.1</code>.</p></li><li><p><code>eth0.2</code> được cắm trực tiếp bằng cáp ethernet và được cấu hình IP DHCP.</p></li></ul><p>Có thể tạo thêm interfaces.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="access-point-management"></a>ACCESS POINT MANAGEMENT<a class="hash-link" href="#access-point-management" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="điều-khiển"></a>Điều Khiển<a class="hash-link" href="#điều-khiển" title="Direct link to heading">#</a></h3><p>Truy cập domain:</p><blockquote><p><a href="https://ssh.aps.meganet.com.vn/$username/$password/$NAT_IP" target="_blank" rel="noopener noreferrer">https://ssh.aps.meganet.com.vn/$username/$password/$NAT_IP</a></p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="giám-sát"></a>Giám Sát<a class="hash-link" href="#giám-sát" title="Direct link to heading">#</a></h3><p><strong>API:</strong></p><blockquote><p><a href="https://prometheus.meganet.com.vn" target="_blank" rel="noopener noreferrer">https://prometheus.meganet.com.vn</a></p></blockquote><p><strong>Grafana UI:</strong></p><blockquote><p><a href="https://grafana.meganet.com.vn" target="_blank" rel="noopener noreferrer">https://grafana.meganet.com.vn</a></p></blockquote><p><strong>Tắt Cảnh Báo</strong></p><blockquote><p><a href="https://alertmanager.meganet.com.vn/" target="_blank" rel="noopener noreferrer">https://alertmanager.meganet.com.vn/</a></p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="đếm-session"></a>Đếm Session<a class="hash-link" href="#đếm-session" title="Direct link to heading">#</a></h3><p>Server Prometheus Pull tất cả  system log của tất cả AP về một nơi và bắt đầu đếm chúng.</p><blockquote><p>cat /tmp/ndslog/ndslog.log</p></blockquote><p><strong>Ví dụ tính theo lượt nhập thông tin:</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Thu Mar  4 10:06:03 UTC 2021, username=new demo, emailAddress=demo@deme.com, macaddress=9c:30:5b:e3:28:5d, clientzone=LocalZone:wlan1, useragent=Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) coc_coc_browser/93.0.148 Chrome/87.0.4280.148 Safari/537.36</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Thu Mar  4 10:06:04 UTC 2021, username=new demo, emailAddress=demo@deme.com, macaddress=9c:30:5b:e3:28:5d, clientzone=LocalZone:wlan1, useragent=Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) coc_coc_browser/93.0.148 Chrome/87.0.4280.148 Safari/537.36</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Thu Mar  4 10:06:05 UTC 2021, username=new demo, emailAddress=demo@deme.com, macaddress=9c:30:5b:e3:28:5d, clientzone=LocalZone:wlan1, useragent=Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) coc_coc_browser/93.0.148 Chrome/87.0.4280.148 Safari/537.36</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Thu Mar  4 10:12:11 UTC 2021, username=cuongpv, emailAddress=cuongpv@sudosys.com, macaddress=, clientzone=MeshZone:get_client_interface.sh[local_interface]isisisisis, useragent=Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) coc_coc_browser/93.0.148 Chrome/87.0.4280.148 Safari/537.36</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Thu Mar  4 10:13:03 UTC 2021, username=sysadmin, emailAddress=cuongpv@sudosys.com, macaddress=9c:30:5b:e3:28:5d, clientzone=LocalZone:wlan1, useragent=Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) coc_coc_browser/93.0.148 Chrome/87.0.4280.148 Safari/537.36</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Thu Mar  4 10:13:16 UTC 2021, username=sysadmin, emailAddress=cuongpv@sudosys.com, macaddress=9c:30:5b:e3:28:5d, clientzone=LocalZone:wlan1, useragent=Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) coc_coc_browser/93.0.148 Chrome/87.0.4280.148 Safari/537.36</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Thu Mar  4 10:13:27 UTC 2021, username=sysadmin, emailAddress=cuongpv@sudosys.com, macaddress=9c:30:5b:e3:28:5d, clientzone=LocalZone:wlan1, useragent=Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) coc_coc_browser/93.0.148 Chrome/87.0.4280.148 Safari/537.36</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>Ví dụ tính theo lượt click continue:</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Wed Mar 10 17:24:34 2021 daemon.info opennds[4935]: Client @ 192.168.1.127 9c:30:5b:e3:28:5d, quotas:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Wed Mar 10 17:25:34 2021 daemon.debug opennds[4935]: Read outgoing traffic for 192.168.1.127: Bytes=1729793</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Wed Mar 10 17:25:34 2021 daemon.debug opennds[4935]: 192.168.1.127 - Updated counter.outgoing to 1729793 bytes.  Updated last_updated to 1615397134</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Wed Mar 10 17:25:34 2021 daemon.debug opennds[4935]: Read incoming traffic for 192.168.1.127: Bytes=5630151</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Wed Mar 10 17:25:34 2021 daemon.debug opennds[4935]: 192.168.1.127 - Updated counter.incoming to 5630151 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Wed Mar 10 17:25:34 2021 daemon.info opennds[4935]: Client @ 192.168.1.127 9c:30:5b:e3:28:5d, quotas:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Wed Mar 10 17:25:34 2021 daemon.debug opennds[4935]: Read outgoing traffic for 192.168.1.127: Bytes=1734448</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Wed Mar 10 17:25:34 2021 daemon.debug opennds[4935]: 192.168.1.127 - Updated counter.outgoing to 1734448 bytes.  Updated last_updated to 1615397134</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Wed Mar 10 17:25:34 2021 daemon.debug opennds[4935]: Read incoming traffic for 192.168.1.127: Bytes=5631556</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Wed Mar 10 17:25:34 2021 daemon.debug opennds[4935]: 192.168.1.127 - Updated counter.incoming to 5631556 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Wed Mar 10 17:26:34 2021 daemon.debug opennds[4935]: Read outgoing traffic for 192.168.1.127: Bytes=1834935</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Wed Mar 10 17:26:34 2021 daemon.debug opennds[4935]: 192.168.1.127 - Updated counter.outgoing to 1834935 bytes.  Updated last_updated to 1615397194</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Wed Mar 10 17:26:34 2021 daemon.debug opennds[4935]: Read incoming traffic for 192.168.1.127: Bytes=5942562</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Wed Mar 10 17:26:34 2021 daemon.debug opennds[4935]: 192.168.1.127 - Updated counter.incoming to 5942562 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Wed Mar 10 17:26:34 2021 daemon.info opennds[4935]: Client @ 192.168.1.127 9c:30:5b:e3:28:5d, quotas:</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="xem-thông-tin-thiết-bị"></a>Xem Thông Tin Thiết Bị<a class="hash-link" href="#xem-thông-tin-thiết-bị" title="Direct link to heading">#</a></h3><p>Vì hostname sẽ được thay đỗi, cho nên chúng ta cần xem thông tin Access Point trên file.</p><blockquote><p>cat /tmp/board.json</p></blockquote><blockquote><p>/tmp/sysinfo/board_name</p></blockquote><blockquote><p>/tmp/sysinfo/model</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="provision-script"></a>PROVISION SCRIPT<a class="hash-link" href="#provision-script" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="setup-command"></a>Setup Command<a class="hash-link" href="#setup-command" title="Direct link to heading">#</a></h3><p>Lệnh cài đặt phía dưới được áp dụng cho tất cả các Access Point của YunCore, bao gồm <code>501</code>, <code>701</code>, <code>702</code>, v.v...</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">wget --no-check-certificate  https://raw.githubusercontent.com/khoahoc/openwrt/main/ap_provision.sh -O - -q | sh</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="github-repository"></a>Github Repository<a class="hash-link" href="#github-repository" title="Direct link to heading">#</a></h3><p>Link: <a href="https://github.com/khoahoc/openwrt" target="_blank" rel="noopener noreferrer">https://github.com/khoahoc/openwrt</a></p><p><em>Script Automation được viết bởi tác giả theo cấu trúc document trên. Nếu Script trên được viết không đúng theo cấu trúc trên thì Script này được xem là lỗi thời</em></p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/sysadmin">sysadmin</a></div></footer></article><div><a href="https://github.com/khoahoc/blog/edit/master/blog/2021-03-08-wifi-provision.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/system-architect"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">« System Architect</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/opennds-hoat-dong-nhu-the-nao"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">OpenNDS Hoạt Động Như Thế Nào »</div></a></div></nav></div></main><div class="col col--2"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#phần-setup-server" class="table-of-contents__link">PHẦN SETUP SERVER</a><ul><li><a href="#setup-ssh-tunnel" class="table-of-contents__link">Setup SSH Tunnel</a></li><li><a href="#setup-nginx" class="table-of-contents__link">Setup Nginx</a></li><li><a href="#openssh-config" class="table-of-contents__link">OpenSSH Config</a></li><li><a href="#setup-prometheus" class="table-of-contents__link">Setup Prometheus</a></li></ul></li><li><a href="#phần-setup-access-point" class="table-of-contents__link">PHẦN SETUP ACCESS POINT</a><ul><li><a href="#setup-private-key" class="table-of-contents__link">Setup Private Key</a></li><li><a href="#setup-authorized-key" class="table-of-contents__link">Setup Authorized Key</a></li><li><a href="#cài-đặt-các-gói" class="table-of-contents__link">Cài Đặt Các Gói</a></li><li><a href="#config-ttyd" class="table-of-contents__link">Config TTYD</a></li><li><a href="#config-autossh" class="table-of-contents__link">Config AutoSSH</a></li><li><a href="#prometheus-lua" class="table-of-contents__link">Prometheus Lua</a></li></ul></li><li><a href="#access-point-settings" class="table-of-contents__link">ACCESS POINT SETTINGS</a><ul><li><a href="#setting-sóng-wifi" class="table-of-contents__link">Setting Sóng Wifi</a></li><li><a href="#setting-captive-portal" class="table-of-contents__link">Setting Captive Portal</a></li></ul></li><li><a href="#access-point-advanced-setting" class="table-of-contents__link">Access Point Advanced Setting</a><ul><li><a href="#network-config" class="table-of-contents__link">Network Config</a></li></ul></li><li><a href="#access-point-management" class="table-of-contents__link">ACCESS POINT MANAGEMENT</a><ul><li><a href="#điều-khiển" class="table-of-contents__link">Điều Khiển</a></li><li><a href="#giám-sát" class="table-of-contents__link">Giám Sát</a></li><li><a href="#đếm-session" class="table-of-contents__link">Đếm Session</a></li><li><a href="#xem-thông-tin-thiết-bị" class="table-of-contents__link">Xem Thông Tin Thiết Bị</a></li></ul></li><li><a href="#provision-script" class="table-of-contents__link">PROVISION SCRIPT</a><ul><li><a href="#setup-command" class="table-of-contents__link">Setup Command</a></li><li><a href="#github-repository" class="table-of-contents__link">Github Repository</a></li></ul></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Trang</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Tài Liệu Hướng Dẫn</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog Cá Nhân</a></li><li class="footer__item"><a href="#" class="footer__link-item">Ủng Hộ Tôi</a></li><li class="footer__item"><a class="footer__link-item" href="/">Trang Chủ</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Kênh Youtube</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.youtube.com/watch?v=PuS1WhH6qyQ&amp;list=PL9of5PiY1lkfIcEnt2RZ4Fiq0K_JLu3k_" target="_blank" rel="noopener noreferrer" class="footer__link-item">Lắng Động Đêm Về</a></li><li class="footer__item"><a href="https://www.youtube.com/watch?v=JKBXNUKkSRs&amp;list=PUsSrvUHWzNt7yXWxzOkyjhw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Nhạc Đại Pháp</a></li><li class="footer__item"><a href="#" class="footer__link-item" target="_blank" rel="noopener noreferrer">Kênh Của Tôi</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Liên Kết</h4><ul class="footer__items"><li class="footer__item"><a href="https://vi.falundafa.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Pháp Luân Công</a></li><li class="footer__item"><a href="https://vn.minghui.org/news/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Minh Huệ Net</a></li><li class="footer__item"><a href="https://tinhhoa.tv/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tinh Hoa TV</a></li><li class="footer__item"><a href="https://etviet.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">The Epoch Times</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 SudoSys, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.21c8417a.js"></script>
<script src="/runtime~main.ced82d51.js"></script>
<script src="/main.46f641bd.js"></script>
<script src="/1.7da52d14.js"></script>
<script src="/2.b2941da6.js"></script>
<script src="/ccc49370.6bb6f087.js"></script>
<script src="/94c458fa.2f515f99.js"></script>
<script src="/5f7f0334.607699e2.js"></script>
</body>
</html>