<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="SudoSys.com Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="SudoSys.com Blog Atom Feed"><title data-react-helmet="true">Posts tagged &quot;sysadmin&quot; | SudoSys.com</title><meta data-react-helmet="true" property="og:title" content="Posts tagged &quot;sysadmin&quot; | SudoSys.com"><meta data-react-helmet="true" name="description" content="Blog | Tagged &quot;sysadmin&quot;"><meta data-react-helmet="true" property="og:description" content="Blog | Tagged &quot;sysadmin&quot;"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/styles.412d942f.css">
<link rel="preload" href="/styles.f8e4cf8b.js" as="script">
<link rel="preload" href="/runtime~main.935ca4d1.js" as="script">
<link rel="preload" href="/main.b4cb01c9.js" as="script">
<link rel="preload" href="/1.95217654.js" as="script">
<link rel="preload" href="/2.d3a79ead.js" as="script">
<link rel="preload" href="/6875c492.2d98faf1.js" as="script">
<link rel="preload" href="/05423931.d37350a3.js" as="script">
<link rel="preload" href="/08948c18.8663d505.js" as="script">
<link rel="preload" href="/9212fa2c.431e296f.js" as="script">
<link rel="preload" href="/39f3b60d.a0444a26.js" as="script">
<link rel="preload" href="/967ce54a.41956c6b.js" as="script">
<link rel="preload" href="/754a5f52.0cc23b16.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">SudoSys.com</strong></a><a class="navbar__item navbar__link" href="/docs/">Tài Liệu Hướng Dẫn</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog Cá Nhân</a><a href="#" class="navbar__item navbar__link">Ủng Hộ</a><a href="mailto: cuongpv@sudosys.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Liên Hệ</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/khoahoc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">SudoSys.com</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">Tài Liệu Hướng Dẫn</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">Blog Cá Nhân</a></li><li class="menu__list-item"><a href="#" class="menu__link">Ủng Hộ</a></li><li class="menu__list-item"><a href="mailto: cuongpv@sudosys.com" target="_blank" rel="noopener noreferrer" class="menu__link">Liên Hệ</a></li><li class="menu__list-item"><a href="https://github.com/khoahoc" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--2"><div class="sidebar_SWld thin-scrollbar"><h3 class="sidebarItemTitle_Km2m">Recent posts</h3><ul class="sidebarItemList_3UpA"><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/wifi-provision">Wifi Provision</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/opennds-hoat-dong-nhu-the-nao">OpenNDS Hoạt Động Như Thế Nào</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/huong-dan-cai-dat-firmware-OpenWRT">Hướng Dẫn Cài Đặt Firmware OpenWRT</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/ky-thuat-cham-cong">Kỹ Thuật Chấm Công</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/terminal-screen-cho-sysadmin">Terminal Screen Cho Sysadmin</a></li></ul></div></div><main class="col col--8"><h1>4 posts tagged with &quot;sysadmin&quot;</h1><a href="/blog/tags">View All Tags</a><div class="margin-vert--xl"><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3-lP"><a href="/blog/wifi-provision">Wifi Provision</a></h2><div class="margin-vert--md"><time datetime="2021-03-08T00:00:00.000Z" class="blogPostDate_Ta7i">March 8, 2021  · 3 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" target="_blank" rel="noreferrer noopener"><img src="/img/falundafa_avatar.jpg" alt="Hacker 6009"></a><div class="avatar__intro"><h4 class="avatar__name"><a target="_blank" rel="noreferrer noopener">Hacker 6009</a></h4><small class="avatar__subtitle">Blog Admin</small></div></div></header><section class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="wifi-provision"></a>Wifi Provision<a class="hash-link" href="#wifi-provision" title="Direct link to heading">#</a></h1><p>Đây là tài liệu document chính hướng dẫn manual setup toàn bộ technical architect giữa các Access Point và Server Prometheus dược dàn dựng bởi <code>sudosys.com</code>.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Phía dưới là quá trình setup kỹ thuật, không bao gồm định nghĩa và hướng dẫn chi tiết.</p></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Do trình độ kỹ thuật hạn hẹp, mong các bạn đọc giả có thể góp ý hoặc đặt câu hỏi thông qua phần <code>Liên Hệ</code> ở trên.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="phần-setup-server"></a>PHẦN SETUP SERVER<a class="hash-link" href="#phần-setup-server" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="setup-ssh-tunnel"></a>Setup SSH Tunnel<a class="hash-link" href="#setup-ssh-tunnel" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="thêm-tài-khoản-truy-cập-server"></a>Thêm tài khoản truy cập server<a class="hash-link" href="#thêm-tài-khoản-truy-cập-server" title="Direct link to heading">#</a></h4><p>Thêm user <code>noaccess</code> để các Access Point có thể SSH vào nhưng <code>không có quyền</code> gõ lệnh terminal:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo adduser --disabled-password --shell /sbin/nologin noaccess</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo  -u noaccess whoami</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo  -u noaccess ssh-keygen #Tạo folder và chmod cho lẹ</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo touch /home/noaccess/.ssh/authorized_keys</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo chmod 600 /home/noaccess/.ssh/authorized_keys</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="setup-nginx"></a>Setup Nginx<a class="hash-link" href="#setup-nginx" title="Direct link to heading">#</a></h3><p>Nginx gồm 2 chức năng:</p><ol><li>Phân giải tên miền vào hàng loạt IP khác nhau có cùng 1 TCP port TTYD của Access Point</li><li>Xác thực người dùng qua URL token hoặc username và password.</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">server {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        server_name ssh.aps.ip1.meganet.com.vn;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        location ^~ / {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            resolver 8.8.8.8;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header Host $host;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header X-Forwarded-Proto $scheme;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header X-Forwarded-Port $server_port;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_http_version 1.1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header Upgrade $http_upgrade;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header Connection &quot;upgrade&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            location ~ &quot;^/(.*)/(.*)/(.*)/(.*)&quot; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                auth_request /auth;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                auth_request_set $auth_status $upstream_status;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_pass http://$3:7681/$4;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        location = /auth {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                internal;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                #proxy_pass http://127.0.0.1:8080/tms/aps/authorized;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_pass https://demo.meganet.com.vn/api/Prometheus/authorized;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_pass_request_body off;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_set_header Content-Length &quot;&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_set_header X-Original-URI $request_uri;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    listen 443 ssl http2; # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ssl_certificate /etc/letsencrypt/live/ssh.aps.ip1.meganet.com.vn/fullchain.pem; # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ssl_certificate_key /etc/letsencrypt/live/ssh.aps.ip1.meganet.com.vn/privkey.pem; # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">server {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if ($host = ssh.aps.ip1.meganet.com.vn) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return 301 https://$host$request_uri;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    } # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        listen 80;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        listen [::]:80;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        server_name ssh.aps.ip1.meganet.com.vn;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return 404; # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="openssh-config"></a>OpenSSH Config<a class="hash-link" href="#openssh-config" title="Direct link to heading">#</a></h3><p>Lưu ý các trường sau trong file <code>/etc/ssh/sshd_config</code>:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">IgnoreUserKnownHosts yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">AllowAgentForwarding yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">AllowTcpForwarding yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">X11Forwarding yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">PermitTunnel yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">TCPKeepAlive yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">PermitTTY yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GatewayPorts clientspecified</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Cấu hình xong nhớ restart service:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo systemctl restart ssh</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="phần-setup-access-point"></a>PHẦN SETUP ACCESS POINT<a class="hash-link" href="#phần-setup-access-point" title="Direct link to heading">#</a></h2><p>Có rất nhiều thứ cần phải setup như: cặp SSH <code>public_key</code> và <code>private key</code>; Các packages của OpenWRT để điều khiển như: <code>Prometheus</code>, <code>Node Exporter</code>, <code>Wifi Station</code>; <code>AutoSSH</code>; <code>TTYD</code>, <code>OpenNDS</code> v.v... OK, bắt đầu thôi.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="setup-private-key"></a>Setup Private Key<a class="hash-link" href="#setup-private-key" title="Direct link to heading">#</a></h3><p><em>Kết quả bên dưới sẽ áp dụng cho production, nên lưu ý dữ liệu của cặp key bên dưới</em></p><p>Public_key:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC8x4yIvN1KHioqqi9JahUgZN9Cb3sXpCmpv8BiZXt6GPuJE0wwvFo8j+c8lxm8Yv/unhLy8PyQiSMPwchSCAg2b02D1IVh8WUbXIkOqdNDF5aQx02dPfaE9XRJqc3H85L7h5jNHie/Ax6uthPcI+F8dD8kZRJOj3snev36S97Q3G9qawWqhvGyv2COcbmYKA+dAM1MSa1GHidMCPIkuZmjcA6i4wuH1Rc13ke/jmyTFFEm4Xf2S4bHL9gpFOkHCN0u6XTwn6VGZus2tKsB5l4Cx0xr5MCGGSnSKSDFUHagWgJ+5GUWFMJ9y77qK1Ig7kbAuDFeH+4m49ODZCrfmWzB wifi_devices</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Private_key:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----BEGIN RSA PRIVATE KEY-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MIIEogIBAAKCAQEAvMeMiLzdSh4qKqovSWoVIGTfQm97F6Qpqb/AYmV7ehj7iRNM</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MLxaPI/nPJcZvGL/7p4S8vD8kIkjD8HIUggINm9Ng9SFYfFlG1yJDqnTQxeWkMdN</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">nT32hPV0SanNx/OS+4eYzR4nvwMerrYT3CPhfHQ/JGUSTo97J3r9+kve0NxvamsF</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">qobxsr9gjnG5mCgPnQDNTEmtRh4nTAjyJLmZo3AOouMLh9UXNd5Hv45skxRRJuF3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">9kuGxy/YKRTpBwjdLul08J+lRmbrNrSrAeZeAsdMa+TAhhkp0ikgxVB2oFoCfuRl</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">FhTCfcu+6itSIO5GwLgxXh/uJuPTg2Qq35lswQIDAQABAoIBAAJdaZhI7WjBSfvw</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">19jOmGcofFeDuAIKz27N9SYGaW6VI4mLEVhG88ZwcxAiQHNItjYSCuC6Ph+9aBAJ</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">eG32pcuwx0LQhb89W+vk0964J+peQEeeB43hudXekU9e7jIEDiJSh4qCRzMwYdEE</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fOk0Fd4OQsA89+a+C2fqNYZOLwNkygp0lxGuaM8ZKuDHgkRKZJYGd8V8GltMiVID</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">+LT5I4+0PYtT77a1G1GZ6itSb60mcPtFWU/X4I/U1MSvc+jJCzJFP8qEe3caBG1p</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">+J1aZAplSAN5IUE2l7/PEyCvxDL9FCbvHmdTrTQ9a8JyHGQJwTWcfk30HHJ71Zi8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ng94DOUCgYEA3VDS9cZRxZsmr7jm+A4mrIoevu/p/2vYbhE9fyxuQG0rC1gK5iRY</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">b/Mdtzn5+3oFXZT/e07FfFtERPGkp/yC6FgfNUpjzTDnWW4Hv9JO9UYSQKcn+x8v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/vlkLbxBRXmkUwnf7WOGeBsjjMznlHdkpctcBBF9O1CmwTWbp762/YMCgYEA2l1f</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dcUwV5aDLtLtRm9Loy1e2G5/iJ8PliJh1JXPFFmRBKyatJ9pUAstJc6q5Jktd958</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dyNBUKu4QBzdhAHOnW7RFt/Vkv2mYaFDNFx9t7Fhqe9pSiDMzcz5qnT69avEm88M</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">KFuI0vx/qPUUtTJhBABdwySX+M9KdFjxHIOx/WsCgYBUyeZIqtYhMrO7lsdGOYWv</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">jKsC079+T773TDuXQVpr7GcVTYG/ciU/npC/5cJUCgeMNs06XI9keULKdxlyElfE</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">1B4AuKNLtXSs2m61mskNRu8vPdsfZm9o6/rpWrpW96dw+NOFix+1XBBenRIL20IA</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Es0J8flchCWe1/7uYS6SKQKBgGq9B6OGvwmhbgBeZFNwpbVewSTkZny+25yUs+N5</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Ux7sZSG2yWyPG6hfvjLj4c8aPQqB+6800YGAXvEf6vvS8k8sUxJuWXSffkvsyu/2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">YhF/qHCrsXjlrZbPoh67Tcz2qIVM4PF9RNV1TWWmXvfvZ1LQZwSzh4G8ufVDYKCC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">k2d/AoGAQtgUlN8l5psZfrgFoAOkwphvp50sE61Sxww1HO+qVaWlEp3119C6iLwD</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">KiKe84SGAFj/UwumtFYz4bzAqBYVcbQZvzZ2MK2nEjaDSI59Br7aQlthEMg2BEXM</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">AVN26KwjzDRbQZAPf497+/gH8YuikvJKdzu01rO4riQNYSQALVw=</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----END RSA PRIVATE KEY-----</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>Đem file <code>public_key</code> ở trên và gắn vào file <code>authorized_keys</code> của Server.</strong></p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/sysadmin">sysadmin</a></div><div class="col text--right"><a aria-label="Read more about Wifi Provision" href="/blog/wifi-provision"><strong>Read More</strong></a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3-lP"><a href="/blog/opennds-hoat-dong-nhu-the-nao">OpenNDS Hoạt Động Như Thế Nào</a></h2><div class="margin-vert--md"><time datetime="2021-03-03T00:00:00.000Z" class="blogPostDate_Ta7i">March 3, 2021  · 14 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" target="_blank" rel="noreferrer noopener"><img src="/img/falundafa_avatar.jpg" alt="Hacker 6009"></a><div class="avatar__intro"><h4 class="avatar__name"><a target="_blank" rel="noreferrer noopener">Hacker 6009</a></h4><small class="avatar__subtitle">Blog Admin</small></div></div></header><section class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="giới-thiệu"></a>GIỚI THIỆU<a class="hash-link" href="#giới-thiệu" title="Direct link to heading">#</a></h2><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Nội dung được dịch bởi tác giả tại <a href="https://openwrt.org/docs/guide-user/services/captive-portal/opennds" target="_blank" rel="noopener noreferrer">trang chủ OpenNDS</a> kèm với kiến thức hạn hẹp của bản thân</p></div></div><p>OpenNDS được tách ra từ phiên bản 4.5.0 của <a href="https://github.com/nodogsplash/nodogsplash" target="_blank" rel="noopener noreferrer">Nodogsplash</a> thành hai gói để dễ dàng phát triển Forward Authentication Service (FAS) API.</p><p>Mặc dù có API FAS , openNDS vẫn được tối ưu hóa để giảm sử dụng tài nguyên trên bộ định tuyến. Nhìn chung, tối thiểu 16MB Flash và 64MB RAM là đủ cho các chế độ hoạt động cơ bản.</p><p>Việc sử dụng API FAS nâng cao có thể thêm các gói bổ sung và một chút tài nguyên liên quan đến Flash và RAM.</p><p>Lưu ý : Từ phiên bản openNDS v7.0.0 trở đi, trang templated splash cũ không được dùng nữa và bị vô hiệu hóa, được thay thế bằng html động được tạo bởi login script, với rất ít thay đổi về nhu cầu Flash hoặc RAM.</p><p><em>openNDS is released under the GNU General Public License.</em></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="cách-opennds-nds-hoạt-động"></a>CÁCH OPENNDS (NDS) HOẠT ĐỘNG<a class="hash-link" href="#cách-opennds-nds-hoạt-động" title="Direct link to heading">#</a></h2><p>openNDS là một Captive Portal Engine. Bất kỳ Captive Portal nào, bao gồm cả NDS, đều có hai thành phần chính:</p><ul><li>Một công cụ thực hiện việc capturing</li><li>Một công cụ cung cấp một Portal cho người dùng, khách hàng đăng nhập.</li></ul><p>openNDS <strong>PHẢI</strong> chạy trên thiết bị đã được cấu hình IPv4.</p><p>Một bộ wireless router thường sẽ chạy OpenWrt hoặc một số bản phân phối Linux khác.</p><p>Theo định nghĩa, một bộ router sẽ có hai hoặc nhiều interfaces, ít nhất một interface để kết nối với mạng diện rộng (WAN) hoặc nguồn cấp dữ liệu Internet và ít nhất một interface kết nối với mạng cục bộ (LAN).</p><p>Mỗi LAN interface cũng phải hoạt động như Default IP Gateway cho mạng LAN của nó, lý tưởng nhất là với interface cung cấp DHCP cho các thiết bị khách sử dụng.</p><p>Nhiều interface LAN có thể được kết hợp thành một bridge interface duy nhất. Ví dụ, mạng ethernet, 2.4Ghz và 5Ghz thường được kết hợp thành một bridge interface duy nhất. Các tên interface logic sẽ được gán như eth0, wlan0, wlan1, v.v. với bridge interface kết hợp được đặt tên là br-lan.</p><p>NDS sẽ quản lý một hoặc nhiều interface trong số đó. Điều này thường sẽ là br-lan, bridge cho cả mạng LAN không dây và có dây, nhưng có thể là, ví dụ, wlan0 nếu bạn muốn NDS chỉ hoạt động trên interface không dây.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="tóm-tắt-hoạt-động"></a>TÓM TẮT HOẠT ĐỘNG<a class="hash-link" href="#tóm-tắt-hoạt-động" title="Direct link to heading">#</a></h2><p>Theo mặc định, NDS chặn mọi thứ, trừ những request đến port 80.</p><p>Request đến port 80 ban đầu sẽ được generate trên thiết bị của khách, thường được tự động bởi thiết bị của khách được tích hợp sẵn chức năng Captive Portal Detection (CPD) hoặc có thể do người dùng duyệt theo cách thủ công đến trang web http.</p><p>Request này tất nhiên sẽ được <strong>định tuyến bởi thiết bị đến Default Gateway</strong> của local network. Default Gateway, như chúng ta đã thấy, sẽ là interface định tuyến mà NDS đang quản lý.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="điều-cần-nắm-bắt-nds"></a>ĐIỀU CẦN NẮM BẮT (NDS)<a class="hash-link" href="#điều-cần-nắm-bắt-nds" title="Direct link to heading">#</a></h2><p>Ban đầu, ngay sau khi nhận được request đến port 80 này trên default gateway interface, NDS sẽ &quot;Chụp&quot; nó, ghi lại danh tính thiết bị khách, phân bổ token duy nhất cho thiết bị khách, sau đó chuyển hướng trình duyệt khách đến Portal của NDS.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="điều-cung-cấp-cổng-thông-tin-fas-hoặc-preauth"></a>Điều Cung Cấp Cổng Thông Tin (FAS hoặc PreAuth)<a class="hash-link" href="#điều-cung-cấp-cổng-thông-tin-fas-hoặc-preauth" title="Direct link to heading">#</a></h2><p>Trình duyệt máy khách được chuyển hướng đến Portal component. Đây là một web service được định cấu hình để biết cách giao tiếp với core engine của NDS.</p><p>Trang này thường được gọi là Splash Page.</p><p>NDS có máy chủ web riêng được tích hợp sẵn và máy chủ này có thể được sử dụng để cung cấp các trang “Splash” của Portal tới trình duyệt máy khách hoặc có thể sử dụng một máy chủ web riêng biệt.</p><p>openNDS đi kèm với hai tùy chọn Splash Page tiêu chuẩn được cài đặt sẵn.</p><p>Option một là cung cấp một trang nhấp chuột để tiếp tục và Một option nữa là trang kia cung cấp biểu mẫu, yêu cầu khách hàng nhập Tên và địa chỉ Email.</p><p>Cả hai đều có thể được tùy chỉnh hoặc một Cổng thông tin chuyên biệt hoàn chỉnh có thể được viết bởi trình cài đặt (Xem FAS, PreAuth).</p><p>FAS, hoặc Forward Authentication Service có thể sử dụng máy chủ web được nhúng trong NDS, một máy chủ web riêng biệt được cài đặt trên router NDS, một máy chủ web nằm trên local network hoặc một máy chủ web được host trên Internet.</p><p>Khách dùng thiết bị sẽ luôn phải hoàn thành một số hành động trên trang splash.</p><p>Khi người dùng thiết bị đã hoàn thành thành công các hành động trên trang splash, trang đó sau đó sẽ trực tiếp redirect trở lại NDS.</p><p>Để bảo mật, NDS chờ đợi nhận được cùng một token hợp lệ được phân phát khi khách hàng đưa request đến port 80. Nếu token nhận được là hợp lệ, NDS sau đó sẽ “xác thực” thiết bị khách, cho phép truy cập Internet.</p><p>Các tiện ích mở rộng xử lý xác thực có thể được thêm vào NDS (Xem BinAuth). Khi NDS đã nhận được token hợp lệ, nó sẽ gọi một tập lệnh BinAuth.</p><p>Nếu tập lệnh BinAuth trả về đúng (tức là mã trả về 0), thì NDS sẽ “xác thực” thiết bị khách, cho phép truy cập Internet.</p><p>Khi FAS được sử dụng, các chế độ bảo mật được cung cấp (cấp độ 1, 2 và 3), trong đó token máy khách và các biến bắt buộc khác được ẩn an toàn khỏi Máy khách, đảm bảo không thể bỏ qua xác minh.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>FAS và Binauth có thể được bật cùng nhau. Điều này có thể mang lại tính linh hoạt cao, với FAS cung cấp xác minh từ xa và Binauth cung cấp xử lý xác thực bài đăng cục bộ được liên kết chặt chẽ với NDS.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="captive-portal-detection-cpd"></a>Captive Portal Detection (CPD)<a class="hash-link" href="#captive-portal-detection-cpd" title="Direct link to heading">#</a></h2><p>Tất cả các thiết bị di động hiện đại, hầu hết các hệ điều hành máy tính để bàn và hầu hết các trình duyệt hiện nay đều có quy trình CPD tự động đưa ra các rquest đến port 80 khi kết nối với mạng. NDS phát hiện điều này và cung cấp một trang web &quot;splash&quot; đặc biệt tới thiết bị khách đang kết nối.</p><p>Yêu cầu html cổng 80 được thực hiện bởi CPD khách hàng có thể là một trong nhiều URL cụ thể của nhà cung cấp.</p><p>Ví dụ: các URL CPD điển hình được sử dụng là:</p><ul><li><a href="http://captive.apple.com/hotspot-detect.html" target="_blank" rel="noopener noreferrer">http://captive.apple.com/hotspot-detect.html</a></li><li><a href="http://connectivitycheck.gstatic.com/generate_204" target="_blank" rel="noopener noreferrer">http://connectivitycheck.gstatic.com/generate_204</a></li><li><a href="http://connectivitycheck.platform.hicloud.com/generate_204" target="_blank" rel="noopener noreferrer">http://connectivitycheck.platform.hicloud.com/generate_204</a></li><li><a href="http://www.samsung.com/" target="_blank" rel="noopener noreferrer">http://www.samsung.com/</a></li><li><a href="http://detectportal.firefox.com/success.txt" target="_blank" rel="noopener noreferrer">http://detectportal.firefox.com/success.txt</a></li><li>Thêm nữa</li></ul><p>Điều quan trọng cần nhớ là CPD được thiết kế chủ yếu cho các thiết bị di động để tự động phát hiện sự hiện diện của portal và kích hoạt trang đăng nhập, mà không cần phải sử dụng đến bảo mật SSL / TLS. Bằng cách yêu cầu cổng chuyển hướng cổng 443 chẳng hạn.</p><p>Hầu như tất cả các triển khai CPD hiện tại đều hoạt động rất tốt nhưng một số lại cần điều chỉnh thích hợp với từng loại ứng dụng khác nhau.</p><p>Phần lớn các thiết bị gắn với Captive Portal điển hình là thiết bị di động. CPD hoạt động tốt cho trang đăng nhập ban đầu.</p><p>Nhưng đối với một khách sử dụng wifi ở một số nơi. Ví dụ như quán cà phê, quán bar, câu lạc bộ, khách sạn, v.v., thiết bị kết nối, truy cập Internet được một lúc thì người dùng đưa thiết bị ra khỏi phạm vi phủ sóng.</p><p>Khi ra ngoài phạm vi phủ sóng, một thiết bị di động thông thường bắt đầu thăm dò định kỳ wifi SSID mà nó biết để cố gắng lấy lại kết nối, tùy thuộc vào thời gian chờ để bảo toàn tuổi thọ pin.</p><p>Hầu hết các Captive Portal đều có giới hạn thời gian cho một session (bao gồm NDS).</p><p>Nếu một thiết bị đã đăng nhập trước đó quay trở lại trong phạm vi phủ sóng của portal, thì SSID đã sử dụng trước đó sẽ được nhận dạng và CPD được kích hoạt và kiểm tra kết nối Internet theo cách bình thường. Trong giới hạn thời gian session của portal, kết nối Internet sẽ được thiết lập, nếu phiên đã hết hạn, trang splash sẽ được hiển thị lại.</p><p>Việc triển khai CPD trên thiết bị di động ban đầu được sử dụng để thăm dò, phát hiện URL theo khoảng thời gian đều đặn, thường là khoảng 30 đến 300 giây. Điều này sẽ kích hoạt trang Portal Splash khá nhanh nếu thiết bị vẫn ở trong phạm vi và đã đạt đến giới hạn session.</p><p>Tuy nhiên, rất nhanh chóng nhận ra rằng việc này làm thiết bị được bật liên tục có ảnh hưởng rất tiêu cực đến tuổi thọ pin, vì vậy việc kiểm tra session hết hạn này được tăng lên một khoảng thời gian rất dài hoặc bị loại bỏ tất cả cùng nhau (tùy thuộc vào nhà cung cấp) để bảo toàn sạc pin. Khi hầu hết các thiết bị di động đến và đi vào vùng phủ sóng, đây không phải là một vấn đề.</p><p>Một vấn đề phổ biến được nêu ra là:</p><blockquote><p>Thiết bị của tôi hiển thị trang splash khi chúng kết nối lần đầu, nhưng khi hết hạn ủy quyền, chúng chỉ nhận thông báo không có kết nối internet. Tôi phải làm cho họ &quot;quên&quot; mạng WiFi này đi để xem lại trang splash. Đây có phải là cách nó được cho là hoạt động?</p></blockquote><p>Cách giải quyết như được mô tả trong vấn đề, hoặc thậm chí chỉ cần ngắt kết nối hoặc tắt và bật lại WiFi theo cách thủ công thì cũng giống như việc bạn &quot;đi ra ngoài phạm vi&quot;, khởi tạo kích hoạt CPD ngay lập tức. Một hoặc bất kỳ sự kết hợp nào của các cách giải quyết này sẽ hoạt động, một lần nữa tùy thuộc vào việc triển khai CPD của nhà cung cấp cụ thể.</p><p>Ngược lại, hầu hết các hệ điều hành máy tính xách tay / máy tính để bàn và các phiên bản trình duyệt cho những hệ điều hành này vẫn triển khai tính năng thăm dò CPD trong khi trực tuyến vì việc cân nhắc về pin không quá quan trọng.</p><p>Ví dụ: máy tính để bàn Gnome có trình duyệt CPD tích hợp riêng với khoảng thời gian mặc định là 300 giây. Firefox cũng mặc định là 300 giây. Windows 10 cũng tương tự.</p><p>Đây là cách nó được cho là hoạt động, nhưng có liên quan đến một số thỏa hiệp.</p><p>Giải pháp tốt nhất là đặt thời gian chờ của phiên thành một giá trị lớn hơn khoảng thời gian dự kiến ​​mà thiết bị khách có thể có mặt. Kinh nghiệm cho thấy giới hạn 24 giờ áp dụng cho hầu hết các trường hợp, ví dụ như quán bar, câu lạc bộ, quán cà phê, nhà nghỉ, v.v. Nếu ví dụ, một khách sạn có khách thường xuyên lưu trú trong một vài ngày, thì hãy tăng thời gian chờ của phiên làm việc theo yêu cầu.</p><p>Nhân viên tại địa điểm có thể đưa thiết bị của họ vào Danh sách tin cậy nếu thích hợp, nhưng theo kinh nghiệm cho thấy, tốt hơn là không nên làm điều này vì họ sẽ sớm biết được những việc cần làm và có thể giúp những khách gặp sự cố. (Bất cứ điều gì làm giảm cuộc gọi hỗ trợ là tốt!)</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="phát-hiện-vùng-mạng-máy-khách-được-kết-nối-ở-đâu"></a>Phát hiện vùng mạng (Máy khách được kết nối ở đâu?)<a class="hash-link" href="#phát-hiện-vùng-mạng-máy-khách-được-kết-nối-ở-đâu" title="Direct link to heading">#</a></h2><p>Các thiết bị khách có thể được kết nối với một trong số các SSID WiFi cục bộ, được kết nối trực tiếp hoặc gián tiếp bằng ethernet hoặc kết nối qua mạng lưới không dây. Mỗi loại kết nối có sẵn được coi là một Vùng mạng.</p><p>NDS phát hiện vùng mà mỗi máy khách được kết nối. Thông tin này có thể được sử dụng để tùy chỉnh động đăng nhập cho từng khu vực.</p><p>Ví dụ: một cửa hàng cà phê có thể có hai SSID được định cấu hình:</p><ul><li>Nhân viên (SSID bảo mật tức là với mã truy cập)</li><li>Khách hàng (mở SSID bằng biểu mẫu đăng nhập)</li></ul><p>Trong ví dụ này, SSID “Nhân viên” được định cấu hình trên giao diện wlan0 và được coi là Vùng “Riêng tư”.</p><p>Tuy nhiên, SSID “Khách hàng” được cấu hình trên giao diện ảo wlan0-1 và được coi là Vùng “Công cộng”.</p><p>NDS phát hiện khu vực nào đang được khách hàng sử dụng và trang đăng nhập có liên quan có thể được cung cấp.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="lọc-gói-tin"></a>Lọc gói tin<a class="hash-link" href="#lọc-gói-tin" title="Direct link to heading">#</a></h2><p>openNDS xem xét bốn loại gói đi vào bộ định tuyến qua giao diện được quản lý. Mỗi gói là một trong những loại sau:</p><ol><li><p><strong>Blocked</strong> , nếu MAC bị chặn và địa chỉ MAC nguồn của packet phù hợp với địa chỉ được liệt kê trong BlockedMACList; hoặc nếu MAC được cho phép và địa chỉ MAC nguồn của gói không khớp với địa chỉ được liệt kê trong AllowedMACList hoặc TrustedMACList. Các gói tin này bị loại bỏ.</p></li><li><p><strong>Trusted</strong> , nếu địa chỉ MAC nguồn của packet phù hợp với địa chỉ được liệt kê trong TrustedMACList. Theo mặc định, các gói này được chấp nhận và chuyển đến tất cả các địa chỉ và cổng đích. Nếu muốn, hành vi này có thể được tùy chỉnh bởi FirewallRuleSet người dùng đáng tin cậy và FirewallRuleSet danh sách người dùng đến bộ định tuyến đáng tin cậy trong tệp cấu hình opennds.conf hoặc bằng chỉ thị người dùng tin cậy EmptyRuleSetPolicy EmptyRuleSetPolicy-user-to-router.</p></li><li><p><strong>Authenticated</strong> , nếu địa chỉ nguồn IP và MAC của packet đã trải qua quá trình xác thực openNDS và chưa hết hạn. Các gói này được chấp nhận và định tuyến đến một tập hợp địa chỉ và cổng giới hạn (xem FirewallRuleSet người dùng được xác thực và FirewallRuleSet người dùng đến bộ định tuyến trong tệp cấu hình opennds.conf).</p></li><li><p><strong>Preauthenticated</strong> . Bất kỳ packet nào khác. Các packets này được chấp nhận và định tuyến đến một nhóm địa chỉ và cổng giới hạn (xem FirewallRuleSet preauthenticated-users và FirewallRuleSet user-to-router trong tệp cấu hình opennds.conf). Bất kỳ packet nào khác đều bị loại bỏ, ngoại trừ một packet cho cổng đích 80 tại bất kỳ địa chỉ nào được chuyển hướng đến cổng 2050 trên bộ định tuyến, nơi máy chủ web dựa trên libhttpd của openNDS đang lắng nghe. Điều này bắt đầu quá trình &#x27;xác thực&#x27;. Máy chủ sẽ phục vụ một trang splash quay trở lại địa chỉ IP nguồn của packet. Người dùng nhấp vào liên kết thích hợp trên trang splash sẽ hoàn tất quá trình, khiến các packet trong tương lai từ địa chỉ IP / MAC này được đánh dấu là Đã xác thực cho đến khi đạt đến thời gian chờ không hoạt động hoặc bắt buộc và các gói của nó trở lại được Xác thực trước.</p></li></ol><p>openNDS thực hiện các hành động này bằng cách chèn các quy tắc trong chuỗi PREROUTING iptables mangle của bộ định tuyến để đánh dấu các packet và bằng cách chèn các quy tắc trong nat PREROUTING, lọc INPUT và lọc chuỗi FORWARD khớp trên các dấu đó.</p><p>Bởi vì nó chèn các quy tắc của nó vào đầu các chuỗi hiện có, openNDS sẽ không nhạy cảm với hầu hết các cấu hình tường lửa hiện có điển hình.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="data-volume-và-rate-quotas"></a>Data Volume và Rate Quotas<a class="hash-link" href="#data-volume-và-rate-quotas" title="Direct link to heading">#</a></h1><p>openNDS (NDS) đã tích hợp sẵn hỗ trợ <code>Data Volume</code> và <code>Data Rate</code> quota.</p><p>Data volume and data rate quotas can be set globally in the config file.</p><p>Các giá trị chung có thể được ghi đè trên từng máy khách theo yêu cầu.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="điều-hướng-traffic"></a>Điều hướng Traffic<a class="hash-link" href="#điều-hướng-traffic" title="Direct link to heading">#</a></h1><p>openNDS (NDS) hỗ trợ Traffic Shaping (Giới hạn Băng thông) bằng cách sử dụng SQM - Smart Management (sqm-scripts) package, có sẵn cho OpenWrt và Linux chung.</p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/sysadmin">sysadmin</a></div><div class="col text--right"><a aria-label="Read more about OpenNDS Hoạt Động Như Thế Nào" href="/blog/opennds-hoat-dong-nhu-the-nao"><strong>Read More</strong></a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3-lP"><a href="/blog/huong-dan-cai-dat-firmware-OpenWRT">Hướng Dẫn Cài Đặt Firmware OpenWRT</a></h2><div class="margin-vert--md"><time datetime="2021-03-02T00:00:00.000Z" class="blogPostDate_Ta7i">March 2, 2021  · 2 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" target="_blank" rel="noreferrer noopener"><img src="/img/falundafa_avatar.jpg" alt="Hacker 6009"></a><div class="avatar__intro"><h4 class="avatar__name"><a target="_blank" rel="noreferrer noopener">Hacker 6009</a></h4><small class="avatar__subtitle">Blog Admin</small></div></div></header><section class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="giới-thiệu"></a>GIỚI THIỆU<a class="hash-link" href="#giới-thiệu" title="Direct link to heading">#</a></h2><p><img alt="img" src="/assets/images/finger-print-technical-893b2b365d824af3b2076e09f417aaa6.jpg"></p><p>Máy chấm công là một thiết bị dùng để ghi nhận thời gian ra vào của các nhân viên trong một công ty.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="kỹ-thuật"></a>Kỹ Thuật<a class="hash-link" href="#kỹ-thuật" title="Direct link to heading">#</a></h2><p>Kỹ thuật chấm công tự động không cần dùng máy chấm công truyền thống.</p><p>Gồm các bước như sau:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="khởi-tạo-thông-tin-người-dùng"></a>Khởi tạo thông tin người dùng<a class="hash-link" href="#khởi-tạo-thông-tin-người-dùng" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ghi-nhận-thời-gian-ra-vào"></a>Ghi nhận thời gian ra vào<a class="hash-link" href="#ghi-nhận-thời-gian-ra-vào" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ghi-nhận-bằng-log-dhcp-release"></a>Ghi nhận bằng log DHCP Release<a class="hash-link" href="#ghi-nhận-bằng-log-dhcp-release" title="Direct link to heading">#</a></h4><p><em>Still not public the method</em></p><p><em>Kỹ thuật chưa được công khai</em></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ghi-nhận-bằng-cách-check-mỗi-20-giây"></a>Ghi nhận bằng cách check mỗi 20 giây<a class="hash-link" href="#ghi-nhận-bằng-cách-check-mỗi-20-giây" title="Direct link to heading">#</a></h4><p><em>Still not public the method</em></p><p><em>Kỹ thuật chưa được công khai</em></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ưu-điểm--nhược-điểm-so-với-máy-truyền-thống"></a>Ưu Điểm &amp; Nhược Điểm So Với Máy Truyền Thống<a class="hash-link" href="#ưu-điểm--nhược-điểm-so-với-máy-truyền-thống" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ưu-điểm"></a>Ưu Điểm<a class="hash-link" href="#ưu-điểm" title="Direct link to heading">#</a></h4><ul><li>Thiết kiệm chi phí hơn do không cần phải mua máy chấm công</li><li>Tự động báo qua các kênh như Slack, Email, Telegram, SMS v.v... Nếu có người đi trễ vừa vào hoặc rời khỏi chỗ làm việc quá lâu.</li><li>Bộ nhớ dung lượng cao có khả năng lưu lại lịch sử chấm công, thời gian ra vào nơi làm việc dài lâu theo năm tháng.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="nhược-điểm"></a>Nhược Điểm<a class="hash-link" href="#nhược-điểm" title="Direct link to heading">#</a></h4><ul><li>Có thể có những chính sách đi kèm</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="giao-diện"></a>Giao Diện<a class="hash-link" href="#giao-diện" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="màn-hình-đăng-nhập-quản-lý"></a>Màn Hình Đăng Nhập Quản Lý<a class="hash-link" href="#màn-hình-đăng-nhập-quản-lý" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="bảng-chấm-công-tổng-quát"></a>Bảng chấm công tổng quát<a class="hash-link" href="#bảng-chấm-công-tổng-quát" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="bảng-chấm-công-chi-tiết-của-một-cá-nhân-kèm-ghi-chú"></a>Bảng chấm công chi tiết của một cá nhân kèm ghi chú<a class="hash-link" href="#bảng-chấm-công-chi-tiết-của-một-cá-nhân-kèm-ghi-chú" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="bảng-chấm-công-chi-tiết-của-một-nhóm"></a>Bảng chấm công chi tiết của một nhóm<a class="hash-link" href="#bảng-chấm-công-chi-tiết-của-một-nhóm" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="bảng-lưu-tất-cả-các-ghi-chú"></a>Bảng lưu tất cả các ghi chú<a class="hash-link" href="#bảng-lưu-tất-cả-các-ghi-chú" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="bảng-lương"></a>Bảng lương<a class="hash-link" href="#bảng-lương" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="bảng-quản-lý-nhân-sự"></a>Bảng quản lý nhân sự<a class="hash-link" href="#bảng-quản-lý-nhân-sự" title="Direct link to heading">#</a></h4></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/sysadmin">sysadmin</a></div><div class="col text--right"><a aria-label="Read more about Hướng Dẫn Cài Đặt Firmware OpenWRT" href="/blog/huong-dan-cai-dat-firmware-OpenWRT"><strong>Read More</strong></a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3-lP"><a href="/blog/terminal-screen-cho-sysadmin">Terminal Screen Cho Sysadmin</a></h2><div class="margin-vert--md"><time datetime="2021-03-01T00:00:00.000Z" class="blogPostDate_Ta7i">March 1, 2021  · 4 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" target="_blank" rel="noreferrer noopener"><img src="/img/falundafa_avatar.jpg" alt="H6009"></a><div class="avatar__intro"><h4 class="avatar__name"><a target="_blank" rel="noreferrer noopener">H6009</a></h4><small class="avatar__subtitle">Blog Admin</small></div></div></header><section class="markdown"><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Nội dung được tác giả tổng hợp bằng kiến thức hạn hẹp của bản thân. Vui lòng đọc tài liệu đầy đủ chính thức từ trang chủ.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="giới-thiệu"></a>GIỚI THIỆU<a class="hash-link" href="#giới-thiệu" title="Direct link to heading">#</a></h2><p>Để tránh việc gián đoạn trong quá trình copy dữ liệu lớn như cúp điện, mất mạng v.v... Ảnh hưởng đến quá trình copy hoặc download. Ta có giải phái phía dưới như sau:</p><p>Giải pháp là sử dụng <code>Screen</code>, một ứng dụng trên CentOS và Ubuntu đều có. Cho phép bạn chạy ứng dụng ngầm (attach) phía bên trong chương trình <code>Screen</code> mà không cần thông qua máy bạn khi bạn thoát khỏi <code>screen</code>. Tất nhiên bạn có thể truy cập lại <code>screen</code> (deattach) bất cứ lúc nào, ở đâu và trên máy tính nào một cách dễ dàng.</p><p><img alt="img" src="/assets/images/linux-screen-command-ce00745b6a81309b9c03a41b97bda4f7.png"></p><p>Để biết thêm thông tin chi tiết, vui lòng gõ dòng lệnh sau khi đã cài đặt screen: <code>man screen</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="cài-đặt"></a>CÀI ĐẶT<a class="hash-link" href="#cài-đặt" title="Direct link to heading">#</a></h2><p>Thông thường, việc trao đỗi dữ liệu lớn giữa 2 máy chủ. Nên <code>screen</code> sẽ được cài chủ yếu trên một trong hai máy chủ; máy mà chúng ta gõ lệnh và phải chờ đợi. Cụ thể là sau khi cài đặt xong, thay vì bạn treo máy ở đó cả ngày. Thì bạn có thể dùng screen để ẩn nó xuống gọi là <code>attach</code> trên máy chủ đó. Để tránh việc laptop của bạn đang <code>SSH</code> lên bị mất kết nối hoặc cúp điện v.v...</p><p>Vậy việc bạn <code>attach</code> bằng <code>screen</code> lên máy chủ, sẽ giúp máy chủ không phụ thuộc vào terminal trên máy cá nhân của bạn nữa. Vậy tóm lại sau khi bạn đã chạy ngầm (attach) lên bằng <code>screen</code>, bạn không phải lo lắng về máy tính cá nhân mình xảy ra vấn đề nữa.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="trên-centos"></a>Trên CentOS<a class="hash-link" href="#trên-centos" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">yum update</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">update </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">screen</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="trên-ubuntu"></a>Trên Ubuntu<a class="hash-link" href="#trên-ubuntu" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> update</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">screen</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="sử-dụng"></a>SỬ DỤNG<a class="hash-link" href="#sử-dụng" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="chạy-ngầm-với-screen"></a>CHẠY NGẦM VỚI SCREEN<a class="hash-link" href="#chạy-ngầm-với-screen" title="Direct link to heading">#</a></h3><p>Để chạy ngầm (attach), trên màn hình terminal, ta gõ:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">screen</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Bạn sẽ được đưa vào terminal mới. Lúc này, bạn có thể copy dữ liệu, move hoặc làm bất cứ thao tác gì như terminal thông thường. Sau khi bạn đã làm xong các thao tác, đến bước cuối cùng là chờ đợi quá trình copy, download v.v... tiến trình này chạy rất lâu, thì bạn có thể nhấn phím lần lượt là:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Giữ Ctrl</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Bấm A</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Bấm D</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Có nghĩa là chúng ta chỉ <code>giữ nút Ctrl</code>, không giữ nút &quot;A&quot; và cũng không giữ nút &quot;D&quot;, <code>chỉ nhấn</code> vào thôi.</p><p>Vậy là cửa sổ lệnh của bạn đã được chạy ngầm (attach), và bạn sẽ được đưa về terminal ban đầu của mình. Lúc này, tiến trình không còn phụ thuộc vào terminal của bạn nữa.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="bật-lại-screen-đang-chạy-ngầm"></a>BẬT LẠI SCREEN ĐANG CHẠY NGẦM<a class="hash-link" href="#bật-lại-screen-đang-chạy-ngầm" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="đối-với-chỉ-có-1-screen"></a>Đối với chỉ có 1 screen<a class="hash-link" href="#đối-với-chỉ-có-1-screen" title="Direct link to heading">#</a></h4><p>Đối với có một screen; việc bật lại (deattach); bạn chỉ cần gõ:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">screen -r</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Nó sẽ tự động bật lại (deattach) ngay luôn.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="đối-với-2-hoặc-nhiều-hơn-2-screen"></a>Đối với 2 hoặc nhiều hơn 2 screen<a class="hash-link" href="#đối-với-2-hoặc-nhiều-hơn-2-screen" title="Direct link to heading">#</a></h4><p>Đối với trường hợp này, khi bạn gõ:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> screen -r</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Bạn sẽ được gợi ý lại <code>các screen</code> mà bạn đã ẩn đi. Bạn cần phải gõ <code>screen -r (mã của screen) </code>lúc bạn ẩn đi. Ví dụ:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> screen -r screen-abc-2021-03-01</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Thì bạn sẽ được đưa về screen đó. Tuy nhiên nếu không đúng screen bạn mong muốn thì đừng lo lắng, vì chỉ cần thực hiện giấu đi lại như hướng dẫn trên rồi gõ lại lệnh screen với mã khác thôi.</p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/sysadmin">sysadmin</a></div><div class="col text--right"><a aria-label="Read more about Terminal Screen Cho Sysadmin" href="/blog/terminal-screen-cho-sysadmin"><strong>Read More</strong></a></div></footer></article></div></main></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Trang</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Tài Liệu Hướng Dẫn</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog Cá Nhân</a></li><li class="footer__item"><a href="#" class="footer__link-item">Ủng Hộ Tôi</a></li><li class="footer__item"><a class="footer__link-item" href="/">Trang Chủ</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Kênh Youtube</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.youtube.com/watch?v=PuS1WhH6qyQ&amp;list=PL9of5PiY1lkfIcEnt2RZ4Fiq0K_JLu3k_" target="_blank" rel="noopener noreferrer" class="footer__link-item">Lắng Động Đêm Về</a></li><li class="footer__item"><a href="https://www.youtube.com/watch?v=JKBXNUKkSRs&amp;list=PUsSrvUHWzNt7yXWxzOkyjhw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Nhạc Đại Pháp</a></li><li class="footer__item"><a href="#" class="footer__link-item" target="_blank" rel="noopener noreferrer">Kênh Của Tôi</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Liên Kết</h4><ul class="footer__items"><li class="footer__item"><a href="https://vi.falundafa.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Pháp Luân Công</a></li><li class="footer__item"><a href="https://vn.minghui.org/news/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Minh Huệ Net</a></li><li class="footer__item"><a href="https://tinhhoa.tv/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tinh Hoa TV</a></li><li class="footer__item"><a href="https://etviet.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">The Epoch Times</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 SudoSys, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.f8e4cf8b.js"></script>
<script src="/runtime~main.935ca4d1.js"></script>
<script src="/main.b4cb01c9.js"></script>
<script src="/1.95217654.js"></script>
<script src="/2.d3a79ead.js"></script>
<script src="/6875c492.2d98faf1.js"></script>
<script src="/05423931.d37350a3.js"></script>
<script src="/08948c18.8663d505.js"></script>
<script src="/9212fa2c.431e296f.js"></script>
<script src="/39f3b60d.a0444a26.js"></script>
<script src="/967ce54a.41956c6b.js"></script>
<script src="/754a5f52.0cc23b16.js"></script>
</body>
</html>