<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="SudoSys.com Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="SudoSys.com Blog Atom Feed"><title data-react-helmet="true">Posts tagged &quot;sysadmin&quot; | SudoSys.com</title><meta data-react-helmet="true" property="og:title" content="Posts tagged &quot;sysadmin&quot; | SudoSys.com"><meta data-react-helmet="true" name="description" content="Blog | Tagged &quot;sysadmin&quot;"><meta data-react-helmet="true" property="og:description" content="Blog | Tagged &quot;sysadmin&quot;"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/styles.412d942f.css">
<link rel="preload" href="/styles.f8e4cf8b.js" as="script">
<link rel="preload" href="/runtime~main.935ca4d1.js" as="script">
<link rel="preload" href="/main.b4cb01c9.js" as="script">
<link rel="preload" href="/1.95217654.js" as="script">
<link rel="preload" href="/2.d3a79ead.js" as="script">
<link rel="preload" href="/6875c492.2d98faf1.js" as="script">
<link rel="preload" href="/05423931.d37350a3.js" as="script">
<link rel="preload" href="/08948c18.8663d505.js" as="script">
<link rel="preload" href="/9212fa2c.431e296f.js" as="script">
<link rel="preload" href="/39f3b60d.a0444a26.js" as="script">
<link rel="preload" href="/967ce54a.41956c6b.js" as="script">
<link rel="preload" href="/754a5f52.0cc23b16.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">SudoSys.com</strong></a><a class="navbar__item navbar__link" href="/docs/">TÃ i Liá»‡u HÆ°á»›ng Dáº«n</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog CÃ¡ NhÃ¢n</a><a href="#" class="navbar__item navbar__link">á»¦ng Há»™</a><a href="mailto: cuongpv@sudosys.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LiÃªn Há»‡</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/khoahoc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ğŸŒ</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">SudoSys.com</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">TÃ i Liá»‡u HÆ°á»›ng Dáº«n</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">Blog CÃ¡ NhÃ¢n</a></li><li class="menu__list-item"><a href="#" class="menu__link">á»¦ng Há»™</a></li><li class="menu__list-item"><a href="mailto: cuongpv@sudosys.com" target="_blank" rel="noopener noreferrer" class="menu__link">LiÃªn Há»‡</a></li><li class="menu__list-item"><a href="https://github.com/khoahoc" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--2"><div class="sidebar_SWld thin-scrollbar"><h3 class="sidebarItemTitle_Km2m">Recent posts</h3><ul class="sidebarItemList_3UpA"><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/wifi-provision">Wifi Provision</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/opennds-hoat-dong-nhu-the-nao">OpenNDS Hoáº¡t Äá»™ng NhÆ° Tháº¿ NÃ o</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/huong-dan-cai-dat-firmware-OpenWRT">HÆ°á»›ng Dáº«n CÃ i Äáº·t Firmware OpenWRT</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/ky-thuat-cham-cong">Ká»¹ Thuáº­t Cháº¥m CÃ´ng</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/terminal-screen-cho-sysadmin">Terminal Screen Cho Sysadmin</a></li></ul></div></div><main class="col col--8"><h1>4 posts tagged with &quot;sysadmin&quot;</h1><a href="/blog/tags">View All Tags</a><div class="margin-vert--xl"><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3-lP"><a href="/blog/wifi-provision">Wifi Provision</a></h2><div class="margin-vert--md"><time datetime="2021-03-08T00:00:00.000Z" class="blogPostDate_Ta7i">March 8, 2021  Â· 3 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" target="_blank" rel="noreferrer noopener"><img src="/img/falundafa_avatar.jpg" alt="Hacker 6009"></a><div class="avatar__intro"><h4 class="avatar__name"><a target="_blank" rel="noreferrer noopener">Hacker 6009</a></h4><small class="avatar__subtitle">Blog Admin</small></div></div></header><section class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="wifi-provision"></a>Wifi Provision<a class="hash-link" href="#wifi-provision" title="Direct link to heading">#</a></h1><p>ÄÃ¢y lÃ  tÃ i liá»‡u document chÃ­nh hÆ°á»›ng dáº«n manual setup toÃ n bá»™ technical architect giá»¯a cÃ¡c Access Point vÃ  Server Prometheus dÆ°á»£c dÃ n dá»±ng bá»Ÿi <code>sudosys.com</code>.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>PhÃ­a dÆ°á»›i lÃ  quÃ¡ trÃ¬nh setup ká»¹ thuáº­t, khÃ´ng bao gá»“m Ä‘á»‹nh nghÄ©a vÃ  hÆ°á»›ng dáº«n chi tiáº¿t.</p></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Do trÃ¬nh Ä‘á»™ ká»¹ thuáº­t háº¡n háº¹p, mong cÃ¡c báº¡n Ä‘á»c giáº£ cÃ³ thá»ƒ gÃ³p Ã½ hoáº·c Ä‘áº·t cÃ¢u há»i thÃ´ng qua pháº§n <code>LiÃªn Há»‡</code> á»Ÿ trÃªn.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="pháº§n-setup-server"></a>PHáº¦N SETUP SERVER<a class="hash-link" href="#pháº§n-setup-server" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="setup-ssh-tunnel"></a>Setup SSH Tunnel<a class="hash-link" href="#setup-ssh-tunnel" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="thÃªm-tÃ i-khoáº£n-truy-cáº­p-server"></a>ThÃªm tÃ i khoáº£n truy cáº­p server<a class="hash-link" href="#thÃªm-tÃ i-khoáº£n-truy-cáº­p-server" title="Direct link to heading">#</a></h4><p>ThÃªm user <code>noaccess</code> Ä‘á»ƒ cÃ¡c Access Point cÃ³ thá»ƒ SSH vÃ o nhÆ°ng <code>khÃ´ng cÃ³ quyá»n</code> gÃµ lá»‡nh terminal:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo adduser --disabled-password --shell /sbin/nologin noaccess</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo  -u noaccess whoami</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo  -u noaccess ssh-keygen #Táº¡o folder vÃ  chmod cho láº¹</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo touch /home/noaccess/.ssh/authorized_keys</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo chmod 600 /home/noaccess/.ssh/authorized_keys</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="setup-nginx"></a>Setup Nginx<a class="hash-link" href="#setup-nginx" title="Direct link to heading">#</a></h3><p>Nginx gá»“m 2 chá»©c nÄƒng:</p><ol><li>PhÃ¢n giáº£i tÃªn miá»n vÃ o hÃ ng loáº¡t IP khÃ¡c nhau cÃ³ cÃ¹ng 1 TCP port TTYD cá»§a Access Point</li><li>XÃ¡c thá»±c ngÆ°á»i dÃ¹ng qua URL token hoáº·c username vÃ  password.</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">server {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        server_name ssh.aps.ip1.meganet.com.vn;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        location ^~ / {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            resolver 8.8.8.8;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header Host $host;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header X-Forwarded-Proto $scheme;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header X-Forwarded-Port $server_port;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_http_version 1.1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header Upgrade $http_upgrade;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            proxy_set_header Connection &quot;upgrade&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            location ~ &quot;^/(.*)/(.*)/(.*)/(.*)&quot; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                auth_request /auth;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                auth_request_set $auth_status $upstream_status;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_pass http://$3:7681/$4;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        location = /auth {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                internal;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                #proxy_pass http://127.0.0.1:8080/tms/aps/authorized;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_pass https://demo.meganet.com.vn/api/Prometheus/authorized;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_pass_request_body off;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_set_header Content-Length &quot;&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_set_header X-Original-URI $request_uri;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    listen 443 ssl http2; # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ssl_certificate /etc/letsencrypt/live/ssh.aps.ip1.meganet.com.vn/fullchain.pem; # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ssl_certificate_key /etc/letsencrypt/live/ssh.aps.ip1.meganet.com.vn/privkey.pem; # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">server {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if ($host = ssh.aps.ip1.meganet.com.vn) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return 301 https://$host$request_uri;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    } # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        listen 80;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        listen [::]:80;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        server_name ssh.aps.ip1.meganet.com.vn;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return 404; # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="openssh-config"></a>OpenSSH Config<a class="hash-link" href="#openssh-config" title="Direct link to heading">#</a></h3><p>LÆ°u Ã½ cÃ¡c trÆ°á»ng sau trong file <code>/etc/ssh/sshd_config</code>:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">IgnoreUserKnownHosts yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">AllowAgentForwarding yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">AllowTcpForwarding yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">X11Forwarding yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">PermitTunnel yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">TCPKeepAlive yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">PermitTTY yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GatewayPorts clientspecified</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Cáº¥u hÃ¬nh xong nhá»› restart service:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo systemctl restart ssh</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="pháº§n-setup-access-point"></a>PHáº¦N SETUP ACCESS POINT<a class="hash-link" href="#pháº§n-setup-access-point" title="Direct link to heading">#</a></h2><p>CÃ³ ráº¥t nhiá»u thá»© cáº§n pháº£i setup nhÆ°: cáº·p SSH <code>public_key</code> vÃ  <code>private key</code>; CÃ¡c packages cá»§a OpenWRT Ä‘á»ƒ Ä‘iá»u khiá»ƒn nhÆ°: <code>Prometheus</code>, <code>Node Exporter</code>, <code>Wifi Station</code>; <code>AutoSSH</code>; <code>TTYD</code>, <code>OpenNDS</code> v.v... OK, báº¯t Ä‘áº§u thÃ´i.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="setup-private-key"></a>Setup Private Key<a class="hash-link" href="#setup-private-key" title="Direct link to heading">#</a></h3><p><em>Káº¿t quáº£ bÃªn dÆ°á»›i sáº½ Ã¡p dá»¥ng cho production, nÃªn lÆ°u Ã½ dá»¯ liá»‡u cá»§a cáº·p key bÃªn dÆ°á»›i</em></p><p>Public_key:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC8x4yIvN1KHioqqi9JahUgZN9Cb3sXpCmpv8BiZXt6GPuJE0wwvFo8j+c8lxm8Yv/unhLy8PyQiSMPwchSCAg2b02D1IVh8WUbXIkOqdNDF5aQx02dPfaE9XRJqc3H85L7h5jNHie/Ax6uthPcI+F8dD8kZRJOj3snev36S97Q3G9qawWqhvGyv2COcbmYKA+dAM1MSa1GHidMCPIkuZmjcA6i4wuH1Rc13ke/jmyTFFEm4Xf2S4bHL9gpFOkHCN0u6XTwn6VGZus2tKsB5l4Cx0xr5MCGGSnSKSDFUHagWgJ+5GUWFMJ9y77qK1Ig7kbAuDFeH+4m49ODZCrfmWzB wifi_devices</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Private_key:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----BEGIN RSA PRIVATE KEY-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MIIEogIBAAKCAQEAvMeMiLzdSh4qKqovSWoVIGTfQm97F6Qpqb/AYmV7ehj7iRNM</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MLxaPI/nPJcZvGL/7p4S8vD8kIkjD8HIUggINm9Ng9SFYfFlG1yJDqnTQxeWkMdN</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">nT32hPV0SanNx/OS+4eYzR4nvwMerrYT3CPhfHQ/JGUSTo97J3r9+kve0NxvamsF</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">qobxsr9gjnG5mCgPnQDNTEmtRh4nTAjyJLmZo3AOouMLh9UXNd5Hv45skxRRJuF3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">9kuGxy/YKRTpBwjdLul08J+lRmbrNrSrAeZeAsdMa+TAhhkp0ikgxVB2oFoCfuRl</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">FhTCfcu+6itSIO5GwLgxXh/uJuPTg2Qq35lswQIDAQABAoIBAAJdaZhI7WjBSfvw</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">19jOmGcofFeDuAIKz27N9SYGaW6VI4mLEVhG88ZwcxAiQHNItjYSCuC6Ph+9aBAJ</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">eG32pcuwx0LQhb89W+vk0964J+peQEeeB43hudXekU9e7jIEDiJSh4qCRzMwYdEE</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fOk0Fd4OQsA89+a+C2fqNYZOLwNkygp0lxGuaM8ZKuDHgkRKZJYGd8V8GltMiVID</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">+LT5I4+0PYtT77a1G1GZ6itSb60mcPtFWU/X4I/U1MSvc+jJCzJFP8qEe3caBG1p</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">+J1aZAplSAN5IUE2l7/PEyCvxDL9FCbvHmdTrTQ9a8JyHGQJwTWcfk30HHJ71Zi8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ng94DOUCgYEA3VDS9cZRxZsmr7jm+A4mrIoevu/p/2vYbhE9fyxuQG0rC1gK5iRY</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">b/Mdtzn5+3oFXZT/e07FfFtERPGkp/yC6FgfNUpjzTDnWW4Hv9JO9UYSQKcn+x8v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/vlkLbxBRXmkUwnf7WOGeBsjjMznlHdkpctcBBF9O1CmwTWbp762/YMCgYEA2l1f</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dcUwV5aDLtLtRm9Loy1e2G5/iJ8PliJh1JXPFFmRBKyatJ9pUAstJc6q5Jktd958</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dyNBUKu4QBzdhAHOnW7RFt/Vkv2mYaFDNFx9t7Fhqe9pSiDMzcz5qnT69avEm88M</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">KFuI0vx/qPUUtTJhBABdwySX+M9KdFjxHIOx/WsCgYBUyeZIqtYhMrO7lsdGOYWv</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">jKsC079+T773TDuXQVpr7GcVTYG/ciU/npC/5cJUCgeMNs06XI9keULKdxlyElfE</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">1B4AuKNLtXSs2m61mskNRu8vPdsfZm9o6/rpWrpW96dw+NOFix+1XBBenRIL20IA</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Es0J8flchCWe1/7uYS6SKQKBgGq9B6OGvwmhbgBeZFNwpbVewSTkZny+25yUs+N5</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Ux7sZSG2yWyPG6hfvjLj4c8aPQqB+6800YGAXvEf6vvS8k8sUxJuWXSffkvsyu/2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">YhF/qHCrsXjlrZbPoh67Tcz2qIVM4PF9RNV1TWWmXvfvZ1LQZwSzh4G8ufVDYKCC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">k2d/AoGAQtgUlN8l5psZfrgFoAOkwphvp50sE61Sxww1HO+qVaWlEp3119C6iLwD</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">KiKe84SGAFj/UwumtFYz4bzAqBYVcbQZvzZ2MK2nEjaDSI59Br7aQlthEMg2BEXM</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">AVN26KwjzDRbQZAPf497+/gH8YuikvJKdzu01rO4riQNYSQALVw=</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----END RSA PRIVATE KEY-----</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>Äem file <code>public_key</code> á»Ÿ trÃªn vÃ  gáº¯n vÃ o file <code>authorized_keys</code> cá»§a Server.</strong></p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/sysadmin">sysadmin</a></div><div class="col text--right"><a aria-label="Read more about Wifi Provision" href="/blog/wifi-provision"><strong>Read More</strong></a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3-lP"><a href="/blog/opennds-hoat-dong-nhu-the-nao">OpenNDS Hoáº¡t Äá»™ng NhÆ° Tháº¿ NÃ o</a></h2><div class="margin-vert--md"><time datetime="2021-03-03T00:00:00.000Z" class="blogPostDate_Ta7i">March 3, 2021  Â· 14 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" target="_blank" rel="noreferrer noopener"><img src="/img/falundafa_avatar.jpg" alt="Hacker 6009"></a><div class="avatar__intro"><h4 class="avatar__name"><a target="_blank" rel="noreferrer noopener">Hacker 6009</a></h4><small class="avatar__subtitle">Blog Admin</small></div></div></header><section class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="giá»›i-thiá»‡u"></a>GIá»šI THIá»†U<a class="hash-link" href="#giá»›i-thiá»‡u" title="Direct link to heading">#</a></h2><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Ná»™i dung Ä‘Æ°á»£c dá»‹ch bá»Ÿi tÃ¡c giáº£ táº¡i <a href="https://openwrt.org/docs/guide-user/services/captive-portal/opennds" target="_blank" rel="noopener noreferrer">trang chá»§ OpenNDS</a> kÃ¨m vá»›i kiáº¿n thá»©c háº¡n háº¹p cá»§a báº£n thÃ¢n</p></div></div><p>OpenNDS Ä‘Æ°á»£c tÃ¡ch ra tá»« phiÃªn báº£n 4.5.0 cá»§a <a href="https://github.com/nodogsplash/nodogsplash" target="_blank" rel="noopener noreferrer">Nodogsplash</a> thÃ nh hai gÃ³i Ä‘á»ƒ dá»… dÃ ng phÃ¡t triá»ƒn Forward Authentication Service (FAS) API.</p><p>Máº·c dÃ¹ cÃ³ API FAS , openNDS váº«n Ä‘Æ°á»£c tá»‘i Æ°u hÃ³a Ä‘á»ƒ giáº£m sá»­ dá»¥ng tÃ i nguyÃªn trÃªn bá»™ Ä‘á»‹nh tuyáº¿n. NhÃ¬n chung, tá»‘i thiá»ƒu 16MB Flash vÃ  64MB RAM lÃ  Ä‘á»§ cho cÃ¡c cháº¿ Ä‘á»™ hoáº¡t Ä‘á»™ng cÆ¡ báº£n.</p><p>Viá»‡c sá»­ dá»¥ng API FAS nÃ¢ng cao cÃ³ thá»ƒ thÃªm cÃ¡c gÃ³i bá»• sung vÃ  má»™t chÃºt tÃ i nguyÃªn liÃªn quan Ä‘áº¿n Flash vÃ  RAM.</p><p>LÆ°u Ã½ : Tá»« phiÃªn báº£n openNDS v7.0.0 trá»Ÿ Ä‘i, trang templated splash cÅ© khÃ´ng Ä‘Æ°á»£c dÃ¹ng ná»¯a vÃ  bá»‹ vÃ´ hiá»‡u hÃ³a, Ä‘Æ°á»£c thay tháº¿ báº±ng html Ä‘á»™ng Ä‘Æ°á»£c táº¡o bá»Ÿi login script, vá»›i ráº¥t Ã­t thay Ä‘á»•i vá» nhu cáº§u Flash hoáº·c RAM.</p><p><em>openNDS is released under the GNU General Public License.</em></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="cÃ¡ch-opennds-nds-hoáº¡t-Ä‘á»™ng"></a>CÃCH OPENNDS (NDS) HOáº T Äá»˜NG<a class="hash-link" href="#cÃ¡ch-opennds-nds-hoáº¡t-Ä‘á»™ng" title="Direct link to heading">#</a></h2><p>openNDS lÃ  má»™t Captive Portal Engine. Báº¥t ká»³ Captive Portal nÃ o, bao gá»“m cáº£ NDS, Ä‘á»u cÃ³ hai thÃ nh pháº§n chÃ­nh:</p><ul><li>Má»™t cÃ´ng cá»¥ thá»±c hiá»‡n viá»‡c capturing</li><li>Má»™t cÃ´ng cá»¥ cung cáº¥p má»™t Portal cho ngÆ°á»i dÃ¹ng, khÃ¡ch hÃ ng Ä‘Äƒng nháº­p.</li></ul><p>openNDS <strong>PHáº¢I</strong> cháº¡y trÃªn thiáº¿t bá»‹ Ä‘Ã£ Ä‘Æ°á»£c cáº¥u hÃ¬nh IPv4.</p><p>Má»™t bá»™ wireless router thÆ°á»ng sáº½ cháº¡y OpenWrt hoáº·c má»™t sá»‘ báº£n phÃ¢n phá»‘i Linux khÃ¡c.</p><p>Theo Ä‘á»‹nh nghÄ©a, má»™t bá»™ router sáº½ cÃ³ hai hoáº·c nhiá»u interfaces, Ã­t nháº¥t má»™t interface Ä‘á»ƒ káº¿t ná»‘i vá»›i máº¡ng diá»‡n rá»™ng (WAN) hoáº·c nguá»“n cáº¥p dá»¯ liá»‡u Internet vÃ  Ã­t nháº¥t má»™t interface káº¿t ná»‘i vá»›i máº¡ng cá»¥c bá»™ (LAN).</p><p>Má»—i LAN interface cÅ©ng pháº£i hoáº¡t Ä‘á»™ng nhÆ° Default IP Gateway cho máº¡ng LAN cá»§a nÃ³, lÃ½ tÆ°á»Ÿng nháº¥t lÃ  vá»›i interface cung cáº¥p DHCP cho cÃ¡c thiáº¿t bá»‹ khÃ¡ch sá»­ dá»¥ng.</p><p>Nhiá»u interface LAN cÃ³ thá»ƒ Ä‘Æ°á»£c káº¿t há»£p thÃ nh má»™t bridge interface duy nháº¥t. VÃ­ dá»¥, máº¡ng ethernet, 2.4Ghz vÃ  5Ghz thÆ°á»ng Ä‘Æ°á»£c káº¿t há»£p thÃ nh má»™t bridge interface duy nháº¥t. CÃ¡c tÃªn interface logic sáº½ Ä‘Æ°á»£c gÃ¡n nhÆ° eth0, wlan0, wlan1, v.v. vá»›i bridge interface káº¿t há»£p Ä‘Æ°á»£c Ä‘áº·t tÃªn lÃ  br-lan.</p><p>NDS sáº½ quáº£n lÃ½ má»™t hoáº·c nhiá»u interface trong sá»‘ Ä‘Ã³. Äiá»u nÃ y thÆ°á»ng sáº½ lÃ  br-lan, bridge cho cáº£ máº¡ng LAN khÃ´ng dÃ¢y vÃ  cÃ³ dÃ¢y, nhÆ°ng cÃ³ thá»ƒ lÃ , vÃ­ dá»¥, wlan0 náº¿u báº¡n muá»‘n NDS chá»‰ hoáº¡t Ä‘á»™ng trÃªn interface khÃ´ng dÃ¢y.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="tÃ³m-táº¯t-hoáº¡t-Ä‘á»™ng"></a>TÃ“M Táº®T HOáº T Äá»˜NG<a class="hash-link" href="#tÃ³m-táº¯t-hoáº¡t-Ä‘á»™ng" title="Direct link to heading">#</a></h2><p>Theo máº·c Ä‘á»‹nh, NDS cháº·n má»i thá»©, trá»« nhá»¯ng request Ä‘áº¿n port 80.</p><p>Request Ä‘áº¿n port 80 ban Ä‘áº§u sáº½ Ä‘Æ°á»£c generate trÃªn thiáº¿t bá»‹ cá»§a khÃ¡ch, thÆ°á»ng Ä‘Æ°á»£c tá»± Ä‘á»™ng bá»Ÿi thiáº¿t bá»‹ cá»§a khÃ¡ch Ä‘Æ°á»£c tÃ­ch há»£p sáºµn chá»©c nÄƒng Captive Portal Detection (CPD) hoáº·c cÃ³ thá»ƒ do ngÆ°á»i dÃ¹ng duyá»‡t theo cÃ¡ch thá»§ cÃ´ng Ä‘áº¿n trang web http.</p><p>Request nÃ y táº¥t nhiÃªn sáº½ Ä‘Æ°á»£c <strong>Ä‘á»‹nh tuyáº¿n bá»Ÿi thiáº¿t bá»‹ Ä‘áº¿n Default Gateway</strong> cá»§a local network. Default Gateway, nhÆ° chÃºng ta Ä‘Ã£ tháº¥y, sáº½ lÃ  interface Ä‘á»‹nh tuyáº¿n mÃ  NDS Ä‘ang quáº£n lÃ½.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="Ä‘iá»u-cáº§n-náº¯m-báº¯t-nds"></a>ÄIá»€U Cáº¦N Náº®M Báº®T (NDS)<a class="hash-link" href="#Ä‘iá»u-cáº§n-náº¯m-báº¯t-nds" title="Direct link to heading">#</a></h2><p>Ban Ä‘áº§u, ngay sau khi nháº­n Ä‘Æ°á»£c request Ä‘áº¿n port 80 nÃ y trÃªn default gateway interface, NDS sáº½ &quot;Chá»¥p&quot; nÃ³, ghi láº¡i danh tÃ­nh thiáº¿t bá»‹ khÃ¡ch, phÃ¢n bá»• token duy nháº¥t cho thiáº¿t bá»‹ khÃ¡ch, sau Ä‘Ã³ chuyá»ƒn hÆ°á»›ng trÃ¬nh duyá»‡t khÃ¡ch Ä‘áº¿n Portal cá»§a NDS.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="Ä‘iá»u-cung-cáº¥p-cá»•ng-thÃ´ng-tin-fas-hoáº·c-preauth"></a>Äiá»u Cung Cáº¥p Cá»•ng ThÃ´ng Tin (FAS hoáº·c PreAuth)<a class="hash-link" href="#Ä‘iá»u-cung-cáº¥p-cá»•ng-thÃ´ng-tin-fas-hoáº·c-preauth" title="Direct link to heading">#</a></h2><p>TrÃ¬nh duyá»‡t mÃ¡y khÃ¡ch Ä‘Æ°á»£c chuyá»ƒn hÆ°á»›ng Ä‘áº¿n Portal component. ÄÃ¢y lÃ  má»™t web service Ä‘Æ°á»£c Ä‘á»‹nh cáº¥u hÃ¬nh Ä‘á»ƒ biáº¿t cÃ¡ch giao tiáº¿p vá»›i core engine cá»§a NDS.</p><p>Trang nÃ y thÆ°á»ng Ä‘Æ°á»£c gá»i lÃ  Splash Page.</p><p>NDS cÃ³ mÃ¡y chá»§ web riÃªng Ä‘Æ°á»£c tÃ­ch há»£p sáºµn vÃ  mÃ¡y chá»§ nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ cung cáº¥p cÃ¡c trang â€œSplashâ€ cá»§a Portal tá»›i trÃ¬nh duyá»‡t mÃ¡y khÃ¡ch hoáº·c cÃ³ thá»ƒ sá»­ dá»¥ng má»™t mÃ¡y chá»§ web riÃªng biá»‡t.</p><p>openNDS Ä‘i kÃ¨m vá»›i hai tÃ¹y chá»n Splash Page tiÃªu chuáº©n Ä‘Æ°á»£c cÃ i Ä‘áº·t sáºµn.</p><p>Option má»™t lÃ  cung cáº¥p má»™t trang nháº¥p chuá»™t Ä‘á»ƒ tiáº¿p tá»¥c vÃ  Má»™t option ná»¯a lÃ  trang kia cung cáº¥p biá»ƒu máº«u, yÃªu cáº§u khÃ¡ch hÃ ng nháº­p TÃªn vÃ  Ä‘á»‹a chá»‰ Email.</p><p>Cáº£ hai Ä‘á»u cÃ³ thá»ƒ Ä‘Æ°á»£c tÃ¹y chá»‰nh hoáº·c má»™t Cá»•ng thÃ´ng tin chuyÃªn biá»‡t hoÃ n chá»‰nh cÃ³ thá»ƒ Ä‘Æ°á»£c viáº¿t bá»Ÿi trÃ¬nh cÃ i Ä‘áº·t (Xem FAS, PreAuth).</p><p>FAS, hoáº·c Forward Authentication Service cÃ³ thá»ƒ sá»­ dá»¥ng mÃ¡y chá»§ web Ä‘Æ°á»£c nhÃºng trong NDS, má»™t mÃ¡y chá»§ web riÃªng biá»‡t Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn router NDS, má»™t mÃ¡y chá»§ web náº±m trÃªn local network hoáº·c má»™t mÃ¡y chá»§ web Ä‘Æ°á»£c host trÃªn Internet.</p><p>KhÃ¡ch dÃ¹ng thiáº¿t bá»‹ sáº½ luÃ´n pháº£i hoÃ n thÃ nh má»™t sá»‘ hÃ nh Ä‘á»™ng trÃªn trang splash.</p><p>Khi ngÆ°á»i dÃ¹ng thiáº¿t bá»‹ Ä‘Ã£ hoÃ n thÃ nh thÃ nh cÃ´ng cÃ¡c hÃ nh Ä‘á»™ng trÃªn trang splash, trang Ä‘Ã³ sau Ä‘Ã³ sáº½ trá»±c tiáº¿p redirect trá»Ÿ láº¡i NDS.</p><p>Äá»ƒ báº£o máº­t, NDS chá» Ä‘á»£i nháº­n Ä‘Æ°á»£c cÃ¹ng má»™t token há»£p lá»‡ Ä‘Æ°á»£c phÃ¢n phÃ¡t khi khÃ¡ch hÃ ng Ä‘Æ°a request Ä‘áº¿n port 80. Náº¿u token nháº­n Ä‘Æ°á»£c lÃ  há»£p lá»‡, NDS sau Ä‘Ã³ sáº½ â€œxÃ¡c thá»±câ€ thiáº¿t bá»‹ khÃ¡ch, cho phÃ©p truy cáº­p Internet.</p><p>CÃ¡c tiá»‡n Ã­ch má»Ÿ rá»™ng xá»­ lÃ½ xÃ¡c thá»±c cÃ³ thá»ƒ Ä‘Æ°á»£c thÃªm vÃ o NDS (Xem BinAuth). Khi NDS Ä‘Ã£ nháº­n Ä‘Æ°á»£c token há»£p lá»‡, nÃ³ sáº½ gá»i má»™t táº­p lá»‡nh BinAuth.</p><p>Náº¿u táº­p lá»‡nh BinAuth tráº£ vá» Ä‘Ãºng (tá»©c lÃ  mÃ£ tráº£ vá» 0), thÃ¬ NDS sáº½ â€œxÃ¡c thá»±câ€ thiáº¿t bá»‹ khÃ¡ch, cho phÃ©p truy cáº­p Internet.</p><p>Khi FAS Ä‘Æ°á»£c sá»­ dá»¥ng, cÃ¡c cháº¿ Ä‘á»™ báº£o máº­t Ä‘Æ°á»£c cung cáº¥p (cáº¥p Ä‘á»™ 1, 2 vÃ  3), trong Ä‘Ã³ token mÃ¡y khÃ¡ch vÃ  cÃ¡c biáº¿n báº¯t buá»™c khÃ¡c Ä‘Æ°á»£c áº©n an toÃ n khá»i MÃ¡y khÃ¡ch, Ä‘áº£m báº£o khÃ´ng thá»ƒ bá» qua xÃ¡c minh.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>FAS vÃ  Binauth cÃ³ thá»ƒ Ä‘Æ°á»£c báº­t cÃ¹ng nhau. Äiá»u nÃ y cÃ³ thá»ƒ mang láº¡i tÃ­nh linh hoáº¡t cao, vá»›i FAS cung cáº¥p xÃ¡c minh tá»« xa vÃ  Binauth cung cáº¥p xá»­ lÃ½ xÃ¡c thá»±c bÃ i Ä‘Äƒng cá»¥c bá»™ Ä‘Æ°á»£c liÃªn káº¿t cháº·t cháº½ vá»›i NDS.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="captive-portal-detection-cpd"></a>Captive Portal Detection (CPD)<a class="hash-link" href="#captive-portal-detection-cpd" title="Direct link to heading">#</a></h2><p>Táº¥t cáº£ cÃ¡c thiáº¿t bá»‹ di Ä‘á»™ng hiá»‡n Ä‘áº¡i, háº§u háº¿t cÃ¡c há»‡ Ä‘iá»u hÃ nh mÃ¡y tÃ­nh Ä‘á»ƒ bÃ n vÃ  háº§u háº¿t cÃ¡c trÃ¬nh duyá»‡t hiá»‡n nay Ä‘á»u cÃ³ quy trÃ¬nh CPD tá»± Ä‘á»™ng Ä‘Æ°a ra cÃ¡c rquest Ä‘áº¿n port 80 khi káº¿t ná»‘i vá»›i máº¡ng. NDS phÃ¡t hiá»‡n Ä‘iá»u nÃ y vÃ  cung cáº¥p má»™t trang web &quot;splash&quot; Ä‘áº·c biá»‡t tá»›i thiáº¿t bá»‹ khÃ¡ch Ä‘ang káº¿t ná»‘i.</p><p>YÃªu cáº§u html cá»•ng 80 Ä‘Æ°á»£c thá»±c hiá»‡n bá»Ÿi CPD khÃ¡ch hÃ ng cÃ³ thá»ƒ lÃ  má»™t trong nhiá»u URL cá»¥ thá»ƒ cá»§a nhÃ  cung cáº¥p.</p><p>VÃ­ dá»¥: cÃ¡c URL CPD Ä‘iá»ƒn hÃ¬nh Ä‘Æ°á»£c sá»­ dá»¥ng lÃ :</p><ul><li><a href="http://captive.apple.com/hotspot-detect.html" target="_blank" rel="noopener noreferrer">http://captive.apple.com/hotspot-detect.html</a></li><li><a href="http://connectivitycheck.gstatic.com/generate_204" target="_blank" rel="noopener noreferrer">http://connectivitycheck.gstatic.com/generate_204</a></li><li><a href="http://connectivitycheck.platform.hicloud.com/generate_204" target="_blank" rel="noopener noreferrer">http://connectivitycheck.platform.hicloud.com/generate_204</a></li><li><a href="http://www.samsung.com/" target="_blank" rel="noopener noreferrer">http://www.samsung.com/</a></li><li><a href="http://detectportal.firefox.com/success.txt" target="_blank" rel="noopener noreferrer">http://detectportal.firefox.com/success.txt</a></li><li>ThÃªm ná»¯a</li></ul><p>Äiá»u quan trá»ng cáº§n nhá»› lÃ  CPD Ä‘Æ°á»£c thiáº¿t káº¿ chá»§ yáº¿u cho cÃ¡c thiáº¿t bá»‹ di Ä‘á»™ng Ä‘á»ƒ tá»± Ä‘á»™ng phÃ¡t hiá»‡n sá»± hiá»‡n diá»‡n cá»§a portal vÃ  kÃ­ch hoáº¡t trang Ä‘Äƒng nháº­p, mÃ  khÃ´ng cáº§n pháº£i sá»­ dá»¥ng Ä‘áº¿n báº£o máº­t SSL / TLS. Báº±ng cÃ¡ch yÃªu cáº§u cá»•ng chuyá»ƒn hÆ°á»›ng cá»•ng 443 cháº³ng háº¡n.</p><p>Háº§u nhÆ° táº¥t cáº£ cÃ¡c triá»ƒn khai CPD hiá»‡n táº¡i Ä‘á»u hoáº¡t Ä‘á»™ng ráº¥t tá»‘t nhÆ°ng má»™t sá»‘ láº¡i cáº§n Ä‘iá»u chá»‰nh thÃ­ch há»£p vá»›i tá»«ng loáº¡i á»©ng dá»¥ng khÃ¡c nhau.</p><p>Pháº§n lá»›n cÃ¡c thiáº¿t bá»‹ gáº¯n vá»›i Captive Portal Ä‘iá»ƒn hÃ¬nh lÃ  thiáº¿t bá»‹ di Ä‘á»™ng. CPD hoáº¡t Ä‘á»™ng tá»‘t cho trang Ä‘Äƒng nháº­p ban Ä‘áº§u.</p><p>NhÆ°ng Ä‘á»‘i vá»›i má»™t khÃ¡ch sá»­ dá»¥ng wifi á»Ÿ má»™t sá»‘ nÆ¡i. VÃ­ dá»¥ nhÆ° quÃ¡n cÃ  phÃª, quÃ¡n bar, cÃ¢u láº¡c bá»™, khÃ¡ch sáº¡n, v.v., thiáº¿t bá»‹ káº¿t ná»‘i, truy cáº­p Internet Ä‘Æ°á»£c má»™t lÃºc thÃ¬ ngÆ°á»i dÃ¹ng Ä‘Æ°a thiáº¿t bá»‹ ra khá»i pháº¡m vi phá»§ sÃ³ng.</p><p>Khi ra ngoÃ i pháº¡m vi phá»§ sÃ³ng, má»™t thiáº¿t bá»‹ di Ä‘á»™ng thÃ´ng thÆ°á»ng báº¯t Ä‘áº§u thÄƒm dÃ² Ä‘á»‹nh ká»³ wifi SSID mÃ  nÃ³ biáº¿t Ä‘á»ƒ cá»‘ gáº¯ng láº¥y láº¡i káº¿t ná»‘i, tÃ¹y thuá»™c vÃ o thá»i gian chá» Ä‘á»ƒ báº£o toÃ n tuá»•i thá» pin.</p><p>Háº§u háº¿t cÃ¡c Captive Portal Ä‘á»u cÃ³ giá»›i háº¡n thá»i gian cho má»™t session (bao gá»“m NDS).</p><p>Náº¿u má»™t thiáº¿t bá»‹ Ä‘Ã£ Ä‘Äƒng nháº­p trÆ°á»›c Ä‘Ã³ quay trá»Ÿ láº¡i trong pháº¡m vi phá»§ sÃ³ng cá»§a portal, thÃ¬ SSID Ä‘Ã£ sá»­ dá»¥ng trÆ°á»›c Ä‘Ã³ sáº½ Ä‘Æ°á»£c nháº­n dáº¡ng vÃ  CPD Ä‘Æ°á»£c kÃ­ch hoáº¡t vÃ  kiá»ƒm tra káº¿t ná»‘i Internet theo cÃ¡ch bÃ¬nh thÆ°á»ng. Trong giá»›i háº¡n thá»i gian session cá»§a portal, káº¿t ná»‘i Internet sáº½ Ä‘Æ°á»£c thiáº¿t láº­p, náº¿u phiÃªn Ä‘Ã£ háº¿t háº¡n, trang splash sáº½ Ä‘Æ°á»£c hiá»ƒn thá»‹ láº¡i.</p><p>Viá»‡c triá»ƒn khai CPD trÃªn thiáº¿t bá»‹ di Ä‘á»™ng ban Ä‘áº§u Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ thÄƒm dÃ², phÃ¡t hiá»‡n URL theo khoáº£ng thá»i gian Ä‘á»u Ä‘áº·n, thÆ°á»ng lÃ  khoáº£ng 30 Ä‘áº¿n 300 giÃ¢y. Äiá»u nÃ y sáº½ kÃ­ch hoáº¡t trang Portal Splash khÃ¡ nhanh náº¿u thiáº¿t bá»‹ váº«n á»Ÿ trong pháº¡m vi vÃ  Ä‘Ã£ Ä‘áº¡t Ä‘áº¿n giá»›i háº¡n session.</p><p>Tuy nhiÃªn, ráº¥t nhanh chÃ³ng nháº­n ra ráº±ng viá»‡c nÃ y lÃ m thiáº¿t bá»‹ Ä‘Æ°á»£c báº­t liÃªn tá»¥c cÃ³ áº£nh hÆ°á»Ÿng ráº¥t tiÃªu cá»±c Ä‘áº¿n tuá»•i thá» pin, vÃ¬ váº­y viá»‡c kiá»ƒm tra session háº¿t háº¡n nÃ y Ä‘Æ°á»£c tÄƒng lÃªn má»™t khoáº£ng thá»i gian ráº¥t dÃ i hoáº·c bá»‹ loáº¡i bá» táº¥t cáº£ cÃ¹ng nhau (tÃ¹y thuá»™c vÃ o nhÃ  cung cáº¥p) Ä‘á»ƒ báº£o toÃ n sáº¡c pin. Khi háº§u háº¿t cÃ¡c thiáº¿t bá»‹ di Ä‘á»™ng Ä‘áº¿n vÃ  Ä‘i vÃ o vÃ¹ng phá»§ sÃ³ng, Ä‘Ã¢y khÃ´ng pháº£i lÃ  má»™t váº¥n Ä‘á».</p><p>Má»™t váº¥n Ä‘á» phá»• biáº¿n Ä‘Æ°á»£c nÃªu ra lÃ :</p><blockquote><p>Thiáº¿t bá»‹ cá»§a tÃ´i hiá»ƒn thá»‹ trang splash khi chÃºng káº¿t ná»‘i láº§n Ä‘áº§u, nhÆ°ng khi háº¿t háº¡n á»§y quyá»n, chÃºng chá»‰ nháº­n thÃ´ng bÃ¡o khÃ´ng cÃ³ káº¿t ná»‘i internet. TÃ´i pháº£i lÃ m cho há» &quot;quÃªn&quot; máº¡ng WiFi nÃ y Ä‘i Ä‘á»ƒ xem láº¡i trang splash. ÄÃ¢y cÃ³ pháº£i lÃ  cÃ¡ch nÃ³ Ä‘Æ°á»£c cho lÃ  hoáº¡t Ä‘á»™ng?</p></blockquote><p>CÃ¡ch giáº£i quyáº¿t nhÆ° Ä‘Æ°á»£c mÃ´ táº£ trong váº¥n Ä‘á», hoáº·c tháº­m chÃ­ chá»‰ cáº§n ngáº¯t káº¿t ná»‘i hoáº·c táº¯t vÃ  báº­t láº¡i WiFi theo cÃ¡ch thá»§ cÃ´ng thÃ¬ cÅ©ng giá»‘ng nhÆ° viá»‡c báº¡n &quot;Ä‘i ra ngoÃ i pháº¡m vi&quot;, khá»Ÿi táº¡o kÃ­ch hoáº¡t CPD ngay láº­p tá»©c. Má»™t hoáº·c báº¥t ká»³ sá»± káº¿t há»£p nÃ o cá»§a cÃ¡c cÃ¡ch giáº£i quyáº¿t nÃ y sáº½ hoáº¡t Ä‘á»™ng, má»™t láº§n ná»¯a tÃ¹y thuá»™c vÃ o viá»‡c triá»ƒn khai CPD cá»§a nhÃ  cung cáº¥p cá»¥ thá»ƒ.</p><p>NgÆ°á»£c láº¡i, háº§u háº¿t cÃ¡c há»‡ Ä‘iá»u hÃ nh mÃ¡y tÃ­nh xÃ¡ch tay / mÃ¡y tÃ­nh Ä‘á»ƒ bÃ n vÃ  cÃ¡c phiÃªn báº£n trÃ¬nh duyá»‡t cho nhá»¯ng há»‡ Ä‘iá»u hÃ nh nÃ y váº«n triá»ƒn khai tÃ­nh nÄƒng thÄƒm dÃ² CPD trong khi trá»±c tuyáº¿n vÃ¬ viá»‡c cÃ¢n nháº¯c vá» pin khÃ´ng quÃ¡ quan trá»ng.</p><p>VÃ­ dá»¥: mÃ¡y tÃ­nh Ä‘á»ƒ bÃ n Gnome cÃ³ trÃ¬nh duyá»‡t CPD tÃ­ch há»£p riÃªng vá»›i khoáº£ng thá»i gian máº·c Ä‘á»‹nh lÃ  300 giÃ¢y. Firefox cÅ©ng máº·c Ä‘á»‹nh lÃ  300 giÃ¢y. Windows 10 cÅ©ng tÆ°Æ¡ng tá»±.</p><p>ÄÃ¢y lÃ  cÃ¡ch nÃ³ Ä‘Æ°á»£c cho lÃ  hoáº¡t Ä‘á»™ng, nhÆ°ng cÃ³ liÃªn quan Ä‘áº¿n má»™t sá»‘ thá»a hiá»‡p.</p><p>Giáº£i phÃ¡p tá»‘t nháº¥t lÃ  Ä‘áº·t thá»i gian chá» cá»§a phiÃªn thÃ nh má»™t giÃ¡ trá»‹ lá»›n hÆ¡n khoáº£ng thá»i gian dá»± kiáº¿n â€‹â€‹mÃ  thiáº¿t bá»‹ khÃ¡ch cÃ³ thá»ƒ cÃ³ máº·t. Kinh nghiá»‡m cho tháº¥y giá»›i háº¡n 24 giá» Ã¡p dá»¥ng cho háº§u háº¿t cÃ¡c trÆ°á»ng há»£p, vÃ­ dá»¥ nhÆ° quÃ¡n bar, cÃ¢u láº¡c bá»™, quÃ¡n cÃ  phÃª, nhÃ  nghá»‰, v.v. Náº¿u vÃ­ dá»¥, má»™t khÃ¡ch sáº¡n cÃ³ khÃ¡ch thÆ°á»ng xuyÃªn lÆ°u trÃº trong má»™t vÃ i ngÃ y, thÃ¬ hÃ£y tÄƒng thá»i gian chá» cá»§a phiÃªn lÃ m viá»‡c theo yÃªu cáº§u.</p><p>NhÃ¢n viÃªn táº¡i Ä‘á»‹a Ä‘iá»ƒm cÃ³ thá»ƒ Ä‘Æ°a thiáº¿t bá»‹ cá»§a há» vÃ o Danh sÃ¡ch tin cáº­y náº¿u thÃ­ch há»£p, nhÆ°ng theo kinh nghiá»‡m cho tháº¥y, tá»‘t hÆ¡n lÃ  khÃ´ng nÃªn lÃ m Ä‘iá»u nÃ y vÃ¬ há» sáº½ sá»›m biáº¿t Ä‘Æ°á»£c nhá»¯ng viá»‡c cáº§n lÃ m vÃ  cÃ³ thá»ƒ giÃºp nhá»¯ng khÃ¡ch gáº·p sá»± cá»‘. (Báº¥t cá»© Ä‘iá»u gÃ¬ lÃ m giáº£m cuá»™c gá»i há»— trá»£ lÃ  tá»‘t!)</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="phÃ¡t-hiá»‡n-vÃ¹ng-máº¡ng-mÃ¡y-khÃ¡ch-Ä‘Æ°á»£c-káº¿t-ná»‘i-á»Ÿ-Ä‘Ã¢u"></a>PhÃ¡t hiá»‡n vÃ¹ng máº¡ng (MÃ¡y khÃ¡ch Ä‘Æ°á»£c káº¿t ná»‘i á»Ÿ Ä‘Ã¢u?)<a class="hash-link" href="#phÃ¡t-hiá»‡n-vÃ¹ng-máº¡ng-mÃ¡y-khÃ¡ch-Ä‘Æ°á»£c-káº¿t-ná»‘i-á»Ÿ-Ä‘Ã¢u" title="Direct link to heading">#</a></h2><p>CÃ¡c thiáº¿t bá»‹ khÃ¡ch cÃ³ thá»ƒ Ä‘Æ°á»£c káº¿t ná»‘i vá»›i má»™t trong sá»‘ cÃ¡c SSID WiFi cá»¥c bá»™, Ä‘Æ°á»£c káº¿t ná»‘i trá»±c tiáº¿p hoáº·c giÃ¡n tiáº¿p báº±ng ethernet hoáº·c káº¿t ná»‘i qua máº¡ng lÆ°á»›i khÃ´ng dÃ¢y. Má»—i loáº¡i káº¿t ná»‘i cÃ³ sáºµn Ä‘Æ°á»£c coi lÃ  má»™t VÃ¹ng máº¡ng.</p><p>NDS phÃ¡t hiá»‡n vÃ¹ng mÃ  má»—i mÃ¡y khÃ¡ch Ä‘Æ°á»£c káº¿t ná»‘i. ThÃ´ng tin nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tÃ¹y chá»‰nh Ä‘á»™ng Ä‘Äƒng nháº­p cho tá»«ng khu vá»±c.</p><p>VÃ­ dá»¥: má»™t cá»­a hÃ ng cÃ  phÃª cÃ³ thá»ƒ cÃ³ hai SSID Ä‘Æ°á»£c Ä‘á»‹nh cáº¥u hÃ¬nh:</p><ul><li>NhÃ¢n viÃªn (SSID báº£o máº­t tá»©c lÃ  vá»›i mÃ£ truy cáº­p)</li><li>KhÃ¡ch hÃ ng (má»Ÿ SSID báº±ng biá»ƒu máº«u Ä‘Äƒng nháº­p)</li></ul><p>Trong vÃ­ dá»¥ nÃ y, SSID â€œNhÃ¢n viÃªnâ€ Ä‘Æ°á»£c Ä‘á»‹nh cáº¥u hÃ¬nh trÃªn giao diá»‡n wlan0 vÃ  Ä‘Æ°á»£c coi lÃ  VÃ¹ng â€œRiÃªng tÆ°â€.</p><p>Tuy nhiÃªn, SSID â€œKhÃ¡ch hÃ ngâ€ Ä‘Æ°á»£c cáº¥u hÃ¬nh trÃªn giao diá»‡n áº£o wlan0-1 vÃ  Ä‘Æ°á»£c coi lÃ  VÃ¹ng â€œCÃ´ng cá»™ngâ€.</p><p>NDS phÃ¡t hiá»‡n khu vá»±c nÃ o Ä‘ang Ä‘Æ°á»£c khÃ¡ch hÃ ng sá»­ dá»¥ng vÃ  trang Ä‘Äƒng nháº­p cÃ³ liÃªn quan cÃ³ thá»ƒ Ä‘Æ°á»£c cung cáº¥p.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="lá»c-gÃ³i-tin"></a>Lá»c gÃ³i tin<a class="hash-link" href="#lá»c-gÃ³i-tin" title="Direct link to heading">#</a></h2><p>openNDS xem xÃ©t bá»‘n loáº¡i gÃ³i Ä‘i vÃ o bá»™ Ä‘á»‹nh tuyáº¿n qua giao diá»‡n Ä‘Æ°á»£c quáº£n lÃ½. Má»—i gÃ³i lÃ  má»™t trong nhá»¯ng loáº¡i sau:</p><ol><li><p><strong>Blocked</strong> , náº¿u MAC bá»‹ cháº·n vÃ  Ä‘á»‹a chá»‰ MAC nguá»“n cá»§a packet phÃ¹ há»£p vá»›i Ä‘á»‹a chá»‰ Ä‘Æ°á»£c liá»‡t kÃª trong BlockedMACList; hoáº·c náº¿u MAC Ä‘Æ°á»£c cho phÃ©p vÃ  Ä‘á»‹a chá»‰ MAC nguá»“n cá»§a gÃ³i khÃ´ng khá»›p vá»›i Ä‘á»‹a chá»‰ Ä‘Æ°á»£c liá»‡t kÃª trong AllowedMACList hoáº·c TrustedMACList. CÃ¡c gÃ³i tin nÃ y bá»‹ loáº¡i bá».</p></li><li><p><strong>Trusted</strong> , náº¿u Ä‘á»‹a chá»‰ MAC nguá»“n cá»§a packet phÃ¹ há»£p vá»›i Ä‘á»‹a chá»‰ Ä‘Æ°á»£c liá»‡t kÃª trong TrustedMACList. Theo máº·c Ä‘á»‹nh, cÃ¡c gÃ³i nÃ y Ä‘Æ°á»£c cháº¥p nháº­n vÃ  chuyá»ƒn Ä‘áº¿n táº¥t cáº£ cÃ¡c Ä‘á»‹a chá»‰ vÃ  cá»•ng Ä‘Ã­ch. Náº¿u muá»‘n, hÃ nh vi nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c tÃ¹y chá»‰nh bá»Ÿi FirewallRuleSet ngÆ°á»i dÃ¹ng Ä‘Ã¡ng tin cáº­y vÃ  FirewallRuleSet danh sÃ¡ch ngÆ°á»i dÃ¹ng Ä‘áº¿n bá»™ Ä‘á»‹nh tuyáº¿n Ä‘Ã¡ng tin cáº­y trong tá»‡p cáº¥u hÃ¬nh opennds.conf hoáº·c báº±ng chá»‰ thá»‹ ngÆ°á»i dÃ¹ng tin cáº­y EmptyRuleSetPolicy EmptyRuleSetPolicy-user-to-router.</p></li><li><p><strong>Authenticated</strong> , náº¿u Ä‘á»‹a chá»‰ nguá»“n IP vÃ  MAC cá»§a packet Ä‘Ã£ tráº£i qua quÃ¡ trÃ¬nh xÃ¡c thá»±c openNDS vÃ  chÆ°a háº¿t háº¡n. CÃ¡c gÃ³i nÃ y Ä‘Æ°á»£c cháº¥p nháº­n vÃ  Ä‘á»‹nh tuyáº¿n Ä‘áº¿n má»™t táº­p há»£p Ä‘á»‹a chá»‰ vÃ  cá»•ng giá»›i háº¡n (xem FirewallRuleSet ngÆ°á»i dÃ¹ng Ä‘Æ°á»£c xÃ¡c thá»±c vÃ  FirewallRuleSet ngÆ°á»i dÃ¹ng Ä‘áº¿n bá»™ Ä‘á»‹nh tuyáº¿n trong tá»‡p cáº¥u hÃ¬nh opennds.conf).</p></li><li><p><strong>Preauthenticated</strong> . Báº¥t ká»³ packet nÃ o khÃ¡c. CÃ¡c packets nÃ y Ä‘Æ°á»£c cháº¥p nháº­n vÃ  Ä‘á»‹nh tuyáº¿n Ä‘áº¿n má»™t nhÃ³m Ä‘á»‹a chá»‰ vÃ  cá»•ng giá»›i háº¡n (xem FirewallRuleSet preauthenticated-users vÃ  FirewallRuleSet user-to-router trong tá»‡p cáº¥u hÃ¬nh opennds.conf). Báº¥t ká»³ packet nÃ o khÃ¡c Ä‘á»u bá»‹ loáº¡i bá», ngoáº¡i trá»« má»™t packet cho cá»•ng Ä‘Ã­ch 80 táº¡i báº¥t ká»³ Ä‘á»‹a chá»‰ nÃ o Ä‘Æ°á»£c chuyá»ƒn hÆ°á»›ng Ä‘áº¿n cá»•ng 2050 trÃªn bá»™ Ä‘á»‹nh tuyáº¿n, nÆ¡i mÃ¡y chá»§ web dá»±a trÃªn libhttpd cá»§a openNDS Ä‘ang láº¯ng nghe. Äiá»u nÃ y báº¯t Ä‘áº§u quÃ¡ trÃ¬nh &#x27;xÃ¡c thá»±c&#x27;. MÃ¡y chá»§ sáº½ phá»¥c vá»¥ má»™t trang splash quay trá»Ÿ láº¡i Ä‘á»‹a chá»‰ IP nguá»“n cá»§a packet. NgÆ°á»i dÃ¹ng nháº¥p vÃ o liÃªn káº¿t thÃ­ch há»£p trÃªn trang splash sáº½ hoÃ n táº¥t quÃ¡ trÃ¬nh, khiáº¿n cÃ¡c packet trong tÆ°Æ¡ng lai tá»« Ä‘á»‹a chá»‰ IP / MAC nÃ y Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u lÃ  ÄÃ£ xÃ¡c thá»±c cho Ä‘áº¿n khi Ä‘áº¡t Ä‘áº¿n thá»i gian chá» khÃ´ng hoáº¡t Ä‘á»™ng hoáº·c báº¯t buá»™c vÃ  cÃ¡c gÃ³i cá»§a nÃ³ trá»Ÿ láº¡i Ä‘Æ°á»£c XÃ¡c thá»±c trÆ°á»›c.</p></li></ol><p>openNDS thá»±c hiá»‡n cÃ¡c hÃ nh Ä‘á»™ng nÃ y báº±ng cÃ¡ch chÃ¨n cÃ¡c quy táº¯c trong chuá»—i PREROUTING iptables mangle cá»§a bá»™ Ä‘á»‹nh tuyáº¿n Ä‘á»ƒ Ä‘Ã¡nh dáº¥u cÃ¡c packet vÃ  báº±ng cÃ¡ch chÃ¨n cÃ¡c quy táº¯c trong nat PREROUTING, lá»c INPUT vÃ  lá»c chuá»—i FORWARD khá»›p trÃªn cÃ¡c dáº¥u Ä‘Ã³.</p><p>Bá»Ÿi vÃ¬ nÃ³ chÃ¨n cÃ¡c quy táº¯c cá»§a nÃ³ vÃ o Ä‘áº§u cÃ¡c chuá»—i hiá»‡n cÃ³, openNDS sáº½ khÃ´ng nháº¡y cáº£m vá»›i háº§u háº¿t cÃ¡c cáº¥u hÃ¬nh tÆ°á»ng lá»­a hiá»‡n cÃ³ Ä‘iá»ƒn hÃ¬nh.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="data-volume-vÃ -rate-quotas"></a>Data Volume vÃ  Rate Quotas<a class="hash-link" href="#data-volume-vÃ -rate-quotas" title="Direct link to heading">#</a></h1><p>openNDS (NDS) Ä‘Ã£ tÃ­ch há»£p sáºµn há»— trá»£ <code>Data Volume</code> vÃ  <code>Data Rate</code> quota.</p><p>Data volume and data rate quotas can be set globally in the config file.</p><p>CÃ¡c giÃ¡ trá»‹ chung cÃ³ thá»ƒ Ä‘Æ°á»£c ghi Ä‘Ã¨ trÃªn tá»«ng mÃ¡y khÃ¡ch theo yÃªu cáº§u.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="Ä‘iá»u-hÆ°á»›ng-traffic"></a>Äiá»u hÆ°á»›ng Traffic<a class="hash-link" href="#Ä‘iá»u-hÆ°á»›ng-traffic" title="Direct link to heading">#</a></h1><p>openNDS (NDS) há»— trá»£ Traffic Shaping (Giá»›i háº¡n BÄƒng thÃ´ng) báº±ng cÃ¡ch sá»­ dá»¥ng SQM - Smart Management (sqm-scripts) package, cÃ³ sáºµn cho OpenWrt vÃ  Linux chung.</p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/sysadmin">sysadmin</a></div><div class="col text--right"><a aria-label="Read more about OpenNDS Hoáº¡t Äá»™ng NhÆ° Tháº¿ NÃ o" href="/blog/opennds-hoat-dong-nhu-the-nao"><strong>Read More</strong></a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3-lP"><a href="/blog/huong-dan-cai-dat-firmware-OpenWRT">HÆ°á»›ng Dáº«n CÃ i Äáº·t Firmware OpenWRT</a></h2><div class="margin-vert--md"><time datetime="2021-03-02T00:00:00.000Z" class="blogPostDate_Ta7i">March 2, 2021  Â· 2 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" target="_blank" rel="noreferrer noopener"><img src="/img/falundafa_avatar.jpg" alt="Hacker 6009"></a><div class="avatar__intro"><h4 class="avatar__name"><a target="_blank" rel="noreferrer noopener">Hacker 6009</a></h4><small class="avatar__subtitle">Blog Admin</small></div></div></header><section class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="giá»›i-thiá»‡u"></a>GIá»šI THIá»†U<a class="hash-link" href="#giá»›i-thiá»‡u" title="Direct link to heading">#</a></h2><p><img alt="img" src="/assets/images/finger-print-technical-893b2b365d824af3b2076e09f417aaa6.jpg"></p><p>MÃ¡y cháº¥m cÃ´ng lÃ  má»™t thiáº¿t bá»‹ dÃ¹ng Ä‘á»ƒ ghi nháº­n thá»i gian ra vÃ o cá»§a cÃ¡c nhÃ¢n viÃªn trong má»™t cÃ´ng ty.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ká»¹-thuáº­t"></a>Ká»¹ Thuáº­t<a class="hash-link" href="#ká»¹-thuáº­t" title="Direct link to heading">#</a></h2><p>Ká»¹ thuáº­t cháº¥m cÃ´ng tá»± Ä‘á»™ng khÃ´ng cáº§n dÃ¹ng mÃ¡y cháº¥m cÃ´ng truyá»n thá»‘ng.</p><p>Gá»“m cÃ¡c bÆ°á»›c nhÆ° sau:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="khá»Ÿi-táº¡o-thÃ´ng-tin-ngÆ°á»i-dÃ¹ng"></a>Khá»Ÿi táº¡o thÃ´ng tin ngÆ°á»i dÃ¹ng<a class="hash-link" href="#khá»Ÿi-táº¡o-thÃ´ng-tin-ngÆ°á»i-dÃ¹ng" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ghi-nháº­n-thá»i-gian-ra-vÃ o"></a>Ghi nháº­n thá»i gian ra vÃ o<a class="hash-link" href="#ghi-nháº­n-thá»i-gian-ra-vÃ o" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ghi-nháº­n-báº±ng-log-dhcp-release"></a>Ghi nháº­n báº±ng log DHCP Release<a class="hash-link" href="#ghi-nháº­n-báº±ng-log-dhcp-release" title="Direct link to heading">#</a></h4><p><em>Still not public the method</em></p><p><em>Ká»¹ thuáº­t chÆ°a Ä‘Æ°á»£c cÃ´ng khai</em></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ghi-nháº­n-báº±ng-cÃ¡ch-check-má»—i-20-giÃ¢y"></a>Ghi nháº­n báº±ng cÃ¡ch check má»—i 20 giÃ¢y<a class="hash-link" href="#ghi-nháº­n-báº±ng-cÃ¡ch-check-má»—i-20-giÃ¢y" title="Direct link to heading">#</a></h4><p><em>Still not public the method</em></p><p><em>Ká»¹ thuáº­t chÆ°a Ä‘Æ°á»£c cÃ´ng khai</em></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="Æ°u-Ä‘iá»ƒm--nhÆ°á»£c-Ä‘iá»ƒm-so-vá»›i-mÃ¡y-truyá»n-thá»‘ng"></a>Æ¯u Äiá»ƒm &amp; NhÆ°á»£c Äiá»ƒm So Vá»›i MÃ¡y Truyá»n Thá»‘ng<a class="hash-link" href="#Æ°u-Ä‘iá»ƒm--nhÆ°á»£c-Ä‘iá»ƒm-so-vá»›i-mÃ¡y-truyá»n-thá»‘ng" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="Æ°u-Ä‘iá»ƒm"></a>Æ¯u Äiá»ƒm<a class="hash-link" href="#Æ°u-Ä‘iá»ƒm" title="Direct link to heading">#</a></h4><ul><li>Thiáº¿t kiá»‡m chi phÃ­ hÆ¡n do khÃ´ng cáº§n pháº£i mua mÃ¡y cháº¥m cÃ´ng</li><li>Tá»± Ä‘á»™ng bÃ¡o qua cÃ¡c kÃªnh nhÆ° Slack, Email, Telegram, SMS v.v... Náº¿u cÃ³ ngÆ°á»i Ä‘i trá»… vá»«a vÃ o hoáº·c rá»i khá»i chá»— lÃ m viá»‡c quÃ¡ lÃ¢u.</li><li>Bá»™ nhá»› dung lÆ°á»£ng cao cÃ³ kháº£ nÄƒng lÆ°u láº¡i lá»‹ch sá»­ cháº¥m cÃ´ng, thá»i gian ra vÃ o nÆ¡i lÃ m viá»‡c dÃ i lÃ¢u theo nÄƒm thÃ¡ng.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="nhÆ°á»£c-Ä‘iá»ƒm"></a>NhÆ°á»£c Äiá»ƒm<a class="hash-link" href="#nhÆ°á»£c-Ä‘iá»ƒm" title="Direct link to heading">#</a></h4><ul><li>CÃ³ thá»ƒ cÃ³ nhá»¯ng chÃ­nh sÃ¡ch Ä‘i kÃ¨m</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="giao-diá»‡n"></a>Giao Diá»‡n<a class="hash-link" href="#giao-diá»‡n" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="mÃ n-hÃ¬nh-Ä‘Äƒng-nháº­p-quáº£n-lÃ½"></a>MÃ n HÃ¬nh ÄÄƒng Nháº­p Quáº£n LÃ½<a class="hash-link" href="#mÃ n-hÃ¬nh-Ä‘Äƒng-nháº­p-quáº£n-lÃ½" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="báº£ng-cháº¥m-cÃ´ng-tá»•ng-quÃ¡t"></a>Báº£ng cháº¥m cÃ´ng tá»•ng quÃ¡t<a class="hash-link" href="#báº£ng-cháº¥m-cÃ´ng-tá»•ng-quÃ¡t" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="báº£ng-cháº¥m-cÃ´ng-chi-tiáº¿t-cá»§a-má»™t-cÃ¡-nhÃ¢n-kÃ¨m-ghi-chÃº"></a>Báº£ng cháº¥m cÃ´ng chi tiáº¿t cá»§a má»™t cÃ¡ nhÃ¢n kÃ¨m ghi chÃº<a class="hash-link" href="#báº£ng-cháº¥m-cÃ´ng-chi-tiáº¿t-cá»§a-má»™t-cÃ¡-nhÃ¢n-kÃ¨m-ghi-chÃº" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="báº£ng-cháº¥m-cÃ´ng-chi-tiáº¿t-cá»§a-má»™t-nhÃ³m"></a>Báº£ng cháº¥m cÃ´ng chi tiáº¿t cá»§a má»™t nhÃ³m<a class="hash-link" href="#báº£ng-cháº¥m-cÃ´ng-chi-tiáº¿t-cá»§a-má»™t-nhÃ³m" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="báº£ng-lÆ°u-táº¥t-cáº£-cÃ¡c-ghi-chÃº"></a>Báº£ng lÆ°u táº¥t cáº£ cÃ¡c ghi chÃº<a class="hash-link" href="#báº£ng-lÆ°u-táº¥t-cáº£-cÃ¡c-ghi-chÃº" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="báº£ng-lÆ°Æ¡ng"></a>Báº£ng lÆ°Æ¡ng<a class="hash-link" href="#báº£ng-lÆ°Æ¡ng" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="báº£ng-quáº£n-lÃ½-nhÃ¢n-sá»±"></a>Báº£ng quáº£n lÃ½ nhÃ¢n sá»±<a class="hash-link" href="#báº£ng-quáº£n-lÃ½-nhÃ¢n-sá»±" title="Direct link to heading">#</a></h4></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/sysadmin">sysadmin</a></div><div class="col text--right"><a aria-label="Read more about HÆ°á»›ng Dáº«n CÃ i Äáº·t Firmware OpenWRT" href="/blog/huong-dan-cai-dat-firmware-OpenWRT"><strong>Read More</strong></a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_3-lP"><a href="/blog/terminal-screen-cho-sysadmin">Terminal Screen Cho Sysadmin</a></h2><div class="margin-vert--md"><time datetime="2021-03-01T00:00:00.000Z" class="blogPostDate_Ta7i">March 1, 2021  Â· 4 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" target="_blank" rel="noreferrer noopener"><img src="/img/falundafa_avatar.jpg" alt="H6009"></a><div class="avatar__intro"><h4 class="avatar__name"><a target="_blank" rel="noreferrer noopener">H6009</a></h4><small class="avatar__subtitle">Blog Admin</small></div></div></header><section class="markdown"><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Ná»™i dung Ä‘Æ°á»£c tÃ¡c giáº£ tá»•ng há»£p báº±ng kiáº¿n thá»©c háº¡n háº¹p cá»§a báº£n thÃ¢n. Vui lÃ²ng Ä‘á»c tÃ i liá»‡u Ä‘áº§y Ä‘á»§ chÃ­nh thá»©c tá»« trang chá»§.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="giá»›i-thiá»‡u"></a>GIá»šI THIá»†U<a class="hash-link" href="#giá»›i-thiá»‡u" title="Direct link to heading">#</a></h2><p>Äá»ƒ trÃ¡nh viá»‡c giÃ¡n Ä‘oáº¡n trong quÃ¡ trÃ¬nh copy dá»¯ liá»‡u lá»›n nhÆ° cÃºp Ä‘iá»‡n, máº¥t máº¡ng v.v... áº¢nh hÆ°á»Ÿng Ä‘áº¿n quÃ¡ trÃ¬nh copy hoáº·c download. Ta cÃ³ giáº£i phÃ¡i phÃ­a dÆ°á»›i nhÆ° sau:</p><p>Giáº£i phÃ¡p lÃ  sá»­ dá»¥ng <code>Screen</code>, má»™t á»©ng dá»¥ng trÃªn CentOS vÃ  Ubuntu Ä‘á»u cÃ³. Cho phÃ©p báº¡n cháº¡y á»©ng dá»¥ng ngáº§m (attach) phÃ­a bÃªn trong chÆ°Æ¡ng trÃ¬nh <code>Screen</code> mÃ  khÃ´ng cáº§n thÃ´ng qua mÃ¡y báº¡n khi báº¡n thoÃ¡t khá»i <code>screen</code>. Táº¥t nhiÃªn báº¡n cÃ³ thá»ƒ truy cáº­p láº¡i <code>screen</code> (deattach) báº¥t cá»© lÃºc nÃ o, á»Ÿ Ä‘Ã¢u vÃ  trÃªn mÃ¡y tÃ­nh nÃ o má»™t cÃ¡ch dá»… dÃ ng.</p><p><img alt="img" src="/assets/images/linux-screen-command-ce00745b6a81309b9c03a41b97bda4f7.png"></p><p>Äá»ƒ biáº¿t thÃªm thÃ´ng tin chi tiáº¿t, vui lÃ²ng gÃµ dÃ²ng lá»‡nh sau khi Ä‘Ã£ cÃ i Ä‘áº·t screen: <code>man screen</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="cÃ i-Ä‘áº·t"></a>CÃ€I Äáº¶T<a class="hash-link" href="#cÃ i-Ä‘áº·t" title="Direct link to heading">#</a></h2><p>ThÃ´ng thÆ°á»ng, viá»‡c trao Ä‘á»—i dá»¯ liá»‡u lá»›n giá»¯a 2 mÃ¡y chá»§. NÃªn <code>screen</code> sáº½ Ä‘Æ°á»£c cÃ i chá»§ yáº¿u trÃªn má»™t trong hai mÃ¡y chá»§; mÃ¡y mÃ  chÃºng ta gÃµ lá»‡nh vÃ  pháº£i chá» Ä‘á»£i. Cá»¥ thá»ƒ lÃ  sau khi cÃ i Ä‘áº·t xong, thay vÃ¬ báº¡n treo mÃ¡y á»Ÿ Ä‘Ã³ cáº£ ngÃ y. ThÃ¬ báº¡n cÃ³ thá»ƒ dÃ¹ng screen Ä‘á»ƒ áº©n nÃ³ xuá»‘ng gá»i lÃ  <code>attach</code> trÃªn mÃ¡y chá»§ Ä‘Ã³. Äá»ƒ trÃ¡nh viá»‡c laptop cá»§a báº¡n Ä‘ang <code>SSH</code> lÃªn bá»‹ máº¥t káº¿t ná»‘i hoáº·c cÃºp Ä‘iá»‡n v.v...</p><p>Váº­y viá»‡c báº¡n <code>attach</code> báº±ng <code>screen</code> lÃªn mÃ¡y chá»§, sáº½ giÃºp mÃ¡y chá»§ khÃ´ng phá»¥ thuá»™c vÃ o terminal trÃªn mÃ¡y cÃ¡ nhÃ¢n cá»§a báº¡n ná»¯a. Váº­y tÃ³m láº¡i sau khi báº¡n Ä‘Ã£ cháº¡y ngáº§m (attach) lÃªn báº±ng <code>screen</code>, báº¡n khÃ´ng pháº£i lo láº¯ng vá» mÃ¡y tÃ­nh cÃ¡ nhÃ¢n mÃ¬nh xáº£y ra váº¥n Ä‘á» ná»¯a.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="trÃªn-centos"></a>TrÃªn CentOS<a class="hash-link" href="#trÃªn-centos" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">yum update</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">update </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">screen</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="trÃªn-ubuntu"></a>TrÃªn Ubuntu<a class="hash-link" href="#trÃªn-ubuntu" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> update</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">screen</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="sá»­-dá»¥ng"></a>Sá»¬ Dá»¤NG<a class="hash-link" href="#sá»­-dá»¥ng" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="cháº¡y-ngáº§m-vá»›i-screen"></a>CHáº Y NGáº¦M Vá»šI SCREEN<a class="hash-link" href="#cháº¡y-ngáº§m-vá»›i-screen" title="Direct link to heading">#</a></h3><p>Äá»ƒ cháº¡y ngáº§m (attach), trÃªn mÃ n hÃ¬nh terminal, ta gÃµ:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">screen</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Báº¡n sáº½ Ä‘Æ°á»£c Ä‘Æ°a vÃ o terminal má»›i. LÃºc nÃ y, báº¡n cÃ³ thá»ƒ copy dá»¯ liá»‡u, move hoáº·c lÃ m báº¥t cá»© thao tÃ¡c gÃ¬ nhÆ° terminal thÃ´ng thÆ°á»ng. Sau khi báº¡n Ä‘Ã£ lÃ m xong cÃ¡c thao tÃ¡c, Ä‘áº¿n bÆ°á»›c cuá»‘i cÃ¹ng lÃ  chá» Ä‘á»£i quÃ¡ trÃ¬nh copy, download v.v... tiáº¿n trÃ¬nh nÃ y cháº¡y ráº¥t lÃ¢u, thÃ¬ báº¡n cÃ³ thá»ƒ nháº¥n phÃ­m láº§n lÆ°á»£t lÃ :</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Giá»¯ Ctrl</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Báº¥m A</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Báº¥m D</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>CÃ³ nghÄ©a lÃ  chÃºng ta chá»‰ <code>giá»¯ nÃºt Ctrl</code>, khÃ´ng giá»¯ nÃºt &quot;A&quot; vÃ  cÅ©ng khÃ´ng giá»¯ nÃºt &quot;D&quot;, <code>chá»‰ nháº¥n</code> vÃ o thÃ´i.</p><p>Váº­y lÃ  cá»­a sá»• lá»‡nh cá»§a báº¡n Ä‘Ã£ Ä‘Æ°á»£c cháº¡y ngáº§m (attach), vÃ  báº¡n sáº½ Ä‘Æ°á»£c Ä‘Æ°a vá» terminal ban Ä‘áº§u cá»§a mÃ¬nh. LÃºc nÃ y, tiáº¿n trÃ¬nh khÃ´ng cÃ²n phá»¥ thuá»™c vÃ o terminal cá»§a báº¡n ná»¯a.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="báº­t-láº¡i-screen-Ä‘ang-cháº¡y-ngáº§m"></a>Báº¬T Láº I SCREEN ÄANG CHáº Y NGáº¦M<a class="hash-link" href="#báº­t-láº¡i-screen-Ä‘ang-cháº¡y-ngáº§m" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="Ä‘á»‘i-vá»›i-chá»‰-cÃ³-1-screen"></a>Äá»‘i vá»›i chá»‰ cÃ³ 1 screen<a class="hash-link" href="#Ä‘á»‘i-vá»›i-chá»‰-cÃ³-1-screen" title="Direct link to heading">#</a></h4><p>Äá»‘i vá»›i cÃ³ má»™t screen; viá»‡c báº­t láº¡i (deattach); báº¡n chá»‰ cáº§n gÃµ:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">screen -r</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>NÃ³ sáº½ tá»± Ä‘á»™ng báº­t láº¡i (deattach) ngay luÃ´n.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="Ä‘á»‘i-vá»›i-2-hoáº·c-nhiá»u-hÆ¡n-2-screen"></a>Äá»‘i vá»›i 2 hoáº·c nhiá»u hÆ¡n 2 screen<a class="hash-link" href="#Ä‘á»‘i-vá»›i-2-hoáº·c-nhiá»u-hÆ¡n-2-screen" title="Direct link to heading">#</a></h4><p>Äá»‘i vá»›i trÆ°á»ng há»£p nÃ y, khi báº¡n gÃµ:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> screen -r</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Báº¡n sáº½ Ä‘Æ°á»£c gá»£i Ã½ láº¡i <code>cÃ¡c screen</code> mÃ  báº¡n Ä‘Ã£ áº©n Ä‘i. Báº¡n cáº§n pháº£i gÃµ <code>screen -r (mÃ£ cá»§a screen) </code>lÃºc báº¡n áº©n Ä‘i. VÃ­ dá»¥:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> screen -r screen-abc-2021-03-01</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>ThÃ¬ báº¡n sáº½ Ä‘Æ°á»£c Ä‘Æ°a vá» screen Ä‘Ã³. Tuy nhiÃªn náº¿u khÃ´ng Ä‘Ãºng screen báº¡n mong muá»‘n thÃ¬ Ä‘á»«ng lo láº¯ng, vÃ¬ chá»‰ cáº§n thá»±c hiá»‡n giáº¥u Ä‘i láº¡i nhÆ° hÆ°á»›ng dáº«n trÃªn rá»“i gÃµ láº¡i lá»‡nh screen vá»›i mÃ£ khÃ¡c thÃ´i.</p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/sysadmin">sysadmin</a></div><div class="col text--right"><a aria-label="Read more about Terminal Screen Cho Sysadmin" href="/blog/terminal-screen-cho-sysadmin"><strong>Read More</strong></a></div></footer></article></div></main></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Trang</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">TÃ i Liá»‡u HÆ°á»›ng Dáº«n</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog CÃ¡ NhÃ¢n</a></li><li class="footer__item"><a href="#" class="footer__link-item">á»¦ng Há»™ TÃ´i</a></li><li class="footer__item"><a class="footer__link-item" href="/">Trang Chá»§</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">KÃªnh Youtube</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.youtube.com/watch?v=PuS1WhH6qyQ&amp;list=PL9of5PiY1lkfIcEnt2RZ4Fiq0K_JLu3k_" target="_blank" rel="noopener noreferrer" class="footer__link-item">Láº¯ng Äá»™ng ÄÃªm Vá»</a></li><li class="footer__item"><a href="https://www.youtube.com/watch?v=JKBXNUKkSRs&amp;list=PUsSrvUHWzNt7yXWxzOkyjhw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Nháº¡c Äáº¡i PhÃ¡p</a></li><li class="footer__item"><a href="#" class="footer__link-item" target="_blank" rel="noopener noreferrer">KÃªnh Cá»§a TÃ´i</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">LiÃªn Káº¿t</h4><ul class="footer__items"><li class="footer__item"><a href="https://vi.falundafa.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">PhÃ¡p LuÃ¢n CÃ´ng</a></li><li class="footer__item"><a href="https://vn.minghui.org/news/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Minh Huá»‡ Net</a></li><li class="footer__item"><a href="https://tinhhoa.tv/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tinh Hoa TV</a></li><li class="footer__item"><a href="https://etviet.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">The Epoch Times</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 SudoSys, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.f8e4cf8b.js"></script>
<script src="/runtime~main.935ca4d1.js"></script>
<script src="/main.b4cb01c9.js"></script>
<script src="/1.95217654.js"></script>
<script src="/2.d3a79ead.js"></script>
<script src="/6875c492.2d98faf1.js"></script>
<script src="/05423931.d37350a3.js"></script>
<script src="/08948c18.8663d505.js"></script>
<script src="/9212fa2c.431e296f.js"></script>
<script src="/39f3b60d.a0444a26.js"></script>
<script src="/967ce54a.41956c6b.js"></script>
<script src="/754a5f52.0cc23b16.js"></script>
</body>
</html>