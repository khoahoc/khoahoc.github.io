<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="SudoSys.com Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="SudoSys.com Blog Atom Feed"><title data-react-helmet="true">System Architect | SudoSys.com</title><meta data-react-helmet="true" property="og:title" content="System Architect | SudoSys.com"><meta data-react-helmet="true" name="description" content="Do trình độ kỹ thuật hạn hẹp, mong các bạn đọc giả có thể góp ý hoặc đặt câu hỏi thông qua phần Liên Hệ ở trên."><meta data-react-helmet="true" property="og:description" content="Do trình độ kỹ thuật hạn hẹp, mong các bạn đọc giả có thể góp ý hoặc đặt câu hỏi thông qua phần Liên Hệ ở trên."><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/styles.412d942f.css">
<link rel="preload" href="/styles.21c8417a.js" as="script">
<link rel="preload" href="/runtime~main.ced82d51.js" as="script">
<link rel="preload" href="/main.46f641bd.js" as="script">
<link rel="preload" href="/1.7da52d14.js" as="script">
<link rel="preload" href="/2.b2941da6.js" as="script">
<link rel="preload" href="/ccc49370.6bb6f087.js" as="script">
<link rel="preload" href="/94c458fa.2f515f99.js" as="script">
<link rel="preload" href="/a241e524.f6cb6df8.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">SudoSys.com</strong></a><a class="navbar__item navbar__link" href="/docs/">Tài Liệu Hướng Dẫn</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog Cá Nhân</a><a href="#" class="navbar__item navbar__link">Ủng Hộ</a><a href="mailto: cuongpv@sudosys.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Liên Hệ</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/khoahoc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">SudoSys.com</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">Tài Liệu Hướng Dẫn</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">Blog Cá Nhân</a></li><li class="menu__list-item"><a href="#" class="menu__link">Ủng Hộ</a></li><li class="menu__list-item"><a href="mailto: cuongpv@sudosys.com" target="_blank" rel="noopener noreferrer" class="menu__link">Liên Hệ</a></li><li class="menu__list-item"><a href="https://github.com/khoahoc" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--2"><div class="sidebar_SWld thin-scrollbar"><h3 class="sidebarItemTitle_Km2m">Recent posts</h3><ul class="sidebarItemList_3UpA"><li class="sidebarItem_2T0D"><a aria-current="page" class="sidebarItemLink_v5H9 sidebarItemLinkActive_1anX" href="/blog/system-architect">System Architect</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/wifi-provision">Wifi Provision</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/opennds-hoat-dong-nhu-the-nao">OpenNDS Hoạt Động Như Thế Nào</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/huong-dan-cai-dat-firmware-OpenWRT">Hướng Dẫn Cài Đặt Firmware OpenWRT</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/ky-thuat-cham-cong">Kỹ Thuật Chấm Công</a></li></ul></div></div><main class="col col--8"><article><header><h1 class="margin-bottom--sm blogPostTitle_3-lP">System Architect</h1><div class="margin-vert--md"><time datetime="2021-03-10T11:04:12.482Z" class="blogPostDate_Ta7i">March 10, 2021  · 4 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" target="_blank" rel="noreferrer noopener"><img src="/img/falundafa_avatar.jpg" alt="Hacker 6009"></a><div class="avatar__intro"><h4 class="avatar__name"><a target="_blank" rel="noreferrer noopener">Hacker 6009</a></h4><small class="avatar__subtitle">Blog Admin</small></div></div></header><section class="markdown"><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Do trình độ kỹ thuật hạn hẹp, mong các bạn đọc giả có thể góp ý hoặc đặt câu hỏi thông qua phần <code>Liên Hệ</code> ở trên.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="virtual-enviroment"></a>Virtual Enviroment<a class="hash-link" href="#virtual-enviroment" title="Direct link to heading">#</a></h2><p><code>Proxmox - Virtual Environment</code> một nền tảng quản lý ảo hóa máy chủ mã nguồn mở. Đây là bản phân phối Linux dựa trên Debian với nhân Ubuntu LTS đã được sửa đổi và cho phép triển khai và quản lý các máy ảo và vùng chứa.</p><p><em>Xem thông tin chi tiết &amp; document <a href="https://www.proxmox.com/en/" target="_blank" rel="noopener noreferrer">tại đây</a></em></p><p><strong>Tình trạng hiện tại của VZ01</strong></p><ol><li>Chỉ sử dụng ảo hóa Virtual Machine cho tất cả các máy chủ</li><li>1 dây Ethernet số 1 được bridge với internet vmbr0 và vmbr1 là IP <code>10.10.10.1</code> được bridge qua vmbr0.</li><li>Ổ cứng (3,2TB 10K RPM)</li><li>48 x Intel(R) Xeon(R) CPU E5-2678 v3 @ 2.50GHz (2 Sockets)</li><li>190GB RAM</li><li>Kernel Version: Linux 5.4.73-1-pve #1 SMP PVE 5.4.73-1 (Mon, 16 Nov 2020 10:52:16 +0100)</li><li>PVE Manager Version: pve-manager/6.3-2/22f57405</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="lxc-containers"></a>LXC Containers<a class="hash-link" href="#lxc-containers" title="Direct link to heading">#</a></h3><p>Mặc dù <code>Proxmox</code> cung cấp cho chúng ta 2 cơ chế ảo hóa, gồm <code>LXC Container</code> và <code>Virtual Machine</code>. Tuy nhiên, chúng tôi chỉ sử dụng <code>Virtual Machine</code> để đảm bảo hệ thống hoạt động ổn định.</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>Không có kế hoạch sử dụng <code>LXC Container</code></p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="virtual-machine"></a>Virtual Machine<a class="hash-link" href="#virtual-machine" title="Direct link to heading">#</a></h3><p><strong>ID được đặt theo cấu trúc:</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">IP: 10.10.10.[ID]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Subnet: 255.255.255.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Gateway: 10.10.10.1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>ví dụ Virtual Machine có ID là 100 thì ta sẽ có IP là <code>10.10.10.100</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="firewall"></a>Firewall<a class="hash-link" href="#firewall" title="Direct link to heading">#</a></h2><p>Để thuận tiện cho việc automation trong tương lai, đơn giản hóa trong việc cấu hình và tài nguyên. Chúng tôi đã sử dụng <code>Shorewall</code>. Xem chi tiết tại <a href="https://shorewall.org/" target="_blank" rel="noopener noreferrer">trang chủ</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="interface"></a>Interface<a class="hash-link" href="#interface" title="Direct link to heading">#</a></h3><p>Chúng tôi có 3 interfaces:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#ZONE   INTERFACE       OPTIONS</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">net     NET_IF          dhcp,tcpflags,nosmurfs,routefilter,logmartians,sourceroute=0,physical=vmbr0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">loc     LOC_IF          tcpflags,nosmurfs,routefilter,logmartians,physical=vmbr1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">vpn     VPN_IF          tcpflags,nosmurfs,routefilter,logmartians,physical=tun0</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="nat-port"></a>NAT Port<a class="hash-link" href="#nat-port" title="Direct link to heading">#</a></h3><p>Chúng tôi có quy định NAT port như sau:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="đối-với-các-protocol-http"></a>Đối với các Protocol HTTP<a class="hash-link" href="#đối-với-các-protocol-http" title="Direct link to heading">#</a></h4><p>Đối với HTTP/HTTPS, mô hình không sử dụng NAT. Mà sử dụng Domain Resolved, vui lòng xem phần <code>Domain Resolved</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="đối-với-protocal--httphttps"></a>Đối với Protocal != HTTP/HTTPS<a class="hash-link" href="#đối-với-protocal--httphttps" title="Direct link to heading">#</a></h4><p><strong>Port &gt; 100</strong></p><p>Luôn ưu tiên NAT Port mặc định của protocol nếu chỉ có một máy chủ trong hệ thống sử dụng port này.</p><p>Ví dụ email server, có POP3 và SMTP. Vui lòng NAT Port mặc định vào Protocol đó của Virtual Machine.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">DNAT            net             loc:10.10.10.100:465     tcp     465</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Trường hợp không phải port mặc định của máy chủ, vui lòng ghi chú thêm vào bản ghi của Shorewall</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">DNAT            net             loc:10.10.10.100:41010     tcp     1338 # MQTT protocol</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>Port &lt; 100</strong>
Có quy tắc sau:</p><p>Đa số port &lt; 100 thường là các port được tất cả hầu hết Virtual Machine sử dụng, nên ta có quy tắc sau:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[ID][PORT]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>ví dụ VM có ID là <code>100</code> thì ta sẽ NAT Port <code>10022</code> cho port 22 (SSH Protocol) như ví dụ phía dưới.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># VM100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">DNAT            net             loc:10.10.10.100:22     tcp     10022</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="anti-ddos"></a>Anti DDoS<a class="hash-link" href="#anti-ddos" title="Direct link to heading">#</a></h3><ol><li>Mail Server được sử dụng <code>CSF</code> của Direct Admin.</li><li>Proxmox Server sử dụng <code>fail2ban</code> bảo vệ.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="domain-resolved"></a>Domain Resolved<a class="hash-link" href="#domain-resolved" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="cách-hoạt-động"></a>Cách Hoạt Động<a class="hash-link" href="#cách-hoạt-động" title="Direct link to heading">#</a></h3><p>Tất cả các Request HTTP/HTTPS đều được đưa qua Nginx xử lý trước khi đưa vào máy chủ Virtual Machine bên trong. Ví dụ:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">server {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        server_name devops.sudosys.com;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        location / {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_pass             http://10.10.10.199:5678$request_uri;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_set_header X-Real-IP $remote_addr;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_set_header Host $http_host;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_http_version 1.1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_set_header Upgrade $http_upgrade;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_set_header Connection &quot;upgrade&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_buffering off;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                client_max_body_size 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_connect_timeout  3600s;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_read_timeout  3600s;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                proxy_send_timeout  3600s;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                send_timeout  3600s;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    listen 443 ssl; # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">server {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if ($host = devops.sudosys.com) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return 301 https://$host$request_uri;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    } # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        listen 80;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        listen [::]:80;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        server_name devops.sudosys.com;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return 404; # managed by Certbot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ssl-renewal"></a>SSL Renewal<a class="hash-link" href="#ssl-renewal" title="Direct link to heading">#</a></h3><p>Chúng tôi sử dụng <code>certbot</code> để kích hoạt SSL tự động. Xem document chính <a href="https://certbot.eff.org/" target="_blank" rel="noopener noreferrer">tại đây</a></p><p>Để thao tác với SSL của Nginx, bạn có thể sử dụng lệnh:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">certbot --nginx -d devops.sudosys.com</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="monitoring"></a>Monitoring<a class="hash-link" href="#monitoring" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="prometheus"></a>Prometheus<a class="hash-link" href="#prometheus" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="các-exporters"></a>Các Exporters<a class="hash-link" href="#các-exporters" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="grafana"></a>Grafana<a class="hash-link" href="#grafana" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="alert-manager"></a>Alert Manager<a class="hash-link" href="#alert-manager" title="Direct link to heading">#</a></h3><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="operation-executed"></a>Operation Executed<a class="hash-link" href="#operation-executed" title="Direct link to heading">#</a></h2><ol><li><p>Các yêu cầu thực hiện thay đỗi hệ thống đều được lập trình và thể hiện qua UI của Cloud Portal có phân quyền.</p></li><li><p>Yêu cầu của cấp dưới có thể được thực thi ngay hoặc phải được duyệt qua Slack</p></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="công-nghệ-sử-dụng"></a>Công Nghệ Sử Dụng<a class="hash-link" href="#công-nghệ-sử-dụng" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="slack"></a>Slack<a class="hash-link" href="#slack" title="Direct link to heading">#</a></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="front-end"></a>Front-end<a class="hash-link" href="#front-end" title="Direct link to heading">#</a></h4><ul><li>Bootstrap</li><li>Codeingiter</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="back-end"></a>Back-end<a class="hash-link" href="#back-end" title="Direct link to heading">#</a></h4><ul><li>Strapi</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="data-backup"></a>Data Backup<a class="hash-link" href="#data-backup" title="Direct link to heading">#</a></h2><ul><li>Backup duy nhất tầng Application</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="high-available"></a>High Available<a class="hash-link" href="#high-available" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="nginx"></a>Nginx<a class="hash-link" href="#nginx" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="các-backend-quan-trọng"></a>Các Backend Quan Trọng<a class="hash-link" href="#các-backend-quan-trọng" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="database"></a>Database<a class="hash-link" href="#database" title="Direct link to heading">#</a></h3><p>Cân bằng tải và Failover</p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/sysadmin">sysadmin</a></div></footer></article><div><a href="https://github.com/khoahoc/blog/edit/master/blog/21021-03-08-system-architect.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/wifi-provision"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Wifi Provision »</div></a></div></nav></div></main><div class="col col--2"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#virtual-enviroment" class="table-of-contents__link">Virtual Enviroment</a><ul><li><a href="#lxc-containers" class="table-of-contents__link">LXC Containers</a></li><li><a href="#virtual-machine" class="table-of-contents__link">Virtual Machine</a></li></ul></li><li><a href="#firewall" class="table-of-contents__link">Firewall</a><ul><li><a href="#interface" class="table-of-contents__link">Interface</a></li><li><a href="#nat-port" class="table-of-contents__link">NAT Port</a></li><li><a href="#anti-ddos" class="table-of-contents__link">Anti DDoS</a></li></ul></li><li><a href="#domain-resolved" class="table-of-contents__link">Domain Resolved</a><ul><li><a href="#cách-hoạt-động" class="table-of-contents__link">Cách Hoạt Động</a></li><li><a href="#ssl-renewal" class="table-of-contents__link">SSL Renewal</a></li></ul></li><li><a href="#monitoring" class="table-of-contents__link">Monitoring</a><ul><li><a href="#prometheus" class="table-of-contents__link">Prometheus</a></li><li><a href="#các-exporters" class="table-of-contents__link">Các Exporters</a></li><li><a href="#grafana" class="table-of-contents__link">Grafana</a></li><li><a href="#alert-manager" class="table-of-contents__link">Alert Manager</a></li></ul></li><li><a href="#operation-executed" class="table-of-contents__link">Operation Executed</a><ul><li><a href="#công-nghệ-sử-dụng" class="table-of-contents__link">Công Nghệ Sử Dụng</a></li></ul></li><li><a href="#data-backup" class="table-of-contents__link">Data Backup</a></li><li><a href="#high-available" class="table-of-contents__link">High Available</a><ul><li><a href="#nginx" class="table-of-contents__link">Nginx</a></li><li><a href="#các-backend-quan-trọng" class="table-of-contents__link">Các Backend Quan Trọng</a></li><li><a href="#database" class="table-of-contents__link">Database</a></li></ul></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Trang</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Tài Liệu Hướng Dẫn</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog Cá Nhân</a></li><li class="footer__item"><a href="#" class="footer__link-item">Ủng Hộ Tôi</a></li><li class="footer__item"><a class="footer__link-item" href="/">Trang Chủ</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Kênh Youtube</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.youtube.com/watch?v=PuS1WhH6qyQ&amp;list=PL9of5PiY1lkfIcEnt2RZ4Fiq0K_JLu3k_" target="_blank" rel="noopener noreferrer" class="footer__link-item">Lắng Động Đêm Về</a></li><li class="footer__item"><a href="https://www.youtube.com/watch?v=JKBXNUKkSRs&amp;list=PUsSrvUHWzNt7yXWxzOkyjhw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Nhạc Đại Pháp</a></li><li class="footer__item"><a href="#" class="footer__link-item" target="_blank" rel="noopener noreferrer">Kênh Của Tôi</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Liên Kết</h4><ul class="footer__items"><li class="footer__item"><a href="https://vi.falundafa.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Pháp Luân Công</a></li><li class="footer__item"><a href="https://vn.minghui.org/news/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Minh Huệ Net</a></li><li class="footer__item"><a href="https://tinhhoa.tv/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tinh Hoa TV</a></li><li class="footer__item"><a href="https://etviet.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">The Epoch Times</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 SudoSys, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.21c8417a.js"></script>
<script src="/runtime~main.ced82d51.js"></script>
<script src="/main.46f641bd.js"></script>
<script src="/1.7da52d14.js"></script>
<script src="/2.b2941da6.js"></script>
<script src="/ccc49370.6bb6f087.js"></script>
<script src="/94c458fa.2f515f99.js"></script>
<script src="/a241e524.f6cb6df8.js"></script>
</body>
</html>